[07:30:34] <toddparker> Awesome work on the nav stuff Kin!
[07:31:29] <toddparker> I just bumped issue #1640 up to a blocker. https://github.com/jquery/jquery-mobile/issues/1640#comment_1203104
[07:31:54] <toddparker> This looks nav related, but maybe someone can take a look and see what need to be tweaked, maybe Kin can land it
[07:44:59] <StevenBlack> When was http://code.jquery.com/mobile/1.0b1pre/jquery.mobile-1.0b1pre.min.js generated?  It's what's used in ?docs#m1663
[07:45:00] <bot-t> [#1663] horizontally moving the page on the Ipad (open) - https://github.com/jquery/jquery-mobile/issues/1663
[07:46:17] <StevenBlack> What's the story on version 1.0b1pre ?  I must have missed a blog post or something.
[07:47:12] <scottjehl> nothing new
[07:47:21] <scottjehl> we just never updated the version when a4.1 went out
[07:47:30] <scottjehl> I noticed it and updated it
[07:47:46] <StevenBlack> Updated just now you mean?
[07:48:28] <StevenBlack> Nevermind I'm going to recommend the user move to nightlies.
[07:48:57] <StevenBlack> The nomenclature there is fucked up.  Normally a pre-beta comes after alpha, no?
[07:52:41] <scottjehl> yes. We're working on beta right now
[07:53:21] <scottjehl> have been for a month
[07:53:25] <toddparker> exactly
[07:53:40] <toddparker> i'm going to mention that we're heading to beta 1 in this week's blog post
[07:53:50] <StevenBlack> Sorry Scott, that's still not clear.  Are we systematically updating jquery.mobile-1.0b1pre.min.js or not?
[07:53:50] <toddparker> still think we should shoot for the end of the month
[07:54:26] <toddparker> now that kin landed the first nav installment, i think if we get the URL stuff tidied up that may be enough for beta 1
[07:54:26] <scottjehl> this is the same thing we've done after each release. We were just late to update the version this time
[07:54:52] <StevenBlack> Well, first we need to move nav into master and bang on it.  A lot.
[07:54:59] <scottjehl> a1 was tagged, version in master changed to a2pre
[07:55:00] <scottjehl> etc
[07:55:10] <StevenBlack> a2pre?
[07:55:45] <StevenBlack> In practical terms, all I'm asking is, again, are we systematically updating jquery.mobile-1.0b1pre.min.js or not?
[07:55:50] <scottjehl> yeah that's what alpha 2 was called before we released it
[07:56:25] * StevenBlack can't get a straight answer to simple questions today.
[07:56:33] <toddparker> ?
[07:56:42] <StevenBlack> are we systematically updating jquery.mobile-1.0b1pre.min.js or not?
[07:56:57] <toddparker> all the work we've been doing since we shipped a4.1 has been for the first beta
[07:57:00] <StevenBlack> systematically === ! ad-hoc
[07:57:16] <toddparker> so it makes sense that the version in trunk is b1
[07:57:20] <toddparker> pre b1
[07:57:32] <StevenBlack> Argh!
[07:57:43] <StevenBlack> The user has an issue.
[07:57:56] <toddparker> stevenblack, what are you asking for here?
[07:58:21] <StevenBlack> His issue is with a build that generates a file named jquery.mobile-1.0b1pre.min.js
[07:58:26] <StevenBlack> WTF is that?
[07:58:53] <toddparker> ...so what should it say?
[07:59:27] <StevenBlack> If it's recent it would have eddiemonge's comment in the header that tells us its build provenance.
[07:59:36] <StevenBlack> It doesn't have that provenance comment.
[07:59:44] <StevenBlack> So I'm asking: WTF is this?
[08:00:10] <StevenBlack> Is it 2-days old, 10-days old, 30 days old, what?
[08:00:36] <StevenBlack> Is it a systematic build or is it ad-hoc?  Nobody seems to know.
[08:01:07] <StevenBlack> Here we are ramping-up to a beta and there is no contol.
[08:01:19] <toddparker> so what is the control?
[08:01:35] <StevenBlack> Exactly.  Even you don't know.
[08:01:43] <toddparker> i'm asking for a clear suggestion of what you'd like to see.
[08:01:46] <scottjehl> guys this is not productive
[08:01:54] <toddparker> i get that you have criticisms
[08:02:10] <toddparker> ...what would you suggest as a solution
[08:02:17] <scottjehl> Steven, our version changes each time we release. We forgot to update it until yesterday this time. What's the issue?
[08:02:22] <StevenBlack> Recent builds all have a comment on line 2 that says:  * Git Info SHA1: 75c7ba14476aa4f19e207b82067f0cd150dafff6 Date: Wed May 18 18:06:03 2011 -0700
[08:02:41] <StevenBlack> So even yesterday's update is mussed up.
[08:03:09] <toddparker> so is this an issue with the build script of the version.txt?
[08:03:36] <StevenBlack> Who knows because there is no control.
[08:03:40] <toddparker> i think this will be a more productive conversation when eddie and kin are on at a minimum
[08:04:13] <scottjehl> back in a while
[08:04:13] <StevenBlack> Look, I'm the one triaging the issue.  The file being called by the user is http://code.jquery.com/mobile/1.0b1pre/jquery.mobile-1.0b1pre.min.js
[08:04:22] <StevenBlack> Why are we serving that shit?
[08:05:17] <scottjehl> what? a nightly with the recent version in its name
[08:05:22] <scottjehl> ?
[08:05:38] <StevenBlack> It can't be a nightly.  There's no comment in the header.
[08:05:45] <scottjehl> what's the "shit"? please just help me out here
[08:06:01] <scottjehl> ok so - there's a problem in the build script then?
[08:06:17] <StevenBlack> We're evidently serving really stale files to the test community.
[08:06:36] <scottjehl> ok - build script issue then, no?
[08:06:36] <StevenBlack> This wastes their time and my time and, in this instance, everyone's time right now.
[08:06:44] <StevenBlack> I don't know.
[08:06:52] <StevenBlack> This is what I'm asking.
[08:07:17] <scottjehl> the tone here needs to come down a few notches. if I may
[08:07:32] <StevenBlack> It's a simple question.
[08:07:36] <scottjehl> we'll get ahold of Eddie when he's available
[08:07:47] <scottjehl> please spell out the issue for him and we'll work it out
[08:07:55] <StevenBlack> The frustration comes from terse unclear answers --- see above.
[08:08:44] <StevenBlack> "I noticed it and updated it" from you Scott, which raises more questions than answers and sidetracked this whole thing.
[08:09:04] <StevenBlack> I asked for clarification and didn't get it.
[08:09:24] <StevenBlack> So this is where we end-up.
[08:09:37] <scottjehl> as far as I could tell, I was asked why the version changed to beta 1 pre
[08:09:38] <toddparker> ok, let's cool it all
[08:09:42] <scottjehl> I answered
[08:10:02] <scottjehl> if there's a ripple from that change, and how it goes out to build, let's chat with Eddie
[08:10:05] <scottjehl> sound good?
[08:10:17] <StevenBlack> I suppose.
[08:10:30] <toddparker> stevenblack - scott wasn't trying to be terse, he was just trying to answer your q
[08:10:58] <toddparker> irc is a medium where things can get misunderstood because of tone
[08:11:17] <toddparker> i just ask the that we keep this chill and friendly. no need for drama
[08:11:28] <StevenBlack> I still say: we're serving shit here: http://code.jquery.com/mobile/1.0b1pre/jquery.mobile-1.0b1pre.min.js  Let's fix that please.
[08:11:59] <toddparker> stevenblack - can you please outline your questions re: the build scripts for eddie and we'll get an answer when he's on
[08:12:52] <toddparker> let's no start the same conversation all over. we need more people on to work thru this
[08:13:24] <StevenBlack> Question 1: What's the ontology here?  If I read correctly previously, b1pre is *prior* to A4?
[08:14:11] <toddparker> ...why do you read it that way?
[08:14:16] <scottjehl> um no. beta 1.0 pre
[08:14:45] <scottjehl> same ontology we've used since alpha 1.0 pre
[08:15:12] <toddparker> when the version is ready, we remove the pre and that's the version that goes out
[08:15:22] <StevenBlack> Sorry, I wasn't around for alpha 1.0 pre.
[08:15:34] <scottjehl> same with a2, a3, a4
[08:16:16] <scottjehl> what would you prefer here? I'm not getting the problem with the file name
[08:16:19] <StevenBlack> ?tell eddiemonge: the build for http://code.jquery.com/mobile/1.0b1pre/jquery.mobile-1.0b1pre.min.js appears to be out of date; not seeing the build comment in the header.
[08:16:20] <bot-t> StevenBlack, Okay.
[08:17:03] <scottjehl> thanks, that seems to be it then
[08:17:04] <StevenBlack> scottjehl: We have huge issues with file names since, despite appearances, the name has no connection with the version.
[08:17:48] <StevenBlack> User can pull from git, make, and what he gets is the file name we picked 6-weeks ago with the latest code inside.
[08:19:05] <scottjehl> ok, sounds like a build issue then. Thanks for notifying us
[08:20:44] <StevenBlack> still doesn't know if code from http://code.jquery.com/mobile/1.0b1pre/ is systematically updated, or ad-hock.
[08:25:00] <StevenBlack> ================
[08:26:16] <StevenBlack> What's the plan for getting Kin's navigation branch into the wild?  I played with the branch for a good while last night and saw no issues -- using just the demos.
[08:26:27] <StevenBlack> Seems pretty solid.
[08:27:48] <scottjehl> I'm planning to pull down and play with that now
[08:28:22] <StevenBlack> ============
[08:28:30] <StevenBlack> Worth a look:  ?docs#m1659
[08:28:32] <bot-t> [#1659] $.mobile.pageloading(false) doubles time to render listview (open) - https://github.com/jquery/jquery-mobile/issues/1659
[08:28:42] <toddparker> yeah that is odd
[08:28:57] <toddparker> want to take a look at that stevenblack?
[08:29:06] <scottjehl> fading it in and out is not very important imo
[08:29:31] * StevenBlack has no applicable device to test that on.
[08:31:20] <toddparker> ah, ok
[08:32:03] <toddparker> so stevenblack, i think i understand your confusion
[08:32:25] <toddparker> the "demos & Docs" link in the jQM site was pointing to the beta1pre
[08:32:27] <toddparker> http://jquerymobile.com/
[08:32:36] <toddparker> That was something eddit changed last night
[08:32:52] <toddparker> i just changed this to point to a4.1
[08:33:06] <toddparker> as it should be
[08:33:23] <toddparker> i can see confusion there
[08:38:10] <StevenBlack> toddparker: Thanks!  I just noticed something else that's odd: I'm not seeing a "b1pre" tag in https://github.com/jquery/jquery-mobile
[08:38:55] <scottjehl> there will never be a tag for it
[08:39:02] <scottjehl> it'll be beta1
[08:39:08] <scottjehl> this is a temp state
[08:39:10] <StevenBlack> k.
[08:45:04] <scottjehl> hey Kin
[08:45:09] <scottjehl> looking through nav js now
[08:45:17] * scottjehl tips hat
[08:46:29] <scottjehl> some small code style stuff here and there we could update. It's probably old - single quotes, stuff like that
[08:46:34] <scottjehl> worry about that later on
[08:46:35] <scottjehl> ?
[08:50:35] <scottjehl> this is looking really nice
[08:51:21] <scottjehl> also finding it easy to orient myself based on what we had before, since the functions are generally the same names and such
[08:52:56] <StevenBlack> Next step in nav, if not already done: Defer-out the success and error callbacks in the $.ajax call.
[08:53:10] <scottjehl> sounds good
[08:53:30] <StevenBlack> Then we can potentially atomicize the success callback into individual mutable tasks.
[08:53:37] <kinblas> I was trying not to re-write stuff, just re-factor/re-organize
[08:53:49] <scottjehl> ah okay so it looks like the cache busting addition is in there though?
[08:53:53] <scottjehl> data-cache
[08:54:07] <kinblas> regarding the ajax deferred
[08:54:26] <kinblas> I was going to do that, but was hesitant because I didn't see any immediate value
[08:54:55] <kinblas> the deffered callback signature is different from what I was doing in the normal cached case
[08:55:03] <kinblas> and err'd on the side of consistency
[08:55:23] <StevenBlack> Deferred changes scoping too, which could be tricky.
[08:55:33] <scottjehl> oh sorry yeah okay. This is just the previous check for duplicate pages
[08:55:40] <kinblas> but yeah, the goal here was to re-factor to lay the ground work so we now have clear partitions
[08:55:50] <scottjehl> I thought I was seeing the data-cache=false dealio
[08:55:57] <scottjehl> not yet I think, right?
[08:55:58] <kinblas> so we can start identifying places where we can re-factor things like loading HTML versus loading JSON
[08:56:11] <kinblas> scottjehl: that was wishful reading :-)
[08:56:18] <kinblas> not there
[08:56:19] <scottjehl> easy addition
[08:56:22] <kinblas> yeah
[08:56:24] <scottjehl> later
[08:56:42] <StevenBlack> kinblas: can I suggest for starters that success and error callbacks call functions, as opposed to being inline code as it is now?
[08:56:50] <kinblas> also now that we use options the tablet dude doesn't have to hack our navigation code
[08:56:56] <kinblas> and can modify things from the outside
[08:57:18] <kinblas> StevenBlack: heh yeah, I was thinking about that too
[08:57:32] <StevenBlack> Much sweetness that way lies.
[08:57:36] <kinblas> I really don't like declaring giant anonymous functions
[08:57:54] * kinblas notes he's old school
[08:59:32] <StevenBlack> I'd like to see nav 2.0 get a good smoke-testing soon.  The sooner it goes into nighlies the better.
[09:01:18] <toddparker> i agree
[09:01:41] <scottjehl> yeah. so Kin have you done much form testing with it?
[09:01:57] <toddparker> if we can clean up any little things and push to master, all these features and improvements can all be worked on in parallel
[09:03:00] <scottjehl> ...and did you want help on that error in the test suite?
[09:03:08] <scottjehl> or are you working on that now?
[09:04:22] <scottjehl> looks like we need to add some test coverage for changePage calls that include form data
[09:05:28] <scottjehl> I like the new changePage signature btw
[09:05:55] <scottjehl> should we offer a monkeypatch (externally in a gist or something) for those calling changePage with args currently?
[09:13:57] <kinblas> sorry was on a phone call
[09:13:59] <kinblas> back now
[09:14:14] <kinblas> scottjehl: I played with the forms pages
[09:14:34] <kinblas> things work fine ... I don't expect anything different because we are still loading things exactly the same way
[09:15:09] <kinblas> the only difference from before is that things were packaged in an object, and we were using a special forms flag to tell if we should use any cached element or refresh
[09:15:26] <kinblas> now we have a generic reloadPage flag, which gets set from the submit callback when calling changePage()
[09:15:57] <scottjehl> is that for making sure same-page submits refresh, or what?
[09:16:54] <kinblas> yeah the original code *always* did a refresh for a form submit
[09:17:08] <scottjehl> right. that's good, no?
[09:17:17] <kinblas> so I simply moved that decision *OUT* of changePage and into the form submit code where the decision should be made
[09:17:20] <scottjehl> or did you make that configurable now ?
[09:17:35] <kinblas> oh it's configurable now, anything calling changePage can make that decision
[09:17:38] <kinblas> not just form submits
[09:17:49] <scottjehl> k
[09:17:55] <scottjehl> yep, digging this
[09:18:08] <kinblas> I should say anything calling loadPage() has that option
[09:18:15] <scottjehl> so you're working on the error I guess?
[09:18:21] <kinblas> changePage() calls loadPage() if it is handed an URL instead of an element
[09:18:30] <scottjehl> and what of the monkeypatch idea - important?
[09:18:39] <kinblas> scottjehl: yeah ... the error seems to be that when the test is run, there is nothing on the urlStack
[09:18:42] <scottjehl> makes sense
[09:19:02] <kinblas> yeah we can provide a monkey patch ... I dont want to leave crufty code around
[09:19:14] <kinblas> we might forget or get stuck with it
[09:19:16] <kinblas> :-)
[09:19:34] <kinblas> other things to note ... there are 2 transition config properties now
[09:19:37] <kinblas> one for dialog and one for pages
[09:19:54] <kinblas> I got rid of the hardcoded "pop" for dialogs
[09:20:01] <kinblas> so folks can now specify their own default
[09:21:17] <scottjehl> sounds good
[09:21:34] <scottjehl> btw, we've got a bunch of cruft in here scheduled for removal
[09:21:44] <scottjehl> all the TODO deprecated vars
[09:21:52] <scottjehl> want to remove before or after merge?
[09:23:07] <kinblas> lets try to get this thing ship ready
[09:23:18] <scottjehl> k. so that error's the blocker then eh?
[09:23:24] <kinblas> I know we're gong into beta, but I want folks playing with code we're going to ship
[09:23:29] <kinblas> yeah
[09:23:38] <kinblas> like I said I can't repro that error in normal usage
[09:23:57] <toddparker> maybe _nickel could help us figure out that test issue?
[09:23:58] <kinblas> I need to talk to John about how the nav tests work ... for example does each test rely on setup from the previous one
[09:24:11] <kinblas> yeah
[09:26:52] <scottjehl> umm... sometimes there's cruft from a prev test yeah
[09:27:00] <scottjehl> I've tried to make each test independent
[09:27:08] <scottjehl> some still probably need help
[09:27:16] <scottjehl> we can probably fix this one though, right?
[09:27:21] <scottjehl> have you dug into it?
[09:27:23] <kinblas> yeah
[09:27:40] <kinblas> I know what's causing the error, or the symptom
[09:27:43] <kinblas> not sure why its happening
[09:27:48] <kinblas> something is clearing the entire stack
[09:28:05] <scottjehl> i see
[09:28:08] <kinblas> I believe the intital (first page) should *ALWAYS* be on the stack
[09:28:09] <kinblas> right?
[09:28:31] <kinblas> one of the things I cleaned up
[09:28:36] <kinblas> was the fact that we tucked away
[09:28:46] <kinblas> urlHistory.getActive()
[09:28:52] <kinblas> in an active variable
[09:28:52] <scottjehl> findClosestLink()
[09:29:00] <kinblas> but in several places we still called urlHistory.getActive()
[09:29:05] <scottjehl> this is a perf improvement over closest() I'm guessing?
[09:29:16] <kinblas> eh?
[09:29:29] <kinblas> which line?
[09:29:38] <scottjehl> var link = findClosestLink( event.target );
[09:29:55] <scottjehl> as opposed to $(event.target).closest("a")
[09:29:58] <kinblas> The old live() was killing us performanc ewise
[09:30:12] <kinblas> if we know exactly what we're looking for we should just use bind and look for it
[09:30:19] <kinblas> skips all the sizzle stuff
[09:30:26] <kinblas> and extra function call overhead
[09:30:31] <scottjehl> k
[09:30:35] <scottjehl> that's what I was asking
[09:31:05] <kinblas> live is convenient, but has some perf trade-off which we can't pay in code that is constantly called
[09:31:28] <kinblas> the one that was really killing us was all the live stuff in button markup
[09:31:49] <scottjehl> k so form is still using live
[09:31:51] <kinblas> that's what was killing our scroll performance
[09:32:01] <scottjehl> k
[09:32:03] <kinblas> yeah but we don't submit very often ;-)
[09:32:10] <kinblas> mouse/touch events
[09:32:12] <kinblas> happen regularly
[09:32:15] <kinblas> and *many* times
[09:33:17] <scottjehl> sounds good
[09:34:19] <kinblas> so that should be one of our coding guide lines ... avoid live if possible
[09:36:42] <scottjehl> sure
[09:36:45] <scottjehl> sounds good
[09:36:46] <scottjehl> k brb
[09:44:41] <kinblas> toddparker: good call on 1664
[09:47:44] <kinblas> StevenBlack: I'm not sure if you noticed, but on the navigation branch I shuffled the code around so that the urlStack and activePage is all set prior to the transitions firing
[09:47:54] <kinblas> that's what you were asking for right?
[10:23:33] <StevenBlack> kinblas: yes, more or less.  The main thing is for pagebeforeshow to trigger when the state is completely set, and consistent, with the new page.
[10:24:14] <toddparker> kinblas - did you see that guy posted a link https://github.com/jquery/jquery-mobile/issues/1640#comment_1204845
[10:24:28] <toddparker> hard b/c it's a whole app, not a simple test case
[10:26:30] <StevenBlack> ?m1644
[10:26:31] <bot-t> [#1644] Exclude BB5, Opera Mini and Symbian S60 from Ajax nav (open, 6 - Blocker) - https://github.com/jquery/jquery-mobile/issues/1644
[10:30:24] <kinblas> toddparker: ugh, they are using the minified version
[10:30:45] <kinblas> I think I can just try to see the URL setup and recreate locally
[10:32:56] <toddparker> ah, right.
[10:33:16] <toddparker> scottjehl is working on 1644
[11:09:12] <toddparker> hey eddiemonge!
[11:09:23] <toddparker> we had some q's about the build...
[11:09:24] <eddiemonge> hi
[11:09:24] <bot-t> (2 hours 53 mins ago) <StevenBlack> tell eddiemonge: the build for http://code.jquery.com/mobile/1.0b1pre/jquery.mobile-1.0b1pre.min.js appears to be out of date; not seeing the build comment in the header.
[11:09:37] <toddparker> yeah that :)
[11:09:42] <toddparker> thanks bot-t
[11:09:42] <bot-t> toddparker, I'm a bot you know..
[11:09:59] <toddparker> bot-t, i know. i like talking to scripts
[11:10:01] <eddiemonge> so for non-deploy makes it will have the git info
[11:10:02] <bot-t> toddparker, #6307 (jQuery .load() does not execute scripts when called with a ... - Opened 14 months ago http://bugs.jquery.com/ticket/6307
[11:10:46] <eddiemonge> deploy releases should be the "stable" release milestones and would just need the version.
[11:10:52] <eddiemonge> or at least thats how it works in core, i think
[11:10:53] <toddparker> hey _nickel
[11:10:59] <toddparker> gangs all here
[11:11:22] <toddparker> hey _nickel, we had one snag with the nav tests maybe you could help kinblas with...
[11:12:09] <kinblas> toddparker: I think I see what the difference is ... but I guess what I'm wondering is if the first item on the stack has to have no URL associated with it?
[11:13:02] <kinblas> I noticed we don't use a URL for the stack entry if changePage is called with an element in the original code
[11:13:18] <kinblas> one of the changes I made was that we always set a URL
[11:13:57] <toddparker> dunno...scottjehl?
[11:14:54] <scottjehl> yeah I had detection in there to make a guess at the "first" page
[11:15:04] <scottjehl> otherwise you end up creating a duplicate history entry on load
[11:15:13] <scottjehl> #home
[11:15:16] <scottjehl> or whatever
[11:21:39] <kinblas> ok so that's probably what the bug is
[11:21:55] * kinblas grumbles about the important details folks leave out of their issues
[11:25:36] <toddparker> "this is broken, pls fix today"
[11:26:35] <scottjehl> wait so we're adding that now?
[11:26:50] <scottjehl> I'd vote to not to do that if we can swing it
[11:28:48] <scottjehl> if the logic from before is still easy to implement, that seems cleaner from a history perspective
[11:33:38] <kinblas> ok let me see if there's code specifically to block the removal of an entry with ""
[11:33:57] <kinblas> I guess its ok to assume we never prune the first item on the stack?
[11:44:51] <eddiemonge> toddparker: so whats going on with the build/demo?
[12:01:10] <scottjehl> right
[12:05:43] <StevenBlack> kinblas: +1 to "guess its ok to assume we never prune the first item on the stack"  -- I'm making that assumption in the default behaviour of the DOM page zapper.
[12:09:50] <StevenBlack> ======
[12:09:52] <StevenBlack> kinblas: wondering if we might gently deprecate $.mobile.pageLoading() as opposed to suddenly ripping it out.
[12:10:41] <scottjehl> wait what?
[12:10:48] <scottjehl> why deprecate the loading message?
[12:10:55] <StevenBlack> It's renamed.
[12:10:58] <scottjehl> oh ok
[12:11:13] <scottjehl> not the functionality, but the name
[12:11:19] <scottjehl> right on
[12:11:45] <StevenBlack> We could gently forward the call for a time.
[12:12:34] <StevenBlack> Make that pageloading garish red, gently prompt to switch as opposed to taking flak.
[12:12:38] <eddiemonge> eventually it will have to be ripped out anyway, might as well do it now and put it in the release notes. this is still alpha after all
[12:13:10] <StevenBlack> The folks who travel with us along the alpha path are very valuable.
[12:13:33] <scottjehl> yep. we generally deprecate for a release
[12:14:27] <StevenBlack> This is a 5-minute fix for us.  If we don't we'll spend 5-hours re-explaining it and the user's exasperation WILL be heard.
[12:15:33] <eddiemonge> you mean like with core 1.6?
[12:16:05] <StevenBlack> And before that a bunch of things in jQuery-UI...
[12:18:05] <StevenBlack> I seem to recall beforeChange becoming beforechange, breaking every tabs installed all over the planet.  It's cheaper to re-route the call than it is to tax every developer.  We want these guys to snap-in Beta 1 and have them test what's new, not whine about what we intentionally broke.
[12:18:19] <toddparker> yeah, let's deprecate it for beta 1 but only remove it for beta 2
[12:18:41] <toddparker> we've done that for every other change
[12:19:16] <toddparker> so kinblas, you'll write the forwarder to keep this from breaking?
[12:19:56] <toddparker> we've had requests to make this text configurable on the fly so you could have more contextual messages...how hard is that to do?
[12:19:59] <StevenBlack> kinblas: how about you keep flying and I'll make a list we can punch all at once.
[12:20:25] <StevenBlack> It's configurable now, no?
[12:20:47] <toddparker> yep, globally
[12:20:52] <StevenBlack> $.mobile.loadingMessage
[12:21:08] <StevenBlack> Ah.
[12:21:14] <toddparker> but someone asked about changing this message when you transition this page
[12:21:22] <toddparker> not a biggie, but curious
[12:21:37] <toddparker> stevenblack - can you summarize what eddiemonge needs to know about the build issues?
[12:22:29] <StevenBlack> eddiemonge: the code we are dishing here has no build sha/timestamp so thinking this one fell through the cracks?  http://code.jquery.com/mobile/1.0b1pre/jquery.mobile-1.0b1pre.min.js
[12:22:52] <eddiemonge> thats intentional
[12:23:04] <eddiemonge> so for non-deploy makes it will have the git info
[12:23:05] <StevenBlack> toddparker: the error message is currently hard-coded as well.
[12:23:11] <eddiemonge> deploy releases should be the "stable" release milestones and would just need the version.
[12:23:21] <eddiemonge> sinec those should be tags in github
[12:23:51] <StevenBlack> Our problem: we're getting issues logged and we have no idea what the user is running in his fiddle or pastie.
[12:24:05] <StevenBlack> So we re-live that conversation endlessly: try it with latest,
[12:24:29] <StevenBlack> Arguably even the stables shloud have this metadata.
[12:24:51] <eddiemonge> i would say they shouldnt since it adds to the file size and stables should be production ready
[12:25:11] <eddiemonge> we should know exactly what is in the stables already
[12:25:15] <StevenBlack> This is a support efficiency issue that probably should trump that.
[12:25:29] <toddparker> think i agree with eddie that final, stable versions should just refer to the version
[12:25:45] <toddparker> latest and nighlies should be more detaied so you know what you're seeing, commit-wise
[12:26:36] <StevenBlack> This "try it with recent" adds a day to every singe issue right now.  There's no reason for it.
[12:26:48] <toddparker> kinblas or _nickel - you have thoughts on this? you guys have a lot of experience...
[12:27:49] <toddparker> steven, isn't that just because people report issues with the latest stable, without first checking the latest? how to we prevent human error?
[12:28:16] <StevenBlack> Latest stable is what, 6-weeks old now?
[12:28:20] <toddparker> i've been trying to pound that into people's heads
[12:28:25] <toddparker> yep
[12:28:48] <toddparker> i'd be in favor or more frequent releases
[12:28:55] <StevenBlack> +1
[12:29:17] <toddparker> we were a bit constrained b/c mr. resig didn't want to do any more alphas
[12:29:29] <toddparker> and i wanted to get some serious items off for beta
[12:29:42] <toddparker> so it's pushed us out a bit which i don't like either
[12:30:12] <toddparker> once we hit beta 1, we can try to do beta 2 in about 2-3 weeks
[12:30:31] <toddparker> beta 3 if we need it or just 1.0
[12:31:07] <toddparker> we'll definitely be doing smaller, more regular releases 2-3 weeks feels good
[12:31:19] <StevenBlack> MEanwhile we keep pointing to nightlies for developers to pound-on...
[12:31:42] <eddiemonge> the "try it with recent" will always add time to the bugs since we won't know what their definition of recent is unless they explicitly state it
[12:31:43] <toddparker> yep, but what is the alternative?
[12:32:09] <eddiemonge> toddparker: no RC? just beta to 1.0?
[12:32:21] <toddparker> i had a list of things to do in a bug post in the last blog post. most people write terrible tickets
[12:32:46] <toddparker> eddiemonge - you're right, there would be RC's
[12:33:08] <toddparker> core does them pretty tightly spaced, right?
[12:33:34] <toddparker> i think we're all in agreement on the situation with bugs
[12:33:51] <toddparker> so based on this, is there a change eddie should make?
[12:34:52] <StevenBlack> ( FYI: here's where I'll maintain the list of beta-1 upgrade gotchas.  https://github.com/jquery/jquery-mobile/wiki/Beta-1:-List-of-deprecations-and-breaking-changes )
[12:35:26] <eddiemonge> whoa thats a long function name
[12:35:42] <eddiemonge> and they are the same?
[12:35:54] <toddparker> awesome, thanks kin
[12:36:25] <toddparker> scottjehl - can you add those changes you landed yesterday to this?
[12:36:58] <toddparker> kinblas - should that be show and hide loading message?
[12:37:11] <StevenBlack> eddiemonge: cut-and-paste failure.  Fixed.  It's $.mobile.showPageLoadingMsg() and $.mobile.hidePageLoadingMsg()
[12:37:27] <toddparker> oh, cool. thanks steven
[12:37:39] <kinblas> heh yeah I'm known for long names
[12:37:45] <StevenBlack> People are touchy today :-)
[12:38:01] <toddparker> i'm planning on focusing the blog post next week on the nav changes we've landed
[12:38:13] <eddiemonge> any chance those two could be combined and use arguments for the show/hide part?
[12:38:42] <scottjehl> or like... $.mobile.loader.show/hide() ?
[12:38:45] <eddiemonge> like $.mobile.pageLoadingMsg('show', 'This page is loading')?
[12:39:16] <toddparker> ...would that allow you to also change the string on the fly?
[12:39:58] <toddparker> btw - stevenblack, we made this string globally configurable in a4. if it's not, it's a regression. sorry i missed that comment form you earlier.
[12:40:44] <kinblas> toddparker: fyi, that ajax bug is due to base tag recent changes
[12:41:21] <StevenBlack> toddparker: You mean $.mobile.loadingMessage ?  Thanks.  It's still there :-)
[12:41:41] <kinblas> it calls the new methods
[12:41:54] <kinblas> was planning on removing
[12:42:18] <toddparker> yup
[12:42:34] <toddparker> kinblas - removing the config feature?
[12:42:53] <kinblas> ??
[12:44:17] <toddparker> kin - sorry wires crossed, you were talking about ajax bug, not loading msg, right?
[12:44:50] <kinblas> oh I thought you were talking about the old method for showing/hiding
[12:44:59] <kinblas> you meant the setting of the message in config
[12:45:01] <kinblas> that's still there
[12:45:02] <toddparker> ya
[12:45:07] <toddparker> cool
[12:45:34] <toddparker> so looks like the nav stuff is tight, nice work kin
[12:45:38] <kinblas> I just changed the fuction that folks kept complaining about because semantically you couldn't tell what it was doing
[12:45:53] <kinblas> hey it was all stuff already there, I just pushed pieces around
[12:46:08] <kinblas> now to fix bugs and add hooks
[12:46:19] <toddparker> woo hoo
[12:46:28] <kinblas> I have to step out for 45 minutes to talk to someone bbiab
[12:46:39] <toddparker> k
[12:48:32] <StevenBlack> The $.mobile.pageLoading() deprecation is issue 1666.  ?m1666
[12:48:50] <StevenBlack> ?m1666
[12:49:24] <StevenBlack> If you have any poo for bot-t, fling it now.
[12:49:54] <toddparker> thanks!
[12:50:12] <toddparker> I added the back btn and viewport meta tag changes here: https://github.com/jquery/jquery-mobile/wiki/Beta-1:-List-of-deprecations-and-breaking-changes
[12:50:24] <toddparker> scottjehl, off the hook
[12:51:00] <StevenBlack> Perfect.
[12:51:58] <scottjehl> thx
[12:59:43] <StevenBlack> Merge nav today?
[12:59:54] <scottjehl> where's that test at?
[13:00:00] <scottjehl> still throwing error?
[13:13:30] * StevenBlack is wondering: can we deprecate $.mobile.changePage() now.  Delegate to $.mobile.oldChangePage() -- the old version verbatim -- when the second parameter isn't an object?
[13:14:42] <StevenBlack> (Original notion was to rename the new changePage() -- something along those lines)
[13:15:49] <StevenBlack> Maybe a small chunk f temporary pre-processing code in the new changePage() to map parameters to the options structure?
[13:27:54] <StevenBlack> The $.mobile.changePage() breaking change is issue #1667, https://github.com/jquery/jquery-mobile/issues/1667 with which we have some mitigation options.
[13:29:33] <toddparker> that's an interesting idea...not sure what the technical guys think there
[13:30:20] <toddparker> kinblas will have to tell us whether the nav changes are still throwing an error. would be cool to merge it into master today if we can. seems like scott and steven both gave this the thumbs up
[13:30:48] <StevenBlack> I'm thinking now a small temporary code island mapping parameters to options inside $.mobile.changePage() is a good play.
[13:31:07] <toddparker> could be slick
[13:32:23] <StevenBlack> You know, if developers worldwide can snap-in Beta 1 and it just works, wow, that would be magic.  So far changePage() is the only breaking change I see.
[13:32:45] <StevenBlack> (assuming we also fix pageLoadint() )
[13:32:51] <StevenBlack> loading
[13:33:07] <scottjehl> I'd like to remove 	// TODO: deprecated - remove at 1.0
[13:33:07] <scottjehl> 		//automatically handle link clicks through Ajax, when possible
[13:33:07] <scottjehl> 		ajaxLinksEnabled: true,
[13:33:07] <scottjehl> 		// TODO: deprecated - remove at 1.0
[13:33:08] <scottjehl> 		//automatically handle form submissions through Ajax, when possible
[13:33:08] <scottjehl> 		ajaxFormsEnabled: true,
[13:33:15] <scottjehl> that pasted oddly
[13:33:41] <scottjehl> we've changed those for one or two releases now. remove?
[13:33:49] <StevenBlack> remove.
[13:37:20] <StevenBlack> scottjehl: a list of removals would go in this wiki topic.  https://github.com/jquery/jquery-mobile/wiki/Beta-1:-List-of-deprecations-and-breaking-changes
[13:39:11] <scottjehl> I guess I'll wait until Kin's thing drops
[13:39:19] <scottjehl> because there may be checks for those vars in there
[13:39:23] <scottjehl> should be
[13:40:45] <toddparker> +1 on removing now
[13:41:10] <toddparker> thanks for breaking up that wiki page stevenblack
[13:42:41] <toddparker> thoughts on this pull? https://github.com/MaxThrax/jquery-mobile/commit/3b3b34b9c154b84d5f8c30a3c9eb430bb41904d3
[13:42:55] <toddparker> i'll pull it in if it gets your ok folks
[13:47:17] * kinblas tries to catch up with conversations
[13:50:27] <kinblas> code island or monkey patch file for folks calling it manually?
[13:50:43] <kinblas> heh
[13:51:01] <kinblas> I shouldn't reply to a message I see if my window is scrolled up a bunch
[13:51:27] <kinblas> the monkey patch question was in regards to the "small island of code"
[13:51:38] <kinblas> idea for making changePage() backwards compatible
[13:52:55] <toddparker> so making it backwards compatible is an option, then?
[13:53:18] <StevenBlack> Yep.  I think we need some work at that juncture anyway to fail gracefully if an object isn't passed in arguments[1].
[13:53:45] <StevenBlack> (Yep to kinblas, not toddparker)
[13:56:59] <kinblas> StevenBlack: so is the check just a precaution in case someone calls the new changePage with the old arguments?
[13:59:10] <kinblas> I thought folks typically assume the right args are being passed and only check args if the function has polymorphic signatures?
[13:59:22] <kinblas> the change I made was so that it was polymorphic
[13:59:29] <kinblas> it takes (url) or (url, opt)
[14:01:10] <kinblas> ... or were you referring to undefined/null checks?
[14:01:26] <StevenBlack> Yes.  I know we can just assume the second parameter is an object, but in practice we know that pipe's gonna bring us a transition argument.
[14:01:53] <StevenBlack> (For a while anyway)
[14:12:56] <kinblas> btw, I meant the changes I made was so that it was *NOT* polymorphic (except for the fact that the last arg was optional)
[14:13:39] * kinblas checks off "use one big word for the day" on his list
[14:16:05] <toddparker> fancy
[14:16:56] <toddparker> so kinblas, we were wondering if we're close to just pushing this into master...what's left to do before we do this?
[14:23:10] <kinblas> sorry was sidetracked by that ajax bug
[14:23:19] <kinblas> I just want the nav tests to pass
[14:23:31] <kinblas> let me reset, I already know what the ajax problem is
[14:23:38] <kinblas> apparently it's *ALWAYS* been a problem
[14:24:10] <kinblas> we've never set the base tag properly for multi-page documents when showing an internal page
[14:24:51] <kinblas> it's just being exposed now because of the recent changes to the base tag to account for the site relative path changes
[14:40:35] <toddparker> right
[14:40:46] <toddparker> definitely worth fixing, but if it's an existing issue
[14:40:52] <toddparker> no need to hold us up
[14:41:06] <toddparker> maybe push, then tackle that before getting into the URL stuff?
[14:46:02] <_nickel> I'm going to work on the core tests for the next 30 mins or so
[14:46:08] <_nickel> hopefully something good will come out of it
[14:48:08] <_nickel> kinblas: toddparker: it looks like the problem with the core tests is purely with how the data attributes are are defined when an object is returned
[14:48:15] <toddparker> _nickel - fingers crossed. works some magic
[14:48:55] <_nickel> hopefully its quick but I want to go back and make sure the change from nstest-foo -> nstestFoo is intentional
[14:51:40] <toddparker> gatcha
[14:54:14] <_nickel> 1.6.1 upgrade appears to have broken the core tests
[14:54:35] <_nickel> which makes this a less obvious problem
[15:01:58] <StevenBlack> _nickel: You've forgotten more about tests than I'll ever know, so question for you: what's a good jQuery Mobile test to clone that has multiple pages in its setup?  See, I'm writing a routine to delete pages from the DOM and I want to quickly get rolling with tests right now.
[15:02:18] <_nickel> nav
[15:02:23] <_nickel> please use the sequence helper
[15:02:36] <_nickel> it makes it much clearer and more deterministic
[15:02:49] <_nickel> check the nav core toward the bottom I think
[15:02:51] <_nickel> let me double chekc
[15:03:24] <_nickel> StevenBlack: yah bottom of the tests/unit/navigation/navigation_core.js
[15:03:51] <StevenBlack> Understood.  Perfect!  Thanks.
[15:27:39] <kinblas_> _nickel: when you say "when an object is returned" are you referring to some test related function? Or some jQuery method?
[15:36:14] <kinblas_> _nickel: disregard my question I just saw that you mentioned it was introduced by jQuery 1.6.1
[15:39:36] <_nickel> kinblas_: yah according to a bug I found on the jquery site this is expected with jquery 1.6
[15:39:53] <_nickel> kinblas_: looks like I just need to change the tests and the make note of it in the commit message
[15:40:12] <kinblas_> what is the bug exactly? (not the number but the symptom)
[15:40:46] <_nickel> kinblas: well all data attributes are initcapped
[15:41:07] <_nickel> kinblas: so data-nstest-foo -> nstestFoo
[15:41:19] <_nickel> jquery 1.6 requires that you query with the init cap attribute
[15:41:21] <_nickel> qell
[15:41:22] <_nickel> well
[15:41:29] <kinblas> oh, hmmm
[15:41:35] <_nickel> I should say our jqmData requires it
[15:41:45] <_nickel> so now it has to be jqmData("Foo")
[15:42:03] <kinblas> hmmm
[15:42:04] <_nickel> otherwise it gets concatenated to the ns and ends up as nstestfoo instead of nstestFoo
[15:42:05] <kinblas> that's not right
[15:42:09] <_nickel> right
[15:42:11] <kinblas> oh in the test
[15:42:21] <kinblas> that's going to be a real problem for us
[15:42:23] <_nickel> or in the case where there's a namespace
[15:42:25] <_nickel> yes
[15:42:27] <kinblas> data-foo and data-ns-foo
[15:42:32] <_nickel> if there is a ns
[15:42:36] <kinblas> one is ("foo") and one is "Foo"
[15:42:40] <_nickel> we have to initcap the attribute
[15:42:51] <_nickel> otherwise we can leave it alone
[15:42:57] <_nickel> trying to think of corner cases
[15:43:15] <kinblas> hmmm this sucks
[15:43:25] <kinblas> so the monkeyPatch has to check the NS
[15:43:35] <kinblas> and if it has something
[15:43:45] <_nickel> then initcap the attr
[15:43:46] <kinblas> then it has to upper case the attribute we passed in?
[15:43:51] <kinblas> ew
[15:43:53] <_nickel> correct
[15:43:54] <_nickel> yes
[15:43:57] <_nickel> feels fragile
[15:43:59] <kinblas> yeah
[15:44:13] * kinblas reads the w3c spec
[15:44:22] <_nickel> kinblas: http://bugs.jquery.com/ticket/9066
[15:45:27] <_nickel> toddparker: scottjehl: ^
[15:45:38] <_nickel> this is defintely why we have tests :D
[15:45:40] <scottjehl> hello?
[15:45:45] <_nickel> *definitely
[15:45:59] <_nickel> we have a pretty serious issue with our ns setup
[15:46:50] <_nickel> scottjehl: toddparker: let me know if you have questions - I think the initial fix is quick and easy but feels fragile
[15:49:40] <_nickel> bbl
[15:50:32] <kinblas> _nickel: http://www.w3.org/TR/html5/elements.html#custom-data-attribute
[15:50:46] <kinblas> ugh
[16:17:49] <scottjehl> what's the issue?
[16:32:04] <_nickel> kinblas: fooBar there it is
[16:32:20] <_nickel> kinblas: we need to let people know about that too
[16:32:45] <kinblas> yeah, I'm just worried about the extra processing time it's going to take to camel case
[16:33:12] <kinblas> too bad replace with a function isn't standard
[16:37:13] <kinblas> _nickel: ping
[16:37:27] <_nickel> kinblas: ping
[16:37:30] <_nickel> kinblas: err pong
[16:37:51] <kinblas> _nickel: why does it seem like the navigation tests are async?
[16:38:08] <_nickel> kinblas: which ones, the path tests?
[16:38:36] <kinblas> _nickel: not sure, it just seems like I start the test and things are flying around but nothing at the top of the page is updating
[16:39:49] <_nickel> kinblas: hmm I'm not sure what you mean, but many of the navigation tests take an integration stance ie I click this link to bring up the page instead of calling change page
[16:39:56] <_nickel> kinblas: so there's a transition delay
[16:40:09] <_nickel> bad example but you get the idea
[16:40:28] <_nickel> so they take longer but are less brittle because it doesn't care abou the underlying implementation
[16:40:59] <_nickel> if it doesn't progress down the list of tests thats a problem
[16:41:13] <_nickel> mind you qunit runs the tests that broke first
[16:41:24] <_nickel> so its possible that the tests at the bottom of the page are running too
[16:41:47] <kinblas> oh ok that's one of the things I was wondering, because broken things appear first
[16:42:00] <kinblas> and then sometimes things below them turn blue before things at the top
[16:42:16] <_nickel> yah thats qunit
[16:42:39] <kinblas> so there's data it stores somewhere?
[16:42:41] <_nickel> its actually good because it fails when the tests are order dependent which many of them were at one point
[16:42:56] <_nickel> kinblas: yes! it caches results
[16:43:01] <kinblas> how can I flush it so it starts clean?
[16:43:03] <kinblas> :-)
[16:43:16] <_nickel> icognito window?
[16:43:28] <_nickel> I've done it before but I don't recall off the top of my head
[16:43:37] <kinblas> there's some file on disk?
[16:43:46] <_nickel> local storage
[16:43:49] <kinblas> oh hmm, this is all client side
[16:43:57] <kinblas> cookie?
[16:44:01] * kinblas checks
[16:44:55] <_nickel> kinblas: line 144 of external/qunit.js
[16:45:35] <kinblas> ah ok
[16:46:21] <_nickel> yah sessionStorage
[16:52:00] <_nickel> kinblas: according the mdc docs it shouldn't persist past a tab/window close but I feel like I had issues with that :D
[16:52:52] <kinblas> yeah I stumbled on to that ... if I create a new tab/window and re-run
[16:52:59] <kinblas> it runs as I would've expected
[16:53:04] <kinblas> FF
[16:53:31] <kinblas> _nickel: So you added tests to the navigation branch
[16:53:48] <kinblas> are those the ones that fail? Test 13 having to do with path.makeAbsolute?
[16:53:59] <_nickel> kinblas: they actually didn't fail
[16:54:05] <_nickel> kinblas: but I left them in there anywa
[16:54:09] <_nickel> *anyway
[16:54:16] <kinblas> oh I see what the problem is
[16:54:29] <kinblas> the tests assume that the test is running at the root of the server
[16:54:32] <kinblas> which I don't
[16:55:25] <_nickel> hmm they shouldn't
[16:55:31] <kinblas> Expected: 	
[16:55:31] <kinblas> "/tests/unit/navigation/test.html"
[16:55:31] <kinblas> Result: 	
[16:55:31] <kinblas> "/jblas/jqm2/tests/unit/navigation/test.html"
[16:55:31] <kinblas> Diff: 	
[16:55:32] <kinblas> "/tests/unit/navigation/test.html" "/jblas/jqm2/tests/unit/navigation/test.html"
[16:55:32] <kinblas> Source: 	
[16:55:33] <kinblas> ()@http://localhost/jblas/jqm2/external/qunit.js:89
[16:55:51] <_nickel> ah!
[16:55:52] <_nickel> yes
[16:55:59] <_nickel> one solution
[16:56:12] <_nickel> which is in the tests is to alter the links before the tests run
[16:56:21] <_nickel> it does that already for protocol relative paths
[16:56:31] <_nickel> but I don't think it does it for the the site relative paths
[16:56:38] <_nickel> there are examples before the first test
[16:56:49] <kinblas> ok, I'll poke around
[16:57:02] <kinblas> also I still get different tests in the higher numbers failing
[16:57:23] <_nickel> hmm not sure about that
[16:57:43] <kinblas> oh, hmmm I just noticed these are problems on the HEAD :-D
[16:57:57] <_nickel> other test breakages
[16:58:10] <_nickel> we're already totally apathetic to those failures which is a bummer
[16:58:16] <_nickel> the ci failures that is
[16:58:22] <_nickel> I might try and fix the jqm data thing tonight
[16:58:26] <_nickel> or at least put in a tmp fix
[16:58:55] * kinblas appologizes to _nickel
[16:59:08] <kinblas> I'm the one that landed 1.6.1
[16:59:31] <kinblas> but the tests got hung up on the rebase problem
[16:59:37] <kinblas> so I didn't see that things were failing
[17:04:39] <kinblas> _nickel: so it is ok to comment out all tests prior to the one that is failing for me to debug/fix right?
[17:04:54] <kinblas> if I can get it to pass just running that test, it should be a good fix?
[17:05:16] <kinblas> I'm just trying to factor out the async flakiness I occasionally see
[17:14:55] <_nickel> do it!
[17:15:13] <_nickel> yes but my rule is that all the tests should pass before I commit
[17:15:22] <_nickel> especially now that we have failures that aren't getting fixed
