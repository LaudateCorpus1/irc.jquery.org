[00:00:15] <agcolom> gnarf: sorry I wasn't still up when you asked :-)
[00:00:50] <agcolom> Good morning if you are :-)
[00:05:15] <jqmobilecommit> [jquery-mobile] agcolom pushed 1 new commit to master: http://git.io/ofVTUw
[00:05:15] <jqmobilecommit> [jquery-mobile/master] Docs: changed color theme back to color scheme (docs/lists/lists-options.html) - Anne-Gaelle Colom
[00:11:50] <agcolom> uGoMobi: sorry I missed your last comment last night as I switched off straight away... Thanks for the 1.1-stable changes of theme -> scheme ! and the collapsible lists look REALLY nice!!!!! I am so glad I haven't done that one yet for the api docs and there have been so many changes recently to lists....
[00:15:39] <i-hate-dave> Yippie, build fixed!
[00:15:39] <i-hate-dave> Project jQuery Mobile TestSwarm Master build #22: FIXED in 17 min: http://swarm.jquery.org:8080/job/jQuery%20Mobile%20TestSwarm%20Master/22/
[00:22:42] <gnarf> agcolom: :)
[00:23:14] <gnarf> johnbender: working well?
[00:24:27] <agcolom> gnarf: Hi! so you are in night-time mode ?
[00:24:42] <agcolom> (working that is...)
[00:24:45] <gnarf> agcolom: usually am
[00:25:07] <gnarf> agcolom: either i have a love for the brits, or its something to do with the quiet in the dead of night
[00:25:24] <agcolom> ok! good to know! and it's a beautiful day in London today
[00:25:33] <gnarf> ?weather
[00:25:47] <gnarf> bot-t is never around when you need him :(
[00:25:48] <agcolom> Well, working at night is nice... but I can't do that anymore with the kids...
[00:26:29] <agcolom> yes, after the 3 wettest months on record, it looks like summer has finally arrived!
[00:26:53] <agcolom> It will be 29-30 C today!
[00:29:23] <gnarf> http://thefuckingweather.com/?where=61107
[00:29:45] <gnarf> its like 27C at night here
[00:30:19] <gnarf> we've had crazy summer heat
[00:31:46] <agcolom> that's insne! Actually Illinois was in the news this week for drought. They showed corn fields getting really dry...
[00:31:51] <agcolom> insane ^
[00:33:52] <agcolom> Up until this week, we were getting temperatures around 20 max only! had the heating on in June!
[00:34:17] <gnarf> sounds nice
[00:37:20] <agcolom> yes, was not so bad for going to work everyday and using public transport, etc...
[01:06:30] <agcolom> the SF videos are up!!!!
[01:18:35] <gnarf> ?
[01:26:17] <agcolom> http://confreaks.com/videos/989-jqcon2012-state-of-jquery-part1-jquery-core
[01:27:38] <agcolom> http://confreaks.com/videos/991-jqcon2012-state-of-jquery-part-4-jquery-mobile
[01:29:09] <gnarf> just the keynote so far
[01:29:13] <gnarf> still fun
[01:29:14] <gnarf> :)
[01:30:33] <agcolom> yes, it's a good start!
[01:52:42] <gnarf> ugh - so warm outside my office
[01:52:43] <gnarf> :)
[01:53:02] <agcolom> even at night??
[01:55:27] <agcolom> uGoMobi: Good morning :-) which version of JQM do I need to use for the non-inset collapsibles? I'm not managing so far :( http://jsbin.com/ijiram
[02:29:40] <uGoMobi> good morning agcolom
[02:30:01] <uGoMobi> agcolom: non-inset collapsibles is 1.2
[03:16:27] <agcolom> Good morning Jasper, sorry was away from the computer...
[03:16:43] <agcolom> uGoMobi: ^
[03:16:57] <uGoMobi> agcolom: no need to be sorry for that :)
[03:17:00] <uGoMobi> morning
[03:17:42] <agcolom> Hi Jasper :-)
[03:17:49] <uGoMobi> hi Anne
[03:18:11] <uGoMobi> IRCCloud also alerts me if you use Jasper BTW ;)
[03:18:25] <agcolom> Oh Cool!
[03:18:34] <gnarf> yay rain! :)
[03:18:44] <uGoMobi> you can add "Anne" to the alerts
[03:18:54] <agcolom> I've tried to do a demo of the inset collapsible, but it's not working :(
[03:19:06] <agcolom> How do I add Anne to alerts?
[03:19:09] <uGoMobi> hi gnarf good morning/afternoon/evening/night (?)
[03:19:27] <uGoMobi> settings > highlight words
[03:20:07] <agcolom> Cool! done :-) Thanks :-)
[03:20:22] <uGoMobi> you are welcome Anne
[03:20:34] <agcolom> so should the demo work if I use latest?
[03:20:50] <uGoMobi> sorry, what demo is that?
[03:21:00] <uGoMobi> ah, wait... I missed a line
[03:21:05] <gnarf> uGoMobi: super morning for me 05:20
[03:21:39] <gnarf> uGoMobi: speaking of which, i'm gonna nap out a bit - if this wind storm doesn't blow my house over... it literally shook me awake :)
[03:21:42] <uGoMobi> gnarf: so I guess that actually means super nigth ;-)
[03:22:08] <uGoMobi> sleep well gnarf
[03:22:56] <uGoMobi> Anne, what is not working exactly?
[03:23:19] <agcolom> http://jsbin.com/ijiram
[03:27:14] <agcolom> the weird thing is that it is the same example as in the docs so is something missing in the js or css in master? or is latest not inline with master yet?
[03:27:17] <uGoMobi> Anne, this is weird
[03:27:25] <uGoMobi> the code is not in latest
[03:27:51] <agcolom> is latest not inline with master yet?
[03:28:00] <uGoMobi> looks like it
[03:28:07] <agcolom> sometimes there's a delay...
[03:28:12] <agcolom> like a few hours....
[03:28:14] <uGoMobi> this is in the comment of latest: Date: Mon Jul 16 01:56:11 2012 +0200
[03:28:28] <agcolom> ??
[03:28:28] <uGoMobi> yeah, but it is in for 24 hours already
[03:28:45] <agcolom> hold on, is it the move to the new server?
[03:28:47] <uGoMobi> let me check Jenkins
[03:28:56] <uGoMobi> I dunno
[03:30:00] <uGoMobi> Anne, lets test with the branch preview
[03:30:48] <uGoMobi> but that is actually the same as the docs use so that would work
[03:31:50] <uGoMobi> Anne, this is strange... both Latest and Branch preview are build 3.5 hours ago
[03:32:01] <agcolom> bizarre...
[03:32:14] <agcolom> I'll clear my cache...
[03:32:33] <uGoMobi> but branch preview (http://jquerymobile.com/test/js/jquery.mobile.js) has this date: Tue Jul 24 09:05:05 2012 +0200
[03:33:10] <uGoMobi> while latest (http://code.jquery.com/mobile/latest/jquery.mobile.js) has this date: Mon Jul 16 01:56:11 2012 +0200
[03:33:26] <agcolom> july 16th is a week ago!
[03:33:37] <uGoMobi> omg... nice catch
[03:33:41] <uGoMobi> didn't see it
[03:33:53] <uGoMobi> well that explains it
[03:34:26] <agcolom> Is the build not getting built?
[03:35:00] <uGoMobi> http://swarm.jquery.org:8080/job/jQuery%20Mobile%20Latest/3828/
[03:35:45] <uGoMobi> so the build seems fine
[03:35:50] <agcolom> also the new server only came into place yesterday, so it can't be that...
[03:35:54] <uGoMobi> but where does it go
[03:36:48] <agcolom> and how come it's ok in the docs?
[03:37:11] <uGoMobi> because the docs use branch preview, not latest
[03:37:26] <agcolom> ah, ok!
[03:37:55] <uGoMobi> test is branch preview of master
[03:38:24] <agcolom> yes, bot js and css are dated 16th July!
[03:39:39] <uGoMobi> Anne, I have a commit for master
[03:39:46] <uGoMobi> that means new build
[03:39:50] <uGoMobi> lets see what happens
[03:39:57] <agcolom> I thought I was going mad when that example was not working ;-)
[03:40:01] <agcolom> ok, cool!
[03:40:10] <agcolom> let's see...
[03:45:22] <jqmobilecommit> [jquery-mobile] uGoMobi pushed 1 new commit to master: http://git.io/6lLvLw
[03:45:22] <jqmobilecommit> [jquery-mobile/master] Docs (collapsible lists): fixed typo and added CSS snippet for border styling of grouped individual collapsibles. - Jasper de Groot
[03:46:49] <uGoMobi> agcolom: nothing changed
[03:47:09] <agcolom> maybe we need johnbender to take a look?
[03:47:14] <uGoMobi> still pointing to that file of Monday 16th
[03:47:27] <uGoMobi> yeah
[03:47:41] <uGoMobi> agcolom: want to post a message on basecamp?
[03:47:45] <agcolom> sure
[03:47:52] <uGoMobi> that latest became oldest :)
[03:48:15] <uGoMobi> ok thanks
[03:54:15] <agcolom> done :-)
[03:54:53] <uGoMobi> cool
[03:57:58] <uGoMobi> agcolom: can you look at the text I just added at the bottom here: http://jquerymobile.com/test/docs/lists/lists-collapsible.html
[03:58:28] <uGoMobi> It now says: If you want the top and bottom borders to collapse, you can add the following code to your custom CSS
[03:58:58] <uGoMobi> but top and bottom might refer to the outer borders
[03:59:11] <agcolom> ok, hecking now...
[03:59:16] <agcolom> cheching ^
[03:59:36] <uGoMobi> I can't say inner borders, because it are individual collapsibles, not a collapsible set
[03:59:44] <uGoMobi> thanks
[04:00:05] <uGoMobi> mutual borders? sounds a bit strange
[04:01:22] <agcolom> so what borders is this referring to?
[04:02:04] <uGoMobi> agcolom: if you compare last example with the on above...
[04:02:53] <uGoMobi> you see that there are "double" borders between the individual collapsibles in the last one
[04:03:15] <uGoMobi> because they all have border-top and border-bottom
[04:04:50] <uGoMobi> with that piece of CSS the grouped individuals will look exactly the same as collapsibles in a collapsible set
[04:04:54] <agcolom> I didn't notice it until you mentioned it!
[04:05:06] <agcolom> it's very tiny on my screen!
[04:05:26] <uGoMobi> haha
[04:07:33] <agcolom> maybe you need to explain what the problem is: double border and then say that you can collapse the border (by referring to "that border" that you would have explained just before...
[04:08:12] <uGoMobi> agcolom: ok, good idea
[04:13:30] <i-hate-dave> Project jQuery Mobile TestSwarm Master build #25: FAILURE in 12 min: http://swarm.jquery.org:8080/job/jQuery%20Mobile%20TestSwarm%20Master/25/
[04:13:41] <uGoMobi> agcolom: something like this..... Because each individual collapsible has a top and bottom border, a series of them will have "double" borders in between. To avoid this you can add the following rule to your custom CSS:
[04:14:20] <agcolom> uGoMobi: great! yes. one tiny tweak:
[04:14:26] <uGoMobi> tell me
[04:15:04] <agcolom> Because each individual collapsible has a top and bottom border, a series of them will cause a "double" borders between each of them. To avoid this you can add the following rule to your custom CSS:
[04:15:34] <agcolom> and also a series of these
[04:15:43] <agcolom> instead of of them I think
[04:15:47] <uGoMobi> ah yes, thanks
[04:16:00] <uGoMobi> and .... a double borders ?
[04:16:12] <agcolom> so Because each individual collapsible has a top and bottom border, a series of these will cause a "double" border between each of them. To avoid this you can add the following rule to your custom CSS:
[04:16:24] <agcolom> yes good point double border
[04:16:56] <uGoMobi> great! thanks for you help!!
[04:17:18] <agcolom> no problem :-) hope we can get latest be latest again soon ;-)
[04:17:39] <uGoMobi> yeah, would be nice
[04:17:50] <agcolom> lunchtime coming... catch you later ;-)
[04:17:52] <uGoMobi> you can use the other build in the meantime
[04:17:56] <uGoMobi> ok later
[04:25:40] <toddmparker_> hi all
[04:26:15] <toddmparker_> uGoMobi: that double border - something we can just have in our CSS instead of having people add as an override?
[04:26:32] <toddmparker_> agcolom: good catch on latest js
[04:27:06] <uGoMobi> hi toddmparker_ : at first I wanted to do that, but I thought people might not want it when using different themes for the collapsibles
[04:27:28] <toddmparker_> i see
[04:27:37] <uGoMobi> toddmparker_: nice work on that page BTW, looks good
[04:27:49] <toddmparker_> maybe since that is more of the the edge case, we negate the borders by default and just mention how to undo it
[04:27:56] <toddmparker_> thanks
[04:29:57] <uGoMobi> toddmparker_: ok, will put it in the framework CSS and add a note below the example
[04:33:58] <toddmparker_> cool, think that is the more common scenario
[04:34:22] <toddmparker_> i converted the split button demo to use popups too - http://jquerymobile.com/test/docs/lists/lists-split.html
[04:34:55] <toddmparker_> one thing i'm not clear on is how to set a width or max-width on a popup so it will center correctly to the window
[04:34:55] <agcolom> Hi Todd! Good video (SF keynote :-) )
[04:35:16] <toddmparker_> i can't watch myself on video :-/
[04:35:21] <toddmparker_> but thanks
[04:35:34] <agcolom> it's on the resources page :-)
[04:35:52] <agcolom> and cross-linked to your slides!
[04:36:37] <agcolom> I watched it completely. It's really good! Well done!!!
[04:36:58] <toddmparker_> it was a quick one
[04:37:04] <toddmparker_> maybe 10-15 minutes
[04:37:18] <toddmparker_> you are so fast with resources updates agcolom
[04:37:27] <agcolom> It's 21 minutes. But it really works!
[04:37:30] <toddmparker_> we've collected some great stuff over there
[04:37:53] <agcolom> I have to keep up as things come along. It's too hard to catch up otherwise!
[04:38:09] <uGoMobi> toddmparker_: cool that split button uses popup now
[04:38:44] <agcolom> Easier now that I'm not teaching... Will be a bit harder from end of Sept (16h of teaching per week...) + preparation, assessment, marking, etc...
[04:38:45] <uGoMobi> about (max) width... .ui-popup { width: .. ; max-width: .... ; }
[04:39:50] <agcolom> toddmparker_: I made 2 or 3 corrections to your blog post for 1.2 (minor typos)
[04:41:21] <toddmparker_> thanks
[04:42:25] <agcolom> ok, time to cook some lunch....
[04:42:38] <agcolom> speak later...
[04:48:00] <toddmparker_> uGoMobi: i added a popup here
[04:48:01] <toddmparker_> http://jquerymobile.com/test/docs/lists/lists-split.html
[04:48:14] <toddmparker_> with this code
[04:48:15] <toddmparker_> <div data-role="popup" id="purchase" data-theme="d" data-overlay-theme="b" class="ui-content" style="max-width:340px;">
[04:48:29] <toddmparker_> and it centers on mobile but not desktop
[04:48:46] <uGoMobi> shouldn't that be a class of purchase?
[04:48:57] <uGoMobi> or all the same?
[04:49:10] <uGoMobi> sorry, nevermind
[04:49:17] <toddmparker_> for the link
[04:49:30] <toddmparker_> so the only style is that max-width
[04:49:48] <toddmparker_> the dialog example on the popup page is similiar to this but works
[04:50:12] <toddmparker_> it would be good to add a small section to the popup page on how to set a width on popups
[04:50:14] <uGoMobi> and position-to is window?
[04:50:18] <toddmparker_> best practices
[04:50:21] <toddmparker_> yep
[04:50:36] <toddmparker_> <a href="#purchase" data-rel="popup" data-postion-to="window" data-transition="pop">Purchase album</a>
[04:50:55] <uGoMobi> toddmparker_: you made a type
[04:50:57] <toddmparker_> sure i missed something silly
[04:51:03] <uGoMobi> it says data-postion-to
[04:51:08] <uGoMobi> i is missing
[04:51:19] <toddmparker_> AH
[04:51:24] <toddmparker_> another set of eyes
[04:51:27] <toddmparker_> fixing
[04:52:44] <uGoMobi> but still we should mention that you have to set rules for class .ui-popup
[04:52:45] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/UTMeqQ
[04:52:45] <jqmobilecommit> [jquery-mobile/master] Fixed typos in data-postion-to attribute - toddparker
[04:52:52] <toddmparker_> ok, fixed
[04:52:55] <toddmparker_> thanks
[04:52:57] <uGoMobi> great
[04:52:59] <uGoMobi> np
[04:53:11] <toddmparker_> we should add a blurb on that today tho
[04:53:17] <toddmparker_> sure it's a common thing
[04:54:01] <toddmparker_> i'll be on later
[04:54:20] <uGoMobi> ok, talk to you later
[05:04:22] <jqmobilecommit> [jquery-mobile] uGoMobi pushed 2 new commits to master: http://git.io/p_cZZA
[05:04:22] <jqmobilecommit> [jquery-mobile/master] Collapsibles: added rule that prevents double borders in a series of individual collapsibles - Jasper de Groot
[05:04:22] <jqmobilecommit> [jquery-mobile/master] Docs (collapsible lists): adjusted text and CSS rule about double borders because the framework now prevents this. - Jasper de Groot
[05:33:01] <i-hate-dave> Yippie, build fixed!
[05:33:01] <i-hate-dave> Project jQuery Mobile TestSwarm Master build #26: FIXED in 24 min: http://swarm.jquery.org:8080/job/jQuery%20Mobile%20TestSwarm%20Master/26/
[06:54:50] <jqmobilecommit> [jquery-mobile] gabrielschulhof pushed 1 new commit to master: http://git.io/pCKHIQ
[06:54:50] <jqmobilecommit> [jquery-mobile/master] [popup] Improve iOS positioning a bit - Gabriel Schulhof
[06:58:19] <toddparker> hi again
[06:58:49] <_|Nix|_> Hey!
[07:20:58] <jqmobilecommit> [jquery-mobile] gabrielschulhof pushed 1 new commit to master: http://git.io/iqonDw
[07:20:59] <jqmobilecommit> [jquery-mobile/master] [popup] Retrieve window coordinates consistently - Gabriel Schulhof
[07:55:29] <toddparker> hey _|Nix|_
[07:55:46] <toddparker> orientation change is looking good
[07:55:59] <toddparker> question - look at the dialog example on the popup page
[07:56:41] <toddparker> start in portrait > landscape > portrait = you'll see the dialog now has ~40px of empty space to the right
[07:56:48] <toddparker> might be more of a css thing
[07:56:56] <toddparker> uGoMobi might have theories
[08:01:53] * uGoMobi is looking
[08:08:38] <_|Nix|_> toddparker: It's as if the dialog collided with the right edge and the width of the inputs inside became shortened.
[08:08:49] <_|Nix|_> toddparker: It happen with every fixed width popup.
[08:09:03] <_|Nix|_> The paragraph-based popups are fine, because they resize.
[08:09:35] <johnbender> toddparker: gseguin: jzaefferer: http://swarm.jquery.org/job/350 :D
[08:09:38] <_|Nix|_> toddparker: Android 2.3.5 is ugly though: You have to timeout during resize, because the scrollTop() is wrong. I currently wait 500ms to get the right scrollTop().
[08:10:28] <jzaefferer> johnbender: nice! Is that the complete testsuite?
[08:10:58] <gseguin> johnbender: that's pretty rad!
[08:14:12] <_|Nix|_> toddparker: Hopefully the scrollTop() is correct as soon as the next frame, but I can't be sure.
[08:14:12] <_|Nix|_> toddparker: Ideally there'd be a signal that the scrollTop is now OK ...
[08:21:07] <toddparker> _|Nix|_: I see…timeouts are always sketchy
[08:21:22] <toddparker> but i'm not sure if there is a real thing to look for
[08:21:37] <toddparker> jzaefferer: awesome
[08:21:46] <toddparker> we're on the swam now?
[08:25:28] <_|Nix|_> toddparker: A timeout of 0 is semi-OK, because it just means "make this body of code run in the next frame". But starting to guess what > 0 value to use for the timeout is bad.
[08:28:05] <erichynds> _|Nix|_: timeouts are clamped to 4ms iirc in webkit
[08:31:08] <_|Nix|_> erichynds: That's fine, as long as things become quiescent by the next frame.
[08:31:26] <erichynds> you can't make that assumption though
[08:31:51] <erichynds> and the clamping is variable based on what else is going on with the browser, so that 4ms or whatever isn't guaranteed
[08:32:40] <toddparker> fun.
[08:32:44] <toddparker> thanks erichynds
[08:32:49] <toddparker> how are ya?
[08:32:57] <erichynds> I'm well! how are you?
[08:33:09] <_|Nix|_> erichynds: I'm hoping that by the time the frame during which "resize" fires is finished, the scrollTop() will have assumed its final value. Thus, whatever small timeout I get, the code requiring the correct scrollTop() should get it.
[08:33:52] <_|Nix|_> erichynds: Otherwise I have to start looking around for some event that is guaranteed to fire after the scrollTop has assumed its final value.
[08:34:03] <erichynds> yeah
[08:34:09] <erichynds> the latter is a better approach though.
[08:34:23] <_|Nix|_> erichynds: Yeah, but what event? I dunno of any.
[08:34:51] <_|Nix|_> erichynds: Is there documentation on the sequence of events emitted during an orientation change?
[08:34:54] <erichynds> you'll have to inspect the scrollTop value, or translate3d offset or whatever it is that is performing the animation
[08:35:01] <erichynds> and wait until it's at its final value
[08:35:09] <erichynds> _|Nix|_: i have no idea
[08:35:39] <_|Nix|_> erichynds: So, like, if the value hasn't change in the last <magic number> ms, proceed ... not much better than a timeout ...
[08:35:45] <_|Nix|_> s/change/changed/
[08:36:05] <_|Nix|_> ... OK, /somewhat/ better than a timeout, but still ...
[08:36:12] <erichynds> i have no idea what the bug is btw
[08:36:18] <erichynds> i missed that part
[08:36:50] <erichynds> when you change orientations the scroller goes on the fritz for a bit?
[08:37:13] <_|Nix|_> erichynds: If you have a popup open and you switch from portrait to landscape, the popup is supposed to jump to the middle of the window. It doesn't, because $( window ).scrollTop() during resize !== $( window ).scrollTop() when the window finally settles.
[08:37:50] * _|Nix|_ go make jsbin ...
[08:37:57] <erichynds> sounds like a fun one
[08:38:31] <_|Nix|_> erichynds: Tons :-S
[08:38:41] <toddparker> right. so we need to know when things have settled down so we can re-position the popup
[08:38:41] <erichynds> when in doubt, setTimeout
[08:38:44] <erichynds> is what I always say
[08:38:47] <toddparker> :p
[08:38:47] * _|Nix|_ refers to the metric variety
[08:39:22] <_|Nix|_> erichynds: ... and johnbender always says "whenever I use setTimeout, I die a little inside" - or something to that effect.
[08:39:29] <_|Nix|_> :)
[08:39:52] <toddparker> yep. those are baddies
[08:43:18] <erichynds> can you check if window.innerWidth > innerHeight to consider the rotation complete?
[08:43:30] <erichynds> for the portrait -> landscape use case
[08:44:51] <toddparker> that could be helpful
[08:45:27] <toddparker> why not just look for the orientation change event
[08:45:59] <toddparker> orientationchange
[08:46:00] <toddparker> Triggers when a device orientation changes (by turning it vertically or horizontally). When bound to this event, the callback function has one argument, the event object. The event object contains an orientation property equal to either "portrait" or "landscape". Note that we currently bind to the resize event when orientationchange is not natively supported, or when $.mobile.orientationChangeEnabled is set to fal
[08:46:14] <toddparker> we should be using that, not custom code
[08:48:19] <_|Nix|_> toddparker: Doesn't work. The scrollTop is off.
[08:51:05] <toddparker> meaning that fires too early?
[08:51:30] <toddparker> seems like it would make more sense to maybe fix this
[08:51:42] <toddparker> johnbender and gseguin - you guys around?
[08:52:05] <toddparker> we need to start looking into generating the package.json files for the plugin site
[08:52:09] <gseguin> Jiving but around
[08:52:10] <toddparker> any takers
[08:52:11] <gseguin> 'sup?
[08:52:17] <toddparker> ^^
[08:52:33] <toddparker> might be a good task for you once you look at those fe wlistview filter things
[08:52:48] <gseguin> hmm...
[08:52:52] <gseguin> deadline?
[08:54:11] <gseguin> toddparker: is there a spec as to what we include in the package.json ?
[08:54:26] <johnbender> _|Nix|_: erichynds: anytime _anyone_ uses setTimeout I die a little inside :/
[08:54:33] <gseguin> or just the usual info
[08:54:44] <johnbender> (aside from the obvious async use case)
[08:55:51] <gseguin> so johnbender, the test swarn runs on every commits now?
[08:56:18] <toddparker> spec: https://github.com/jquery/plugins.jquery.com/blob/master/docs/manifest.md
[08:56:43] <toddparker> _|Nix|_: maybe you can get johnbender up to speed and see if he has any ideas
[08:58:47] <gseguin> toddparker: and that file lives in the repo, right?
[08:59:00] <gseguin> it's not a build artifact
[08:59:10] <toddparker> here is UI's
[08:59:11] <toddparker> https://github.com/jquery/jquery-ui/blob/master/package.json
[08:59:47] <toddparker> but that doesn't seem granular enough. maybe scott_gonzalez can answer some Q's
[09:00:12] <gseguin> ok cool so it's a static file, it shouldn't take too long to generate
[09:00:14] <toddparker> it could be build from our require dependency info, right?
[09:00:34] <toddparker> yeah. just wondering if each plugin needs this type of info. UI's is for the whole lib.
[09:00:58] <toddparker> if it's just that, it
[09:01:00] <toddparker> sit
[09:01:02] <erichynds> johnbender: likewise
[09:01:04] <toddparker> it's easy
[09:01:56] <gseguin> I don't think that this file is supposed to expose our internal module dependencies
[09:02:32] <gseguin> it's just a description of the jquery-mobile module as a whole
[09:02:32] <uGoMobi> toddparker: _|Nix|_ : that issue with the dialog seems to be a webkit specific problem
[09:03:04] <uGoMobi> it's not caused by any CSS
[09:03:21] <gseguin> toddparker: so short answer is yes I can start working on it tomorrow.
[09:03:59] <scott_gonzalez> gseguin: We're generating them as release artifacts and committing them to the tag, but not to master.
[09:04:01] <scott_gonzalez> See https://github.com/scottgonzalez/test-jquery-ui/tree/1.9.0
[09:04:18] <gseguin> oh... ok
[09:04:33] <scott_gonzalez> That package.json file is for npm.
[09:06:13] <gseguin> scott_gonzalez: so you have a grunt task that takes care of generating it?
[09:06:59] <scott_gonzalez> yup: https://github.com/jquery/jquery-ui/blob/master/build/tasks/build.js#L5
[09:07:37] <toddparker> uGoMobi: ok, just curious. not a high deal
[09:08:04] <uGoMobi> toddparker: you can see the issue on Chrome as well
[09:08:09] <toddparker> seems easy peasy then. thanks scott_gonzalez
[09:08:17] <toddparker> yeah? i'll check uGoMobi
[09:08:35] <uGoMobi> open the dialog and resize the window... at certain sizes you see it happening
[09:08:53] <gseguin> alright but for us it might not be necessary to get into that level of complexity since the only thing the package.json file will describe is our monolithic file, right?
[09:08:58] <uGoMobi> sometime the gap is as width as the popup itself
[09:09:02] <toddparker> wonder if we set the width of the popup contents to 100%
[09:09:09] <toddparker> so odd
[09:09:10] <scott_gonzalez> Yeah, we're changing the UI release process to include files in our tags that don't exist in our branches.
[09:09:44] <johnbender> gseguin: yes
[09:09:46] <toddparker> so is the plan to eventually get granular with package.json down to the plugin level
[09:09:57] <johnbender> gseguin: I need to add other browsers but yes
[09:09:59] <toddparker> or will it just be for the lib
[09:10:05] <toddparker> lib is easy for sure
[09:10:27] <uGoMobi> toddparker: the popup contents is full width... it is just that ui-popup is smaller than ui-popup-container
[09:10:50] <gseguin> johnbender: there is already a package.json in our master, is that a draft?
[09:10:55] <johnbender> toddparker: is the goal to put everything up as a package on the plugin site?
[09:10:55] <toddparker> but why…the content could wrap and it's less than the max-width
[09:11:03] <johnbender> gseguin: no that's for grunt
[09:11:06] <toddparker> that's why i wonder if we can nudge it
[09:11:33] <toddparker> i think the immediate goal is to just do what UI does - keep it at the lib level
[09:12:10] <toddparker> seems more useful to get more granular but we already have that covered with the AMD stuff if people really need it
[09:12:28] <toddparker> uGoMobi: the google map example is always good
[09:12:33] <gseguin> johnbender: can that file be renamed?
[09:12:38] <johnbender> toddparker: ok, I was going to ask how we would split things up given that many of our modules are not widgets, but obviously that doesn't matter
[09:12:51] <uGoMobi> yes, because I added a function that set the sizes of the iframes
[09:13:04] <johnbender> gseguin: yes, but we'd have to change the readme and builds
[09:13:05] <toddparker> yeah. i thought this was going to be more ambitious but this is way easier
[09:13:16] <toddparker> ah uGoMobi
[09:13:21] <uGoMobi> that is bound to our popup events
[09:13:34] * johnbender is assuming you can specify a package.json file manually for npm install
[09:14:11] <uGoMobi> it seems like we are interfering somehow with webkit's re-rendering on resize
[09:14:30] <johnbender> gseguin: I can start looking into how to generate the package.json file
[09:14:33] <johnbender> using grunt
[09:14:42] <toddparker> yeah, it's really odd uGoMobi
[09:15:00] <johnbender> anything obvious I should know about getting access to the deps list? or can I just steal the list out of the meta module
[09:15:01] <gseguin> johnbender: I don't see what needs to be automated
[09:15:13] <johnbender> gseguin: the generation of the packages.json
[09:15:22] <johnbender> I guess I would like to avoid updating that manually all the time
[09:15:38] <gseguin> isn't all that is changing the version?
[09:15:42] <scott_gonzalez> Oh, I'm getting close to committing the authors list.
[09:15:50] <scott_gonzalez> I think I'm down to 3 more people with missing info.
[09:15:55] <uGoMobi> toddparker: when you reproduce the issue on chrome with the code inspector open... just clicking on the popup element in the code inspector will make it get its correct width
[09:16:00] <gseguin> awesome job on this scott_gonzalez
[09:16:21] <johnbender> gseguin: hmm, I guess you're right - I'm thinking in terms of dependencies which don't exist if we just do it as a lump
[09:17:07] <gseguin> johnbender: and if that's the case then we can get rid of version.txt
[09:17:15] <gseguin> and read it from the package.json
[09:17:30] <johnbender> indeed
[09:20:16] <toddparker> scott_gonzalez: great
[09:21:09] <toddparker> johnbender: yeah, i think our package will look like UI's - core is the only dep
[09:21:35] <scott_gonzalez> toddparker: We don't have a single release with just core as a dep.
[09:21:56] <scott_gonzalez> For example: https://github.com/scottgonzalez/test-jquery-ui/blob/1.9.0/ui.accordion.jquery.json
[09:22:14] <gseguin> ok so let's rename the current package.json or move it a directory
[09:22:32] <scott_gonzalez> gseguin: You can't move package.json if you're using npm (which you are).
[09:22:53] * gseguin is confused
[09:23:07] <toddparker> oh, so you do have package.json per widget?
[09:23:20] <scott_gonzalez> We have *.jquery.json per widget.
[09:23:35] <scott_gonzalez> Which is what the plugins site looks at.
[09:23:51] <scott_gonzalez> https://github.com/jquery/plugins.jquery.com/blob/master/docs/manifest.md
[09:23:58] <gseguin> oh ok
[09:24:03] <gseguin> I had missed the file name
[09:24:10] <toddparker> yeah, me too. ok
[09:24:17] <toddparker> so we do have more to generate
[09:24:31] <_|Nix|_> toddparker: http://jsbin.com/axafic/3 works, so I'll have to figure out why it doesn't work in the popup page's case. Maybe the viewport thing.
[09:25:35] <toddparker> what does that bin test?
[09:26:08] <_|Nix|_> toddparker: It's supposed to draw a red translucent square covering exactly the window, whenever you resize the window.
[09:26:33] <_|Nix|_> toddparker: http://jsbin.com/axafic/4/ breaks, because I added <meta name="viewport" ... ></meta>
[09:26:43] <scott_gonzalez> Whatever you want listed on the plugins site needs its own jquery.json file.
[09:26:58] <scott_gonzalez> For us, that's one per source file.
[09:27:00] <_|Nix|_> toddparker: So, we still need a fix ...
[09:27:05] <scott_gonzalez> It's probably the same for you?
[09:27:27] <toddparker> yeah
[09:28:04] <gseguin> We can generate the *.jquery.json from the AMD dependencies then strip out the AMD and copy the modules into a dist directory
[09:28:16] <gseguin> is that something that would work?
[09:28:58] <gseguin> s/strip out the AMD/strip out the AMD define wrapper/
[09:28:59] <scott_gonzalez> gseguin: Sounds like it should work.
[09:29:25] <scott_gonzalez> You'll probably need to modify the names of all the deps though.
[09:29:32] <scott_gonzalez> jquery.mobile.* -> mobile.*
[09:29:36] <toddparker> yeah, was hoping we'd do something like that
[09:29:39] <toddparker> right
[09:30:43] <gseguin> scott_gonzalez: that would be part of the copy to dist step
[09:30:43] <_|Nix|_> toddparker: Sometimes you can see the jump. The square is correct for a small fraction of a second, and then the page jumps so the scrollTop is no longer correct.
[09:30:51] <toddparker> _
[09:31:00] <toddparker> _|Nix|_:  /3/ works right in chrome
[09:31:10] <gseguin> though, how would that work with our new directory structure?
[09:31:17] <_|Nix|_> toddparker: /4/ breaks on Android 2.3.5
[09:31:42] <gseguin> dist/ will probably need to be flat, right?
[09:31:46] <_|Nix|_> toddparker: ... because I added <meta viewport=...
[09:31:57] <toddparker> right
[09:32:20] <toddparker> _|Nix|_: get me up to speed on the issue you're trying to fix with popup
[09:32:36] <toddparker> sorry, feeling like i'm not up to speed fully
[09:32:45] <_|Nix|_> toddparker: Get them correctly centred on Android 2.3.5.
[09:33:04] <toddparker> ah, ok
[09:33:15] <_|Nix|_> toddparker: Breaks, because during both orientationchange and resize the $( window ).scrollTop() is off.
[09:33:41] <_|Nix|_> toddparker: You can add jQM and "orientationchange" to the above jsbin and watch it break.
[09:33:54] <_|Nix|_> toddparker: I gotta go for a bit.
[09:34:07] <gseguin> ok I'll try to get started tomorrow if johnbender isn't done by then
[09:34:34] <toddparker> _|Nix|_: testing now
[09:35:58] <toddparker> on my 2.3.6, the popup isn't vertically centered quite right, but it's vidible
[09:36:03] <toddparker> visible
[09:36:40] <toddparker> if that's the worst positioning for alpha, it's fine
[09:37:55] <johnbender> scott_gonzalez: we can't specify the pacakge.json location for `npm install` ?
[09:38:01] <johnbender> *package.json
[09:38:04] <scott_gonzalez> no
[09:38:24] <johnbender> :/
[09:38:36] <scott_gonzalez> Why would you want to?
[09:39:04] <johnbender> I guess the current situation is one reason
[09:39:16] <scott_gonzalez> I don't know what the current situation is.
[09:39:27] <johnbender> not worth going over
[09:39:59] <johnbender> gseguin: so the plan is that same as the original one we came up with, generate the json files for each module
[09:40:17] <johnbender> then we just need to move them to a special directory?
[09:40:36] <johnbender> sounds like we're going to have a one off branch + tag combo for each of these
[09:40:40] * johnbender could be wrong
[09:43:33] <scott_gonzalez> johnbender: Not a special directory. In the root.
[09:43:51] <johnbender> gseguin mentioned dist/
[09:43:57] <johnbender> maybe I need to read further back
[09:44:00] <gseguin> I did
[09:44:35] <johnbender> scott_gonzalez: is there any way to mark something as a dep and not a stand alone plugin?
[09:44:47] <gseguin> can't the plugin site point to a dist directory containing the the *.jquery.json and *.js files?
[09:44:47] <scott_gonzalez> no
[09:44:48] <johnbender> we've got lots of stuff that's just useless on it's own
[09:45:50] <scott_gonzalez> gseguin: The plugins site has general rules that apply to every repo.
[09:45:52] <johnbender> I guess we can just use some caps in the description like "ZOMG DON'T USE THIS IT'S A NOT REALLY A PLUGIN ON THE PLUGINS SITE" :D
[09:48:29] <johnbender> jzaefferer: it is, except for the base tests
[09:48:37] <johnbender> I didn't want to deal with that :/
[09:48:50] <johnbender> one excluded suite of 3 tests is fine
[09:48:54] <johnbender> everything else is in
[09:49:08] <johnbender> sometime this week I'll dump IE into the browser list
[09:49:13] <johnbender> and then some mobile browsers
[09:58:09] <johnbender> jzaefferer: there was actually a weird bug in FF that the swarm url flushed out
[09:58:19] <johnbender> location.hash auto decodes :(
[10:07:30] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/viklIQ
[10:07:30] <jqmobilecommit> [jquery-mobile/master] Re-org of the popup doc page, added note about transition perf, fixed typo - toddparker
[10:29:18] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/MRRaog
[10:29:18] <jqmobilecommit> [jquery-mobile/master] Added nested menu demo for popups, reduced the number of list items in collapsible demos - toddparker
[10:31:28] <toddparker> new nested menu demo here - http://jquerymobile.com/test/docs/pages/popup/index.html
[10:32:45] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/5DcxNg
[10:32:45] <jqmobilecommit> [jquery-mobile/master] Re-org demo code, capitalization tweak - toddparker
[10:33:07] <MauriceG> Hi toddparker : at http://jquerymobile.com/test/docs/pages/popup/index.html -> Setting transitions stops with "Note that all the performance" .
[10:34:34] <MauriceG> toddparker: never mind,  fixed with last commit
[10:37:15] <MauriceG> toddparker:  ... sorry no, it's not fixed ...
[10:45:14] <johnbender> toddparker: working on plugin generation
[10:48:05] <i-hate-dave> Project jQuery Mobile TestSwarm Master build #30: FAILURE in 24 min: http://swarm.jquery.org:8080/job/jQuery%20Mobile%20TestSwarm%20Master/30/
[10:53:31] <i-hate-dave> Yippie, build fixed!
[10:53:31] <i-hate-dave> Project jQuery Mobile TestSwarm Master build #31: FIXED in 5 min 25 sec: http://swarm.jquery.org:8080/job/jQuery%20Mobile%20TestSwarm%20Master/31/
[10:56:53] <uGoMobi> johnbender: I see TestSwarm is improving its speed as well
[10:58:38] <toddparker> back from lunch
[10:58:56] <toddparker> johnbender: for the packagee.json?
[10:59:11] <toddparker> anyone get a chance to look at why latest.js is out of date?
[11:03:01] <_|Nix|_> MauriceG: What exactly is the problem with popups?
[11:04:33] <toddparker> MauriceG: thanks, i'll fix
[11:04:45] <toddparker> _|Nix|_ docs typo
[11:04:57] <_|Nix|_> toddparker: OK.
[11:05:30] <uGoMobi> _|Nix|_: are we using throttledresize event for popup?
[11:06:49] <toddparker> ok, fixed MauriceG
[11:06:53] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/UdUxVQ
[11:06:53] <jqmobilecommit> [jquery-mobile/master] Remved stray text on popup page. - toddparker
[11:08:04] <toddparker> uGoMobi: i wonder if we could make a popup look like a panel that is anchored to the bottom/top of the page by playing with offsets and the  slide up/down transition
[11:10:14] <uGoMobi> toddparker: looks like it should be possible... just trying to think of a use case
[11:12:54] <uGoMobi> you mean a popup that covers whole screen and enters/leaves width slide up/down, right?
[11:14:34] <toddparker> like the panels that slide up on pod for copy, email
[11:14:46] <toddparker> iPhone rather
[11:15:15] <toddparker> http://www.simonblog.com/wordpress/wp-content/uploads/2012/06/ios6-photo-share-hack.jpg
[11:16:29] <uGoMobi> ah ok, like the control sheet you can create with a dialog
[11:16:39] <uGoMobi> but attached to bottom instead of top
[11:16:42] <toddparker> yep
[11:16:46] <toddparker> same idea
[11:16:51] <toddparker> i bet we could do that
[11:17:33] <uGoMobi> yeah of course we can :)
[11:19:56] <toddparker> http://taitems.github.com/iOS-Inspired-jQuery-Mobile-Theme/#dialogs
[11:19:59] <toddparker> go to dialogs
[11:20:03] <toddparker> all the options
[11:20:17] <toddparker> this is jqm but he had to hack the dialog
[11:20:27] <toddparker> think we could make a simple demo in the same spirit
[11:20:57] <toddparker> API question - for the tolerance popup option there are 4 values
[11:21:02] <toddparker> in this order: left, top, right, and bottom
[11:21:29] <toddparker> in CSS, the order is always TRouBLe (top, right, bottom, left)
[11:21:51] <toddparker> should we switch to that or is there a JS convention that this is obeying now
[11:22:22] <uGoMobi> toddparker: yes, I agree
[11:22:34] <toddparker> TRBL?
[11:22:43] <uGoMobi> I don't about any JS convention
[11:23:01] <toddparker> _|Nix|_: you ok with that change? johnbender, gseguin, agcolom , etc.
[11:23:04] <uGoMobi> yes I would prefer TRBL
[11:23:34] <toddparker> me too. so used to it
[11:25:15] <uGoMobi> in the data-attr ref it is already in that order: 30,15,30,15
[11:26:29] <toddparker> in the options for popup, it says "By default, the values above will be used for the distance from the left, top, right, and bottom edge of the window, respectively."
[11:26:34] <toddparker> wonder which it is?
[11:26:42] <uGoMobi> hmm... the data-attr ref also contains data-position-to twice
[11:27:11] <uGoMobi> this is the code: var tol = { l: 15, t: 30, r: 15, b: 30 };
[11:27:38] <toddparker> mind switching that?
[11:27:51] <toddparker> we need to clean this up
[11:28:04] <toddparker> also missing some data-attr versions of options in the docs
[11:28:12] <toddparker> this should be a data-option
[11:28:18] <toddparker> since it's an option
[11:29:34] <toddparker> this doesn't seem to work
[11:29:34] <toddparker>  data-position-to="origin" data-tolerance="0,100,0,-20"
[11:30:00] <toddparker> or whatever
[11:30:11] <toddparker> working for you?
[11:30:43] <toddparker> actually, that action sheet idea won't work
[11:31:03] <toddparker> we'd need a different positioning logic to place it at the top or bottom
[11:31:19] <toddparker> never mind on that
[11:31:25] <toddparker> bit let's clean up the docs
[11:31:42] <toddparker> and I'd like to add demos for tolerance
[11:32:04] <uGoMobi> toddparker: the widget makes sure the popup isn't position below the fold if I am not mistaken
[11:32:05] <toddparker> guess we could do it
[11:32:06] <toddparker> open(x, y, transition, positionTo)
[11:32:28] <toddparker> pass in y of 0 to have it position to the top
[11:32:36] <toddparker> bottom would require calcs
[11:33:11] <toddparker> be cool to show at least one demo that really pushed the customization
[11:33:21] <toddparker> even if we need to add a small script
[11:33:56] <toddparker> we could have 0 margin on the top/bottom and maybe add a few px of negative margin to nudge it offscreen
[11:34:14] <uGoMobi> yes
[11:34:53] <uGoMobi> I just changed to TRBL order in the code but have to test because had to change couple of things
[11:35:06] <uGoMobi> so what's on our list
[11:35:47] <uGoMobi> have some other work to do tonight too, but can work on some things for the next hour
[11:36:35] <agcolom> hi! seems I've missed a lot!
[11:38:44] <_|Nix|_> toddparker: At the time of the orientationchange event on Android 2.3.5 the window size is that of the old orientation.
[11:39:06] <_|Nix|_> toddparker: So, orientationchange is more like "Watch out! The orientation is about to change!"
[11:39:34] <_|Nix|_> toddparker: So, definitely gotta go with resize + timeout.
[11:40:55] <uGoMobi> agcolom: could you look at the popup info in data attr ref ? it contains data-position-to twice and data-tolerance should say what is the order of the values (t, r, b, l)
[11:42:21] <uGoMobi> _|Nix|_: isn't that is what trottledresize does ? adding a timeout to resize?
[11:42:39] <agcolom> uGoMobi: sure...
[11:43:04] <uGoMobi> agcolom: thanks!
[11:51:33] <agcolom> uGoMobi: 30, 15, 30, 15 - Distance from the edges of the window (top, right, bottom, left) (do you think this is clear enough or needs more info? currently this is:
[11:51:45] <agcolom> 30, 15, 30, 15</strong> - How much room to leave from the edges of the window (top, right, bottom, left)
[11:52:06] <agcolom> toddparker: ^
[11:52:17] <uGoMobi> agcolom: seems clear to me
[11:52:51] <gseguin> toddmparker_: I'm ok with the same order as CSS
[11:52:55] <agcolom> ok, changing now.
[11:53:00] <gseguin> toddparker: ^
[11:54:29] <jqmobilecommit> [jquery-mobile] agcolom pushed 1 new commit to master: http://git.io/P05hcA
[11:54:29] <jqmobilecommit> [jquery-mobile/master] Docs: rewording of data-tolerance (docs/api/data-attributes.html) - Anne-Gaelle Colom
[11:56:09] <_|Nix|_> uGoMobi: Not quite. In my case, during each resize I check whether the window offset/size has changed from the previous resize, and if it has, I keep renewing a timeout until it stops changing. Then, I reposition the popup.
[11:57:13] <uGoMobi> _|Nix|_: ok, thanks for explaining
[11:57:38] <_|Nix|_> uGoMobi: I'm in the middle of writing it, so it's /really, really/ fresh in my mind :)
[11:57:43] <uGoMobi> _|Nix|_: I was looking into the issue with the dialog
[11:58:06] <uGoMobi> the popup being smaller than the container I mean
[11:58:51] <uGoMobi> and it seems a timing issue as well
[11:59:57] <uGoMobi> _|Nix|_ toddparker : FYI - I just committed the change in the order of the tolerance values (commit didn't show up here)
[12:16:13] <agcolom> uGoMobi: data-position-to, under popup. is it the one straight under popup that needs to go ? (and we keep the one under Anchor with a data-rel="popup"?)
[12:16:46] <uGoMobi> agcolom: yes
[12:17:08] <agcolom> sure? seems it is also a straight popup option now?
[12:17:54] <jqmobilecommit> [jquery-mobile] gabrielschulhof pushed 1 new commit to master: http://git.io/4ECtiw
[12:17:54] <jqmobilecommit> [jquery-mobile/master] [popup] Wait for window size to settle - Gabriel Schulhof
[12:18:04] <uGoMobi> but you can't set the data-attr on the popup itself, only on the link
[12:18:12] <uGoMobi> or did I miss anything?
[12:18:24] <_|Nix|_> This commit makes things work a little cleaner in iOS ...
[12:18:25] <agcolom> ok. yes, of course! stupid me!
[12:18:34] <_|Nix|_> Also improves Android 2.3.5 a bit.
[12:18:38] <agcolom> data-attribute!!!!
[12:18:58] <uGoMobi> sounds like a useful commit _|Nix|_  :)
[12:19:19] <_|Nix|_> uGoMobi: I dunno ... I hope so. Check it out.
[12:20:05] <_|Nix|_> uGoMobi: The login dialog now ends up positioned correctly on iOS after orientation changes, but it still collides with the right edge of the screen, and the inputs inside still end up narrower than they should be.
[12:20:41] <uGoMobi> _|Nix|_: yes, I am trying to figure out what is causing it
[12:20:55] <_|Nix|_> uGoMobi: ... and on Android popups end up centred correctly, mostly, but sometimes the old behaviour remains.
[12:21:02] <uGoMobi> it seems like a webkit thing, because I also see it on Chrome, but not on FF
[12:21:39] <_|Nix|_> Yeah, I have noticed with popups, that if I resize the window to make it narrower, the popup ends up hitting the right edge and it becomes truncated.
[12:21:47] <uGoMobi> I wonder when exactly webkit redraws the screen after resize
[12:22:05] <_|Nix|_> uGoMobi: What I don't get is why is there an instance where the left/top of the popup is so close to the right edge that the popup doesn't fit anymore.
[12:22:32] <jqmobilecommit> [jquery-mobile] agcolom pushed 1 new commit to master: http://git.io/S6i3mQ
[12:22:32] <jqmobilecommit> [jquery-mobile/master] Docs: removed data-position-to from popup as belongs to Anchor with data-rel="popup" (docs/api/data-attributes.html) - Anne-Gaelle Colom
[12:22:35] <_|Nix|_> uGoMobi: When I get my first resize, I move the popup to (0, 0) to make sure it gets as much room as possible.
[12:22:53] <uGoMobi> _|Nix|_: yes I saw that
[12:23:08] <uGoMobi> so its a complete new positioning
[12:23:50] <uGoMobi> _|Nix|_: did you already test with tolerance 0?
[12:26:47] <_|Nix|_> uGoMobi: I don't think that's the problem. When you go from landscape to portrait, the browser does an automatic reposition for you, but the width of the popup plus the left is greater than the width of the portrait screen, so it gets truncated. After that, it issues a resize, and I move it to the right place, but it's too late, because it already got truncated.
[12:27:14] <_|Nix|_> uGoMobi: If I were to set the tolerances to 0, it might work, but it would break for a slightly wider popup.
[12:27:24] <_|Nix|_> uGoMobi: What we need is to re-layout the popup.
[12:27:31] <_|Nix|_> uGoMobi: I dunno how to get it to do that.
[12:27:35] <uGoMobi> _|Nix|_: ok clear
[12:28:15] <uGoMobi> _|Nix|_: yeah it is the same with that dialog issue... the browser does know the correct with but you have to trigger something to make the browser apply it
[12:29:00] <uGoMobi> _|Nix|_: if I have to code inspector open and select the ui-popup in there, the popup is redrawn with correct width
[12:29:08] <uGoMobi> s/to/the
[12:30:04] <uGoMobi> _|Nix|_: actually I think we solve a few other issues (not popup related) as well as soon as we figure out how to do that
[12:30:18] <uGoMobi> fixed headers not resizing etc
[12:35:04] <uGoMobi> _|Nix|_: how about adding and removing an empty text node?
[12:46:18] <johnbender> toddparker: you asked if I was ok with the trbl ?
[12:46:29] <johnbender> as long as we aren't going overboard on the data attributes
[12:49:00] <_|Nix|_> uGoMobi: Give it a shot.
[12:49:21] <_|Nix|_> uGoMobi: I mean, give adding/removing an empty text node a shot. You can do it during "popupbeforeposition".
[12:50:02] <agcolom> johnbender: did you see my email on basecamp regarding latest? http://code.jquery.com/mobile/latest/jquery.mobile.js is 8 days old. Is the real latest somewhere else?
[12:51:57] <johnbender> agcolom: no, but I'll take a look
[12:52:10] <johnbender> I don't think the deploy made it across to the new server
[12:52:15] <johnbender> which doesn't surprise me
[12:52:30] <johnbender> I think the new jenkins has access to the cdn so it should be a quick fix
[12:52:43] <johnbender> gnarf: the new jenkins has access to the cdn host right?
[12:52:46] <agcolom> ok. yes, I wasn't sure when the move started...
[12:53:08] <agcolom> cool, thanks :-)
[13:00:53] <johnbender> agcolom: waiting to here back on where it's supposed to be
[13:00:58] <johnbender> not obvious just yet
[13:01:34] <uGoMobi> _|Nix|_: doesn't fix it :(
[13:02:32] <_|Nix|_> uGoMobi: :(
[13:03:20] <agcolom> johnbender: great thank you. Will keep an eye on this
[13:04:11] <toddparker> hey - i'm back. what did i miss?
[13:06:18] <toddparker> _|Nix|_: what if you set the width of the popup on orientation change, then removed that, maybe it would re-draw
[13:06:52] <toddparker> set the max-width to the width of the new orientation
[13:06:57] <toddparker> so it doesn't blow out
[13:07:04] <toddparker> just tossing out ideas
[13:07:47] <_|Nix|_> toddparker: I'm already setting the max-width. I suspect it doesn't affect the popup if the max-width I set on it is more than what it needs.
[13:08:13] <_|Nix|_> toddparker: Like, for example the popup menu and the login dialog.
[13:10:37] <jqmobilecommit> [jquery-mobile] gabrielschulhof pushed 1 new commit to master: http://git.io/ZrS41Q
[13:10:37] <jqmobilecommit> [jquery-mobile/master] [popup] Clean up resize timeout - Gabriel Schulhof
[13:10:50] <agcolom> uGoMobi: the map doesn't center correctly in the popup. The strange thing is that if you open the map (without the popup) it is centered correctly (the map has the marker in the center) while in the popup it has the marker in the top left corner. I am wondering whether because the popups are now amazingly fast to open the map doesn't have time to get the centering correctly... I'll play around...
[13:10:50] <agcolom> maybe adding a transition to slow things down could solve it...
[13:14:27] <uGoMobi> agcolom: hmm I see what you mean... weird
[13:15:00] <uGoMobi> agcolom: maybe it is because we now set the size of the popup when it is opened
[13:16:20] <_|Nix|_> OK ... iOS is looking decent - some blinkiness upon reposition, but nothing that can't be fixed later.
[13:17:56] <agcolom> so strange I've taken the code and put it in a jsbin and it works!
[13:18:11] <agcolom> http://jsbin.com/anevoj (it's map2)
[13:18:37] <_|Nix|_> Android is much worse. The first two orientation changes the centering doesn't work, then it works for a few more, then the page scrolls to ( 0, 0 ) and it still works, but it works at ( 0, 0 ). So the page underneath the popup goes pretty crazy.
[13:19:07] <_|Nix|_> Of course, when you dismiss the popup, it goes back to wherever it was, so sanity is restored, but it still looks bad.
[13:21:12] <agcolom> uGoMobi: lookslike it could be data-position-to
[13:22:14] <uGoMobi> agcolom: how do you mean?
[13:22:26] <agcolom> actually no, it all works fine in the jsbin!
[13:22:42] <agcolom> ... still looking...
[13:22:56] <toddparker> uGoMobi: see this? https://github.com/jquery/jquery-mobile/issues/4737
[13:23:00] <toddparker> maybe later
[13:23:02] <socialhapy> ★ Issue #4737 on jquery-mobile (Devolv; 2h, 22m ago): Retina + High DPI Border Support
[13:23:08] <toddparker> seems like overkill right now
[13:23:10] <uGoMobi> oh yeah I saw that one
[13:23:14] <agcolom> holdon. I use latest in jsbin
[13:23:21] <uGoMobi> I was thinking... why dont you create a PR :)
[13:23:33] <agcolom> so i won't have data-position-to
[13:23:37] <uGoMobi> agcolom: I think I know the issue with the map
[13:23:45] <agcolom> yes?
[13:23:56] <uGoMobi> we set the size of the iframe to 0 by o
[13:24:02] <jqmobilecommit> [jquery-mobile] johnbender created plugin-generation (+1 new commit): http://git.io/QEOcCw
[13:24:02] <jqmobilecommit> [jquery-mobile/plugin-generation] starting in on plugin generation for new jquery plugin site - John Bender
[13:24:07] <agcolom> must be something done to the popups in the last 8 days ;-)
[13:24:22] <agcolom> of course...
[13:24:25] <agcolom> makes sense
[13:24:31] <uGoMobi> when you open the popup we set the right size
[13:24:39] <agcolom> ok
[13:24:47] <uGoMobi> but then the init function of the google maps api is already called
[13:24:53] <agcolom> yes
[13:25:11] <agcolom> and one a 0x0 the center is the top left corner!
[13:25:14] <uGoMobi> so it centers that marker in a 0 by 0 iframe
[13:25:27] <uGoMobi> which means... upper left corner
[13:25:33] <uGoMobi> yup
[13:26:44] <agcolom> have to help at home with something... be back later....
[14:15:24] <uGoMobi> _|Nix|_: maybe it is me, but I can't open popups programmatically anymore
[14:26:11] <_|Nix|_> uGoMobi: WORKSFORME ...
[14:26:22] <uGoMobi> hmm
[14:26:46] <uGoMobi> what am I doing wrong :/
[14:28:21] <MauriceG> _|Nix|_: Hi!  data-position-to  works on link (preferred) and on popup-container?
[14:28:32] <_|Nix|_> Dunno ... load popup/index.html and run $( "#popupBasic" ).popup( "open" );
[14:28:52] <_|Nix|_> uGoMobi: But there's also https://github.com/jquery/jquery-mobile/issues/4734
[14:28:59] <socialhapy> ★ Issue #4734 on jquery-mobile (gabrielschulhof; 1d, 5h ago): popup: Specific sequence breaks popups
[14:31:04] <uGoMobi> _|Nix|_: I must be doing something wrong.. will look tomorrow when fully awake
[14:31:08] <uGoMobi> _|Nix|_: something else... this works: data-tolerance="0," but this doesn't: data-tolerance="0"
[14:31:44] <uGoMobi> was looking at the code already, but wasn't sure what's the best way to fix it
[14:35:06] <toddparker> interesting
[14:39:59] <toddparker> _|Nix|_: as MauriceG said, should we document adding position-to on both the link and popup
[14:40:10] <toddparker> if both are set, who wins? i'd imagine the link
[14:42:22] <uGoMobi> does data-position-to now work on both the link and the popup?
[14:42:33] <uGoMobi> I think I missed something here
[14:42:58] <uGoMobi> that explains why it was in the data-attr ref twice
[14:43:15] <uGoMobi> and I just asked agcolom to remove one :(
[14:47:32] <uGoMobi> and data-transition?
[14:48:04] <MauriceG> _|Nix|_: 've added it already.  Am I the only following the meeting? ;-)  (and wondering about _|Nix|_  speed?)
[14:50:33] <toddparker> my understanding is that both position-to and transition are to be used on links as data-attrs
[14:50:55] <MauriceG> popup.js say: data-transition is an option and is also considered on links
[14:51:11] <toddparker> you can set those options programmatically when you call popup but we're not telling people to use 'em on the popup containers
[14:51:47] <toddparker> tolerance seems like another link thing since it's related to position-to
[14:52:33] <uGoMobi> toddparker: ok, so the data-attr works on both but we communicate only that it has to be set on the link
[14:53:05] <uGoMobi> that is data-position-to and data-transition
[14:53:14] <MauriceG> this I don't know...  I just tested that it works on both.
[14:53:31] <toddparker> MauriceG: which takes precendence?
[14:53:37] <MauriceG> link
[14:53:46] <toddparker> good
[14:54:03] <uGoMobi> I see data-transition is mentioned twice under popup as well in the data-attr ref
[14:54:07] <toddparker> you may be able to use in both places, but i'd rather not advertise both, adds to confusion IMHO
[14:54:28] <uGoMobi> I totally agree
[14:55:03] <toddparker> i'd prefer to document how to use data- in a clear consistent way
[14:55:04] <MauriceG> I'm not.
[14:55:17] <MauriceG> But ok.
[14:55:22] <toddparker> MauriceG: meaning you don't agree
[14:56:00] <MauriceG> To have this on both is a nice feature.
[14:56:52] <MauriceG> Create a popup div with a fixed position-to but changeable on link.
[14:57:27] <MauriceG> Depends where and wherefore it is needed
[14:57:32] <todd_> first question: do transition, position-to, and tolerance ALL work on both the link and popup?
[14:57:41] <uGoMobi> how about a note that those two can be used on both?
[14:57:45] <todd_> second: does the link take precedence for all?
[14:58:05] <todd_> if the answer is yes, then i suppose we could document both
[14:58:17] <todd_> if these aren't consistent, it's messy to explain
[14:59:06] <todd_> putting it on the popup is used to set it globally for that popup, adding it to the link allows you to override that setting if opened from a particular link
[14:59:12] <MauriceG> think on a popup slide in from bottom.  But can also be used on a link and then it is centered.
[14:59:46] <MauriceG> ok  Slide in from bottom not implemented.  All hope on uGoMobi
[15:00:03] <uGoMobi> huh?
[15:00:35] <MauriceG> You know, earlier this day.  iOS slide in ...
[15:00:42] <MauriceG> uGoMobi: ^^
[15:01:04] <MauriceG> hah!
[15:02:01] <MauriceG> Tolerance seems not useable on links.
[15:02:13] <uGoMobi> MauriceG: you mean that example todd_ and I were discussing?
[15:02:24] <MauriceG> yep
[15:02:55] <jqmobilecommit> [jquery-mobile] johnbender pushed 1 new commit to plugin-generation: http://git.io/CmPJ1Q
[15:02:55] <jqmobilecommit> [jquery-mobile/plugin-generation] move some bits out to config and clean up quick hacks in plugins task - John Bender
[15:04:47] <MauriceG> btw:  _|Nix|_ added the paragraph about position-to at popup-containers to the doc.
[15:05:11] <uGoMobi> MauriceG: and slideup doesn't work?
[15:05:20] <MauriceG> no...
[15:05:25] <uGoMobi> hmm
[15:06:00] <MauriceG> I just mean a feature like iOS slide in, Popup arranged on top or bottom .
[15:07:45] <uGoMobi> slide up is working
[15:08:49] <uGoMobi> todd_: https://docs.google.com/document/d/1y-6tRWGU-SLV9gvY8lla4iWxdCCsPQ79XoHI8C0dWjg/edit#
[15:09:00] <uGoMobi> MauriceG: ^^
[15:10:42] <uGoMobi> ok so data-tolerance should go under container
[15:11:45] <agcolom> uGoMobi: do we need to revert my last commit? (removing data-position-to from popup?)
[15:11:46] <todd_> sorry, back
[15:11:56] <todd_> yeah, that iOS thing would be cool
[15:11:56] <uGoMobi> agcolom: no
[15:12:01] <agcolom> ok
[15:12:04] <agcolom> thanks :-)
[15:12:10] <todd_> but i realized we don't have a way to position it top/bottom
[15:12:12] <uGoMobi> todd_: trying to create that one now
[15:12:22] <todd_> yeah uGoMobi?
[15:12:25] <todd_> that would be badass
[15:12:43] <todd_> MauriceG: i do agree that would be nice to have flexibility
[15:12:57] <todd_> the fact that we're all confused doesn't bode well :)
[15:13:48] <todd_> tolerance is an interesting one
[15:13:58] <todd_> it's so closely tied to how it's positioned
[15:14:14] <todd_> but if it works on both, than we can document it
[15:14:24] <uGoMobi> I think it is more related to the popup itself
[15:14:50] <uGoMobi> because you set the tolerance based on the content that goes into the popup
[15:14:59] <uGoMobi> to make it look good
[15:15:22] <uGoMobi> MauriceG tested tolerance and it only works on the popup itself
[15:18:45] <todd_> http://jsbin.com/ugatek/1/edit
[15:33:35] <agcolom> todd_: remember that latest is 8 days old@
[15:33:37] <agcolom> old!
[15:34:24] <todd_> gah. right
[15:34:24] <agcolom> so the latest options won't be in there...
[15:36:01] <agcolom> ok, it's bedtime for me! Goodnight everyone!
[15:36:23] <uGoMobi> goodnight Anne
[15:36:38] <uGoMobi> todd_: actually I got that panel slide up thing working
[15:36:41] <agcolom> Goodnight Jasper!
[15:39:51] <MauriceG> night Anne
[15:46:17] <toddparker> uGoMobi: did you say you got that working?
[15:46:27] <uGoMobi> yes
[15:46:33] <uGoMobi> but need some more tweaking
[15:46:36] <toddparker> reaaaaly
[15:46:46] <uGoMobi> and can only do it with a script
[15:46:47] <toddparker> is it up somewhere or jeu tlocal?
[15:46:52] <toddparker> i assumed as much
[15:47:03] <toddparker> but i want to start showing more ambitious demos
[15:47:03] <uGoMobi> because you can't set width 100% on popup
[15:47:20] <toddparker> right
[15:47:32] <uGoMobi> I will push it to my test repo when I am done
[15:47:36] <toddparker> use all the features you can on these
[15:47:38] <toddparker> cool
[15:47:57] <toddparker> if people like it, we can bake it in later
[15:47:59] <uGoMobi> will let you know when it is up
[15:48:04] <toddparker> nice
[15:48:08] <toddparker> alright, heading home
[15:48:16] <toddparker> i'll be working on the blog tonight
[15:48:19] <toddparker> bye all
[15:48:56] <uGoMobi> bye
[15:49:04] <MauriceG> bye, and goodnight Jasper
[15:49:21] <uGoMobi> goodnight MauriceG
[16:03:19] <gnarf> johnbender: /var/www/html/code.jquery.com/....
[16:03:33] <gnarf> johnbender: might need to chown the files you're copying to jenkins tho
[20:09:26] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/DLqzmg
[20:09:26] <jqmobilecommit> [jquery-mobile/master] Added two pane layout for all landing pages with better intro content - toddparker
[20:17:59] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/gtCbjA
[20:17:59] <jqmobilecommit> [jquery-mobile/master] Added a link to the page intro - toddparker
[22:07:47] <johnbender> gnarf: thanks
