[01:02:21] <_|Nix|_> gseguin: What tools do you use for generating those dependencies?
[08:18:56] <Wilto> Hey, happy new year gseguin. Thanks again for all your help last week, man.
[08:41:41] <toddmparker_> that is great gseguin
[08:42:03] <toddmparker_> we gotta get crankin on the download builder
[08:47:01] <Wilto> Yeah, I’m champing at the bit to start on that sucker.
[08:57:13] <jqmobilecommit> [jquery-mobile] toddparker pushed 1 new commit to master: http://git.io/o7wEXQ
[08:57:13] <jqmobilecommit> [jquery-mobile/master] Merge pull request #3363 from chetankjain/patch-3 - Todd Parker
[09:02:44] <gseguin> _|Nix|_: home brew with r.js
[09:03:12] <gseguin> toddmparker_: Who's got admin rights on our repo?
[09:03:32] <gseguin> I need to install a post-receive hook
[09:03:33] <toddmparker_> I think danheberden and jresig
[09:03:41] <gseguin> danheberden: ping
[09:03:51] <danheberden> gseguin yo
[09:04:12] <gseguin> hey is it possible that you install a post-receive hook on the jquery-mobile repo
[09:04:40] <gseguin> pointing at http://amd-builder.no.de/post_receive
[09:05:02] <danheberden> sure
[09:05:07] <_|Nix|_> gseguin: Is it anywhere in the jqm repo? I'm interested in something that can build me an AST for javascript so I can do similar stuff ...
[09:05:13] <gseguin> thank you danheberden
[09:05:56] <gseguin> _|Nix|_: it's on the amd branch right now
[09:06:18] <_|Nix|_> gseguin: Cool!
[09:06:49] <gseguin> _|Nix|_: that's for the jqm code that's instrumented with AMD
[09:07:11] <danheberden> gseguin added to jquery/jquery-mobile
[09:07:16] <gseguin> _|Nix|_: the builder / dep tracer is at: https://github.com/gseguin/node-amd-builder
[09:07:31] <gseguin> danheberden: great! Thank you
[09:14:03] <gseguin> toddmparker_, Wilto: so with that url just put the names of all the components that are going to have a checkbox in that page in the coma separated url attr "names" and you'll get the json object with all the deps for this components.
[09:14:11] <gseguin> s/this/these/
[09:14:22] <toddmparker_> so cool
[09:14:47] <toddmparker_> so the d/l UI just needs to make a URL like that?
[09:14:55] <gseguin> we need to thank James Burke for his work on RequireJS
[09:15:10] <gseguin> it's an amazing tool
[09:15:43] <kinblas> mornin' y'all
[09:15:59] <gseguin> morning kinblas, happy new year!
[09:16:08] <kinblas> gseguin: same to you!
[09:16:31] <gseguin> so the d/l UI just downloads that dep map to be able to show the deps between components
[09:16:44] <gseguin> the same way Modernizr builder does
[09:16:52] <gseguin> we can probably use their code
[09:17:22] <gseguin> toddmparker_: I modelled the dep map object on theirs
[09:18:04] <toddmparker_> very nice
[09:18:13] <toddmparker_> hey kinblas - you back?
[09:18:27] <kinblas> toddmparker_: back as in the office .. yeah
[09:18:31] <toddmparker_> nice
[09:18:42] <kinblas> toddmparker_: need to catch up with your transitions thread
[09:18:48] <toddmparker_> we made a lot of progress on fixed toolbars and transitions
[09:19:06] <kinblas> toddmparker_: I saw the initial fading transitions you had, but that was earlier last week
[09:19:20] <toddmparker_> we've refined that and the loader
[09:19:35] <kinblas> toddmparker_: so I was playing with some android tablets the other day and noticed that folks like facebook/twitter just don't do transitions
[09:19:41] <toddmparker_> and were working on trying to figure out what to do w/the others (slides, pop, flip)
[09:19:55] <toddmparker_> yeah
[09:20:17] <toddmparker_> that's what I was saying...for tablets, we should probably skip transitions
[09:22:20] <toddmparker_> kinblas: can you jump in here? https://github.com/jquery/jquery-mobile/issues/3373#issuecomment-3342913
[09:22:21] <socialhapy> ★ Issue #3373 on jquery-mobile, reported by micheljansen (2h, 16m ago): jqmData() does not set data as expected
[09:24:15] <toddmparker_> kinblas: i think scott moved the switch we had in docs.js to nix transitions at a resolution breakpoint into the new transition code
[09:24:32] <toddmparker_> our docs look better than stock jQM because we do this
[09:24:48] <kinblas> toddmparker_: yeah it confused me for a while, until I saw that
[09:24:49] <toddmparker_> we just need to dial in the breakpoint
[09:24:57] <kinblas> I was like uh-oh, what broke transitions
[09:24:58] <kinblas> :-)
[09:24:58] <toddmparker_> yeah, that's why it should be built in
[09:25:05] <toddmparker_> and documented
[09:29:05] <kinblas> toddmparker_: so regarding 3373, I'm not sure why jeresig chose to monkey-patch versus doing it how @tec27 suggested
[09:29:37] <toddmparker_> we can re-think
[09:29:46] <toddmparker_> that was a long time ago
[09:29:55] <toddmparker_> and i don't remember how we got there
[09:30:02] <toddmparker_> were you on those conversations?
[09:30:27] <kinblas> toddmparker_: yeah there was only 4 us at that tiime
[09:30:28] <kinblas> :-)
[09:30:34] <toddmparker_> thought so
[09:30:52] <toddmparker_> we can re-visit that decision
[09:33:31] <kinblas> toddmparker_: yeah we need to make sure we are getting the same values
[09:37:53] <toddmparker_> right
[09:38:29] <toddmparker_> i remember dave methvin had some concerns that maybe lead us to that decision?
[09:38:37] <johnbender> greating friends
[09:38:43] <johnbender> greetings friends
[09:38:46] * johnbender sighs
[09:38:47] <toddmparker_> anyway, we were in a rush so we can re-visit that at some point
[09:38:59] <toddmparker_> doesn't' seem super critical tho, right?
[09:39:05] <toddmparker_> johnbender!
[09:39:09] <toddmparker_> welcome back gang
[09:39:31] <johnbender> toddmparker_: we probably need to do some work for the 1.0.1 release
[09:40:05] <johnbender> I think the deploy might need to be udated
[09:40:08] <johnbender> *updated
[09:40:17] <toddmparker_> yes indeed johnbender
[09:40:48] <toddmparker_> i'd like to close some bugs out then release 1.0.1
[09:40:52] <toddmparker_> soon
[09:41:04] <toddmparker_> then we can figure out what to include in 1.1
[09:49:37] <johnbender> gseguin: I saw some email about the amd based builder
[09:50:05] <johnbender> just wanted to double check that I should still work on the navigation tests
[09:51:28] <gseguin> johnbender: yes indeed
[09:51:34] <johnbender> gseguin: cool
[09:51:36] <gseguin> not too much progress on the tests side
[09:51:44] <johnbender> gseguin: thats fine
[09:51:49] <gseguin> but lot of progress on the builder side
[09:51:50] <johnbender> I think we got _most_ of the value out of it
[09:52:06] <johnbender> we'll have to ask the community for their help otherwise
[09:53:49] <gseguin> johnbender: http://amd-builder.no.de/jquery-mobile/amd/make?baseUrl=js&include=jquery.mobile.page,jquery.mobile.forms.slider&pragmasOnSave=%7B%22jqmBuildExclude%22%3Atrue%7D
[09:56:09] <toddmparker_> gseguin and johnbender - is the amd stuff ready to go in master?
[09:56:25] <gseguin> toddmparker_: not the tests
[09:56:28] <toddmparker_> i think we're going to push in the dialog markup refactor today
[09:56:33] <toddmparker_> it's a small change
[09:56:43] <gseguin> some tests are going to be a real PITA to move to AMD
[09:56:45] <toddmparker_> so we just need some test help there?
[09:56:50] <toddmparker_> hmmm
[09:57:15] <toddmparker_> johnbender: do you have time to focus on the tests for AMD
[09:59:49] <johnbender> toddmparker_: we're pretty much finished
[09:59:54] <johnbender> we did it before the break
[10:00:14] <johnbender> the only one that I want to get sorted out is navigation, and the only real value is in understanding dependencies
[10:00:19] <toddmparker_> ok, cool. thought you were jamming on it
[10:00:26] <johnbender> so far its been very helpful with things like the select menu
[10:00:43] <toddmparker_> i'm just at the point where i want to get stuff that's baked out of branches and into master
[10:01:09] <johnbender> toddmparker_: are all those things for 1.1?
[10:01:49] <toddmparker_> i think the dialog refactor, amd, fixed toolbars, new transitions are all definite for 1.1
[10:02:12] <toddmparker_> because i'd like to have a d/l builder for 1.1
[10:02:14] <gseguin> johnbender: all the tests where we were reloading a script after modifying the env are going to be a problem with requirejs
[10:02:15] <Wilto> Woah, busy in here.
[10:02:17] <toddmparker_> so we need amd
[10:02:28] <Wilto> Good to have the band back together.
[10:02:36] <johnbender> gseguin: yah those are the ones we decided to punt on
[10:02:40] <johnbender> mostly core stuff
[10:02:45] <toddmparker_> we need to figure out whether popup and fetchlinks should be 1.1 or 1.2
[10:03:00] <toddmparker_> at least, that's my opinion
[10:03:02] <johnbender> which means there shouldn't be depedencies
[10:03:02] <toddmparker_> :)
[10:03:19] <johnbender> gseguin: or at least non obvious ones
[10:03:30] <toddmparker_> right, whatever is decided to be in core don't have dependencies
[10:03:30] <johnbender> toddmparker_: yah I have to take a look at all that stuff
[10:03:33] * johnbender is behind
[10:03:42] <gseguin> yeah in that case you need to shim the define/require functions
[10:03:53] * johnbender is over it
[10:03:54] <gseguin> and that should do, for testing
[10:04:10] <Wilto> I just wanna put some checkboxes on a page and make them look nice, me.
[10:05:04] <toddmparker_> that's all i want too
[10:05:33] <johnbender> toddmparker_: the Makefile looks like it's mostly set up to do the deploy already so long as the right branch is checked out
[10:05:39] <johnbender> and the version.txt is correct
[10:05:44] <Wilto> So, I’m drifting in and out here: gseguin, apart from dependencies, we’re good to barrel ahead on this thing with the API you’ve got set up?
[10:05:56] <johnbender> the only thing I'm not seeing is where the version number is inserted into the file name
[10:06:49] <toddmparker_> need that for sure
[10:08:32] <gseguin> Wilto: yeah
[10:08:43] <gseguin> which API though?
[10:08:54] <Wilto> Er, just that comma-separated URL.
[10:08:54] <gseguin> I need to send an update to the email I had sent
[10:09:14] <gseguin> I made the service a little more generic so it can handle other projects than jqm
[10:09:25] <Wilto> Yeah?
[10:09:55] <gseguin> yeah pretty much any project that is using AMD and is on git
[10:10:08] <Wilto> Badass.
[10:10:16] <Wilto> _You’re welcome, internet._
[10:10:26] <johnbender> toddmparker_: nevermind I spotted it
[10:11:04] <gseguin> Wilto: so you can steal the dep logic from Modernizr's builder
[10:11:23] <gseguin> and feed it the output of the /dependencies call
[10:11:33] <Wilto> Oh, badass.
[10:11:38] <Wilto> So we’re good to go, then.
[10:11:45] <johnbender> toddmparker_: alright it looks like we can deploy stable whenever
[10:11:49] <gseguin> and that should handle the GUI dependency
[10:11:54] <toddmparker_> gseguin: mind adding details to the amd ticket or a wiki page so this is documented
[10:12:17] <gseguin> toddmparker_: I'll do that later today
[10:12:28] <Wilto> That’s awesome. With toddmparker_’s blessing, I can start powering through that stuff today.
[10:12:35] <johnbender> gseguin: where does the site builder live, I'd be interested to see what you did
[10:12:39] <toddmparker_> sure Wilto
[10:12:40] <Wilto> It’ll be a nice change of pace from banging my head against a wall of Androids.
[10:12:53] <gseguin> johnbender: it's on github/gseguin
[10:13:37] <gseguin> it need some TLC though
[10:13:55] <johnbender> gseguin: I will judge your whole career by this code
[10:14:04] <johnbender> rest assured
[10:14:05] <gseguin> stand-up time, brb
[10:17:56] <toddmparker_> gseguin: sounds good. Wilto can work on this today, we just need to pick your brain a bit
[10:18:03] <toddmparker_> ping us when you're back
[10:18:11] <Wilto> Definitely. Hit me up when— yeah, what he said.
[10:22:18] <johnbender> toddmparker_: does jresig still do the deploys?
[10:23:31] <toddmparker_> he does
[10:23:40] <toddmparker_> but we could ask him to get you set up
[10:23:53] <toddmparker_> i'd prefer to have you be the one
[10:24:03] <toddmparker_> since you're involved day to day
[10:25:26] <jqm-jenkins-bot> Project jqm-master build #363: SUCCESS in 12 min: http://10.59.19.240:8080/job/jqm-master/363/
[10:25:27] <jqm-jenkins-bot> chetankjain: data-id is not used in Pages and Dialogs
[10:32:06] <gseguin> toddmparker_, Wilto: back
[10:34:40] <johnbender> toddmparker_: awwrighty
[10:34:51] <johnbender> he's probably tired of doing it anyway
[10:35:53] <gseguin> johnbender: please do comment on the code, once you looked at it
[10:36:12] <johnbender> gseguin: will do
[10:44:22] <toddmparker_> almost back ourselves
[10:46:53] <Wilto> I too am back.
[10:47:12] <gseguin> Yay! we're all back!
[10:47:30] <gseguin> oh wait! DAMMIT SCOTT!
[10:49:38] <Wilto> Alright gseguin, walk me through the details of this thing.
[10:50:45] <gseguin> so for the bundle builder there are 2 APIs you need
[10:51:25] <gseguin>  /jquery-mobile/:tag/dependencies and /jquery-mobile/:tag/make
[10:51:43] <gseguin> where :tag is the branch
[10:52:33] <gseguin>  /dependencies takes the following args: baseUrl & names
[10:52:47] <gseguin> for jqm baseUrl is "js"
[10:53:06] <gseguin> names is a coma separated list of the modules you want to include in the dep map
[10:53:47] <gseguin> it's the jquery.mobile.* in the js directory without the .js ext
[10:54:15] <gseguin> so you should have as many names as there are checkboxes on your GUI
[10:54:31] <Wilto> Alright, with you so far, I think.
[10:55:21] <gseguin> once you get that dep map you feed it to whatever code Modernizr is using to handle their deps on their GUI (or build your own)
[10:55:55] <gseguin> your checkboxes should be id'd with the names
[10:56:43] <gseguin> when you click the build button you basically go through the selected checkboxes and build the /make url
[10:57:40] <gseguin>  /make takes the same args as r.js: include, exclude, optimize, pragmas, pragmasOnSave and name
[10:57:48] <gseguin> and baseUrl
[10:57:59] <gseguin> baseUrl will still be js
[10:58:26] <gseguin> include will be a coma separated list of the checked checkboxes' ids
[10:58:46] <gseguin> I don't think we need exclude
[10:58:53] <Wilto> Easy-peasy.
[10:59:10] <gseguin> oh to include you need to add: jquery.mobile.init
[11:00:03] <gseguin> and pragmasOnSave=%7B%22jqmBuildExclude%22%3Atrue%7D
[11:00:23] <Wilto> Woah, what’s that last bit?
[11:00:23] <gseguin> and that is pretty much it I think
[11:01:18] <gseguin> this tells requirejs to not write whatever is between //>>excludeStart("jqmBuildExclude", pragmas.jqmBuildExclude);
[11:01:26] <gseguin> and //>>excludeEnd("jqmBuildExclude");
[11:01:35] <gseguin> to the bundle
[11:01:41] <Wilto> So, magic, you’re saying. GOT IT.
[11:01:48] <gseguin> that basically gets rid of the AMD wrapper
[11:01:56] <toddmparker_> seems pretty straightforward
[11:02:02] <Wilto> Oh, I follow you now.
[11:02:28] <Wilto> Yeah, doesn’t seem out of my league as a humble CSS-er. You’re around on and off today if I need to pester you, yeah?
[11:02:59] <gseguin> yeah I'm around
[11:03:05] <gseguin> look at https://github.com/jquery/jquery-mobile/blob/amd/Makefile#L107
[11:03:31] <gseguin> we're pretty much doing the same thing but via an HTTP service
[11:03:39] <Wilto> ( http://wil.to/_/mind-blown.gif )
[11:03:50] <Wilto> But yeah, I think I get you.
[11:04:23] <gseguin> oh the other include you want to add by default is jquery.mobile.exports
[11:07:06] <toddmparker_> kinblas: what's your availability looking like?
[11:07:33] <kinblas> toddmparker_: I'm still at 40%
[11:07:44] <toddmparker_> k
[11:07:54] <toddmparker_> what's on your plate right now for jQM?
[11:08:12] <toddmparker_> i have a few things for 1.0.1 that you could help with...
[11:11:09] <toddmparker_> this: https://github.com/jquery/jquery-mobile/issues/2933
[11:11:10] <socialhapy> ★ Issue #2933 on jquery-mobile, reported by dmfallak (1m, 4w ago): get_orientation() and hence getScreenHeight() doesn't work on some devices
[11:11:32] <toddmparker_> i think causes this: https://github.com/jquery/jquery-mobile/issues/3003
[11:11:32] <socialhapy> ★ Issue #3003 on jquery-mobile, reported by claudiuchetan (1m, 3w ago): getScreenHeight called by framework returns wrong orientation in RC2
[11:11:55] <toddmparker_> scratch that last link, closed as dup
[11:12:17] <toddmparker_> this one: https://github.com/jquery/jquery-mobile/issues/3371
[11:12:19] <socialhapy> ★ Issue #3371 on jquery-mobile, reported by dilbert-elbonia (1d, 1h ago): Do not hardcode the minimum screen height
[11:12:21] <toddmparker_> kinblas ^^
[11:12:52] <toddmparker_> you can see it's off if you open a dialog on a honeycomb tablet or playbook. black bg doesn't go full height in portrait
[11:13:09] <toddmparker_> think the landscape height is being used (incorrectly)
[11:15:02] <Wilto> Yeah, I kinda hit a wall on that yesterday.
[11:16:21] * kinblas is struggling to keep up with email and stuff
[11:16:45] <kinblas> toddmparker_: Wilto: I'll have to read those to catch up
[11:17:25] <toddmparker_> that would be a good one for you to look at. seems like something is off on our orientation and height calcualtion which causes ripples
[11:18:07] <kinblas> toddmparker_: if I recall correctly
[11:18:26] <kinblas> resize and orientation events happen or don't happen at all in the same order on the different devices
[11:19:01] <kinblas> sometimes orientation fires, but the dimensions of the viewport haven't changed yet
[11:19:01] <Wilto> We’re binding to throttledresize for that, and it did fire on the Playbook at least.
[11:19:02] <toddmparker_> right
[11:19:17] <Wilto> I just couldn’t track down what was being calculated incorrectly.
[11:19:33] <toddmparker_> i did a bit of tinkering around and we're setting the min-height of the page with an inline style
[11:19:34] <Wilto> All the methods we were using to get height and width seemed to come back correct on the Playbook.
[11:19:41] * kinblas is trying to catch up with transitions discussions
[11:19:45] <toddmparker_> we use two methods for detecting height
[11:20:11] <toddmparker_> and pick the lower of the two for the inline height
[11:20:12] <Wilto> Three if you include a measuring tape, which is my usual approach.
[11:20:29] <toddmparker_> but it seems that 3.0 and playbook need the higher value
[11:20:42] <kinblas> toddmparker_: I don't have a playbook
[11:20:48] <kinblas> ... still
[11:20:51] <toddmparker_> if i manually removed one of the two methods, the height was right
[11:21:02] <toddmparker_> yeah, but you have a 3.0 tablet, right?
[11:21:09] <toddmparker_> seems to be off the same way
[11:21:09] <kinblas> Android?
[11:21:12] <toddmparker_> ya
[11:21:16] <kinblas> yeah 3.2
[11:21:17] <toddmparker_> honeycomb
[11:21:39] <toddmparker_> i can test on PB for ya
[11:22:00] <toddmparker_> i just don't quite understand the logic and why it's built the way it is
[11:22:07] <toddmparker_> so i don't want to tinker
[11:22:31] <toddmparker_> oh, hey gseguin - have you clicked around on your ICS phone on the latest transitions? http://filamentgroup.com/tests/jqm-fade-out-in/
[11:23:24] <toddmparker_> all the transition types have been re-worked to use a fade to flat color to do the scroll jumps invisibly. seems ok, but i'd be curious about 4.0
[11:23:37] <toddmparker_> kinblas ^^ have you given those a try?
[11:24:11] <kinblas> toddmparker_: I'm trying out the latest fade-out-in on iPad 4.3.5
[11:24:32] <toddmparker_> scott's to-do list for that transition branch for tomorrow: 1) fix the android 2.2/2.3 rendering bug 2) fix flip to do a full flip 3) conditionalize flip for 3d support 4) make the none handler work using this handler 5) fix up unit tests if needed 6) break out transitions into individual files, maybe 7) add css file to override transitions at > x width
[11:24:39] <toddmparker_> btw - we
[11:24:40] <kinblas> things look smooth, only when things are at the tops
[11:24:52] <toddmparker_> meaning if you scroll down?
[11:24:55] <kinblas> yeah
[11:24:55] <Wilto> kinblas: Would you call it “smooth” or “smoove?”
[11:24:58] <Wilto> Aw, too late.
[11:25:13] <kinblas> toddmparker_: so for example
[11:25:35] <toddmparker_> we're going to nix the fades on tablets (See #7) so we can refine after that. might go away
[11:25:43] <kinblas> going from home page to "Methods & Utilities"
[11:25:49] <kinblas> scrolling down and then hitting back
[11:26:10] <kinblas> toddmparker_: oh so I should only be testing on smart phone form-factor?
[11:26:33] <toddmparker_> mostly
[11:26:35] <gseguin> toddmparker_:  I haven't, l will
[11:26:59] <toddmparker_> since i think we're all in agreement that transitions on tablets are going to rougher and pretty distracting
[11:27:04] <toddmparker_> just too many pixels in motion
[11:27:11] <gseguin> since I upgraded to ICS my vibrant spends more time tethered to the charger than in my pocket
[11:27:24] <kinblas> lol
[11:27:30] <toddmparker_> smaller tablets like the fire or playbook might be ok. they are borderline.
[11:27:36] <kinblas> gseguin: you need a mobile charger
[11:27:41] <gseguin> the battery life is horrible
[11:27:42] <toddmparker_> i heard that
[11:27:47] <gseguin> 6 hours at most
[11:28:01] <toddmparker_> interesting gseguin - so your ICS is an upgrade, not a Galaxy Nexus
[11:28:10] <toddmparker_> seems like the upgrade is a hot mess
[11:28:19] <toddmparker_> that's why they pulled it
[11:28:23] <gseguin> well it's a geek upgrade
[11:28:31] <gseguin> not an official ROM
[11:28:40] <toddmparker_> ah, gotcha
[11:29:06] <toddmparker_> i was reading that the battery life on the 4G android phones were so bad that they dropped 1% a MINUTE
[11:29:39] <toddmparker_> and even if you plugged it in to a charger, it would keep losing battery if you were using the phone
[11:29:55] <toddmparker_> charger couldn't keep up with the drain
[11:30:04] <toddmparker_> i thought iOS5 was bad. sheesh.
[11:30:16] <gseguin> yeah that sounds about right
[11:30:29] <toddmparker_> anyway, curious to see if transitions are tolerable
[11:30:41] <toddmparker_> android is really, truly a nightmare
[11:31:21] <fcheslack> on galaxy nexus android browser they jump to the top and flash the url bar, actual transition after that is nicer than slides though
[11:32:03] <toddmparker_> fcheslack: thanks!
[11:32:24] <toddmparker_> so you see the scroll to top before the transition starts?
[11:32:31] <fcheslack> yeah
[11:33:12] <toddmparker_> odd. we moved the jump to after the fade out. fun.
[11:33:29] <toddmparker_> but you're seeing decent framefrate on the fade? any blinks?
[11:33:55] <toddmparker_> kinblas: i see what you mean about the slight flash when going back. we may be able to tinker with animation timing for that
[11:34:13] <toddmparker_> all trial and error. longer pages sort of kill transitions, even on a phone.
[11:34:43] <toddmparker_> if you go to the transitions test page on that url, I added a set of buttons at the bottom to test this
[11:35:05] <toddmparker_> never as smooth but i don't know if there are tricks to improve...ideas?
[11:35:09] <kinblas> toddmparker_: seems to work better on iphone4 with iOS5 though I still see occassional scroll flashing
[11:35:22] <toddmparker_> yeah, timing is tricky
[11:35:26] <kinblas> timing sucks
[11:35:28] <kinblas> :-)
[11:35:30] <toddmparker_> heh
[11:35:38] <kinblas> that's the problem with the CSS3 transitions
[11:35:52] <kinblas> we have to make use of the events to serialize things
[11:36:00] <toddmparker_> think that happens when you have a longer page...the scrolling takes too long and starts to hit the transition
[11:36:29] <toddmparker_> i think scott built in callbacks for each step so keep them sequential but you know how that goes
[11:36:47] <kinblas> yeah you can't just fire things off and hope for the best .. on these devices the best never happens
[11:37:10] <toddmparker_> once we get this all built out and into master, we can finesse a bit. add some time buffering, change animation durations
[11:37:38] <kinblas> toddmparker_: so are we using event callbacks to serialize?
[11:37:42] <kinblas> time buffering won't work
[11:37:45] <kinblas> especially on android
[11:37:47] <toddmparker_> i found that tweaking duration from say 200ms to 22ms completely changed framerates and smoothness
[11:37:59] <toddmparker_> i think scott said so, yes
[11:38:05] <kinblas> the buffering only adds to the lag feel too
[11:38:09] <toddmparker_> yeah
[11:38:27] <kinblas> btw, are we still using CSS3 animations to rotate that loading icon?
[11:38:35] <toddmparker_> the best part of this is the fade is about 250ms faster than our baseline, timing-wise so it feels fast
[11:38:36] <kinblas> we should use animated gif
[11:38:42] <toddmparker_> NOOO
[11:38:52] <toddmparker_> i created a new animated gif
[11:39:05] <toddmparker_> that has a black circle behind it
[11:39:08] <kinblas> Ok whew ... are we using CSS3 in 1.0?
[11:39:14] <toddmparker_> yeah
[11:39:25] <kinblas> yeah I think that is part of the compositing problem
[11:39:40] <toddmparker_> which is smoother, some devices don't run the gif animation :/
[11:39:45] <kinblas> toddmparker_: so another thing, is the branch using display:none? Or offscreen hiding?
[11:39:56] <toddmparker_> but i noticed how much that slowed things down
[11:40:12] <toddmparker_> not sure...
[11:40:55] <toddmparker_> https://github.com/jquery/jquery-mobile/blob/fade-out-in-transition/js/jquery.mobile.transition.js
[11:41:37] <toddmparker_> https://github.com/jquery/jquery-mobile/blob/fade-out-in-transition/js/jquery.mobile.transition.outin.js
[11:42:28] <gseguin> toddmparker_: I'll make a video of what I see
[11:43:42] <toddmparker_> great, thanks
[11:45:41] <toddmparker_> kinblas: why do you ask? if offscreen better than display?
[11:46:24] <kinblas> toddmparker_: the only way to stop the flashing on Honeycomb was to not flip the display
[11:46:42] <kinblas> I think you referenced the example on your initial transitions email
[11:47:04] * kinblas is replying with what he recalls... on the transitions thread
[11:49:06] <gseguin> toddmparker_: http://vimeo.com/34523367
[11:49:14] <toddmparker_> it doesn't seem to blink at all on fades
[11:49:26] <gseguin> and http://vimeo.com/34523547
[11:49:33] <toddmparker_> seems that when you add a transform, it blinks
[11:49:45] <toddmparker_> translate, sorry
[11:50:01] <toddmparker_> thanks gseguin - that was fast
[11:50:41] <gseguin> you're welcome, hope that helps
[11:51:21] <toddmparker_> it does. that first video looks smooth
[11:51:23] <gseguin> I need to install the vimeo app on the ipod touch the iPad is too heavy, my hand get very shaky
[11:51:30] <toddmparker_> good framerate, no wonkiness
[11:51:35] <toddmparker_> heh
[11:51:52] <toddmparker_> waiting for that second video. vimeo is so slow on encoding.
[11:52:21] <toddmparker_> looks like they want you to pay to not wait.
[11:52:23] <toddmparker_> mafia shakedown
[11:52:49] <gseguin> yep
[12:03:53] <kinblas> toddmparker_: geez https://github.com/jquery/jquery-mobile/issues/3371 is long ... sigh
[12:03:54] <socialhapy> ★ Issue #3371 on jquery-mobile, reported by dilbert-elbonia (1d, 2h ago): Do not hardcode the minimum screen height
[12:04:24] <kinblas> I meant https://github.com/jquery/jquery-mobile/issues/3217#issuecomment-3309722
[12:04:25] <socialhapy> ★ Issue #3217 on jquery-mobile, reported by toddparker (4w, 1d ago): Page transition re-think: Smoother, faster
[12:07:39] <johnbender> gseguin: I'm about to go get some lunch but I found an interesting bug. I think the transitions lib has to come after navigation
[12:08:08] <johnbender> it sets the default transition handler to the css3 transition handler
[12:08:21] <johnbender> not 100% yet but I'll let you know
[12:15:29] <toddmparker_> kinblas: yeah, we've been tracking most of our progress on that ticket
[12:15:34] <toddmparker_> which is good, but super long
[12:16:02] <toddmparker_> johnbender: keep in mind that scott is completely re-writing the transition handler js
[12:16:16] <toddmparker_> so i dunno if it will pose the same issues
[12:21:27] <toddmparker_> kin - thanks for that email summary. good stuff
[12:22:18] <toddmparker_> i wonder if that bit about keyframes being composited on a separate thread is the cause of all our wacky rendering bugs in 2.2 and 2.3
[12:23:00] <toddmparker_> kinblas: you around and have a 2.2 or 2.3 device handy?
[12:48:29] <toddmparker_> http://filamentgroup.com/tests/jqm-fade-out-in/
[12:49:43] <gseguin> johnbender: these order problems should be sorted out by eventually moving the code in the right places but for now we can use the order plugin
[12:54:49] <kinblas> toddmparker_: let me check, I've been charging devices all morning
[12:55:15] <toddmparker_> ok
[12:55:20] <toddmparker_> know the feeling
[12:55:41] <toddmparker_> anyway, if you have a device, i can show you the last android issue
[12:56:02] <toddmparker_> scott is planning on removing the fades on android to work around it but maybe you'll have an idea
[12:56:52] <gseguin> toddmparker_: sometimes when I load the jQM docs on ICS I get just a grey screen, any idea what's happening?
[12:57:23] <toddmparker_> on master? 1.0?
[12:57:26] <gseguin> it also happens with our Jive Mobile app
[12:57:33] <gseguin> 1.0
[12:57:37] <toddmparker_> hmm
[12:57:43] <toddmparker_> funny, i haven't see that
[12:58:01] <gseguin> ok, maybe it's just my phone
[12:58:02] <toddmparker_> oh, but i don't have ICS
[12:58:13] <gseguin> any report from users like that?
[12:58:24] <toddmparker_> i'm not sure but it sounds like that build isn't up to snuff
[12:58:43] <toddmparker_> so maybe this will go away when they release the final version
[12:58:54] <toddmparker_> i don't think i've heard that
[12:59:00] <kinblas> toddmparker_: just tried 2.2, it's funny cause on the HTC incredible, you see the scroll to (0,0) first then the transition
[12:59:03] <toddmparker_> but i've heard that it's very slow
[12:59:13] <gseguin> indeed
[12:59:17] <toddmparker_> kinblas: out?
[12:59:20] <toddmparker_> odd
[12:59:26] <kinblas> toddmparker_: same with the back
[12:59:30] <toddmparker_> always?
[12:59:41] <kinblas> I see the top of the "to" page, then it jumps to where it should be scrolled to
[12:59:43] <toddmparker_> our incredible upgraded itself to 2.3
[12:59:46] <kinblas> toddmparker_: yes, always
[12:59:50] <toddmparker_> fun
[13:00:03] <kinblas> toddmparker_: yeah, I have a pending update, which I've been avoiding
[13:00:24] <toddmparker_> we still have an original droid on 2.2
[13:00:25] <toddmparker_> hold on
[13:01:18] <toddmparker_> loading
[13:01:34] <toddmparker_> i did most testing on 2.1, 2.3, 3.0
[13:02:14] <johnbender> toddmparker_: that's fine he'll have to sort out where it fits in the dep tree when we get this finished
[13:08:31] <toddmparker_> kin - yeah, i see that jump too but it's quick
[13:08:59] <toddmparker_> when i scroll down and click a link, it see the spinner in place then right before the stransition out, it does jump up
[13:09:00] <kinblas> toddmparker_: so there's still some amount of blinking we can't get rid of
[13:09:11] <toddmparker_> there, yes
[13:09:18] <kinblas> especially when the pages are larger than 1024
[13:09:32] <toddmparker_> this isn't perfect yet but i think we can get it pretty close most places
[13:09:46] <toddmparker_> does your spinner go a million miles an hour?
[13:09:50] <toddmparker_> FAST
[13:10:03] <kinblas> toddmparker_: on which platform/device?
[13:11:46] <kinblas> toddmparker_: i hardly see the spinner, even though some pages seem to take a while
[13:14:55] <toddmparker_> 2.2
[13:14:59] <toddmparker_> but only sometimes
[13:16:09] <toddmparker_> anyway, i think we're waiting a bit before showing the loader
[13:16:26] <toddmparker_> just to keep it from opening for a fraction of a second and slowing things down
[13:16:54] <toddmparker_> another thing we can tweak, but on a better device, it makes it feel faster
[13:18:04] <kinblas> gseguin: what are you using to shoot your videos?
[13:18:13] <kinblas> is it windy in your cube? :-P
[13:18:19] <gseguin> an iPad2
[13:18:24] <kinblas> lol
[13:18:29] <kinblas> a bit heavy or a camera
[13:18:36] <kinblas> s/or/for
[13:18:37] <gseguin> heh, it's heavy in one hand
[13:18:49] <gseguin> :)
[13:19:01] <kinblas> gseguin: so you can shoot with the vimeo app on ipad and just  instantly upload eh?
[13:19:09] <gseguin> yeah
[13:19:20] <gseguin> it's the iPhone app though
[13:19:30] <kinblas> eh, seemed big and clear
[13:20:05] <gseguin> but yeah I need to use the iPod touch for that, I know...
[13:24:29] <toddmparker_> yeah, it's great.
[15:12:45] <toddmparker_> alright guys, heading out
[15:12:50] <toddmparker_> talk to you in the morning
[15:12:53] <toddmparker_> g'night
[15:13:05] <johnbender> toddmparker_: later!
[15:13:14] <toddmparker_> bye guys
[15:15:18] <gseguin> johnbender: one thing I don't if I shared with you is: https://github.com/jquery/jquery-mobile/commit/b74d20e735457835d00e996f2d7014702fea310f
[15:15:18] <socialhapy> ★ Commit on jquery-mobile by gseguin (1w, 2d ago): Got rid of node dependency
[15:15:29] <jqmobilecommit> [jquery-mobile] Wilto pushed 1 new commit to dialog-markup-rework: http://git.io/o2lVyg
[15:15:29] <jqmobilecommit> [jquery-mobile/dialog-markup-rework] Applied top margin to dialog headers rather than .ui-dialog, as the latter was breaking content-only dialogs meant to align with the top of the viewport. - Mat Marquis
[15:17:08] <Wilto> …One, huh?
[15:17:16] <jqmobilecommit> [jquery-mobile] Wilto pushed 3 new commits to master: http://git.io/kyWJ1Q
[15:17:16] <jqmobilecommit> [jquery-mobile/master] Partial dialog refactor, in progress. - Mat Marquis
[15:17:16] <jqmobilecommit> [jquery-mobile/master] Moved .ui-dialog to element wrapping dialog header/content/footer, switched overlay non-theming class to .ui-dialog-page. - Mat Marquis
[15:17:16] <jqmobilecommit> [jquery-mobile/master] Applied top margin to dialog headers rather than .ui-dialog, as the latter was breaking content-only dialogs meant to align with the top of the viewport. - Mat Marquis
[15:17:29] <Wilto> You make me nervous, jqmobilecommit.
[15:17:33] <Wilto> That’s better.
[15:20:08] <toddmparker_> woo hoo dialog refactor is a go
[15:23:47] <Wilto> Dialog transition refactoring, however, is a comedy of errors.
[15:23:53] <Wilto> Maybe a tragedy of errors.
[15:32:10] <jqmobilecommit> [jquery-mobile] Wilto pushed 1 new commit to dialog-markup-rework: http://git.io/9ThMvg
[15:32:10] <jqmobilecommit> [jquery-mobile/dialog-markup-rework] Very prototype-y rework of dialog transitions; globally applying a fade to the dialog’s overlay while applying the specified transition to the dialog itself. - Mat Marquis
[15:43:28] <johnbender> gseguin: so there's no node dep then
[15:43:38] <johnbender> gseguin: sorry I've had my head burried in getting the nav tests passing
[15:43:42] <johnbender> it's proving to be quite the bitch
[15:44:42] <gseguin> I know, right?
[15:45:00] <johnbender> gseguin: well he nav tests are especially picky
[15:45:09] <johnbender> without all the additions
[15:45:41] <gseguin> johnbender: you can always not use requirejs
[15:45:59] <gseguin> shim the define function
[15:46:05] <johnbender> gseguin: it's super tempting right now to do that
[15:46:13] <gseguin> and include script tags
[15:47:02] <gseguin> if that's the only thing that prevents us from merging, I would go for it
[15:47:05] <johnbender> gseguin: I guess I've already identified that the transtion code has to come after the nav code
[15:48:01] <gseguin> so transition has a dep on nav
[15:48:17] <johnbender> gseguin: yah that's one way to look at it
[15:55:17] <johnbender> gseguin: hmm still seeing some of these failures
[15:55:29] <johnbender> although it looks like the tests are broken
[15:56:25] <johnbender> well broken is the wrong word, more like they don't appear as though they should be working in the first palce
[15:56:28] <johnbender> *place
[16:19:05] <jqm-jenkins-bot> Project jqm-master build #364: FAILURE in 6 min 27 sec: http://10.59.19.240:8080/job/jqm-master/364/
[16:19:05] <jqm-jenkins-bot> * mat: Partial dialog refactor, in progress.
[16:19:06] <jqm-jenkins-bot> * mat: Moved .ui-dialog to element wrapping dialog header/content/footer, switched overlay non-theming class to .ui-dialog-page.
[16:19:06] <jqm-jenkins-bot> * mat: Applied top margin to dialog headers rather than .ui-dialog, as the latter was breaking content-only dialogs meant to align with the top of the viewport.
[16:20:09] <johnbender> Wilto: buncha failures
[16:20:19] <johnbender> Wilto: did you run the test before merging into master?
[16:20:22] <johnbender> tests
[16:29:12] <Wilto> Ah hell, sorry man.
[16:29:52] <Wilto> Is everybody gonna get bombed with emails until I fix the tests, or can I sort it in the morning?
[16:30:02] <Wilto> johnbender ^
[16:32:02] <johnbender> Wilto: the test suite is only kicked off on commits
[16:32:16] <johnbender> don't worry about the email I can always turn it off, and feel free to wait until morning
[16:32:17] <Wilto> Waaait a sec.
[16:32:21] <johnbender> Wilto: don't dread the tests
[16:32:26] <Wilto> I DO THOUGH
[16:32:29] <johnbender> don't
[16:32:32] <johnbender> failure is GOOD
[16:32:38] <johnbender> it means we caught something before shipping it
[16:32:43] <johnbender> which is what it's meant to do
[16:32:58] <Wilto> Yeah, fair. This is passing for me, though, looks like? Please hold.
[16:33:02] * johnbender thanks Wilto for breaking the test suite 
[16:33:52] <johnbender> Wilto: looks lke nav, and select which makes sense given the dialog work
[16:34:52] <Wilto> Oh, oh, I’m testing master.
[16:34:53] <Wilto> Right.
[16:35:08] <johnbender> Wilto: you merged into master right?
[16:35:27] <johnbender> we're only running the build on Master
[16:36:00] <johnbender> sorry we're only running builds on Master and 1.0-stable
[16:38:16] <mikesherov> anyone here?
[16:38:36] * johnbender hides behind a curtain
[16:39:23] <Wilto> Alright, looking into this now.
[16:39:48] <Wilto> I assume it’s a relatively quick fix.
[16:39:54] <Wilto> What can we do for you, mikesherov?
[16:40:30] <mikesherov> I'm looking to figure out what to do about an old support test we're considering dropping on jquery core
[16:40:52] <Wilto> For what?
[16:41:15] <mikesherov> so basically, in jQuery Core, we're looking to drastically simplify the offset function
[16:41:18] <mikesherov> I have a PR here: https://github.com/jquery/jquery/pull/642/files
[16:41:19] <socialhapy> ★ Pull request on jquery by mikesherov (1w, 2d ago): fixes #10996 (simplify offset)
[16:41:54] <mikesherov> It shaves 500 bytes off of jQuery's 33KB and removes 4 support tests
[16:42:32] <Wilto> I think we’re shimming that anyway, actually… One sec.
[16:43:04] <mikesherov> but it also means the browser must have either getBoundingRectClient() or webkitConvertPointFromNodeToPage()
[16:43:28] <mikesherov> and in fact, it also means we might be able to completely drop the webkitConvertPointFromNodeToPage() fallback too
[16:43:51] <mikesherov> but I need to be sure it doesn't break what you guys are doing
[16:44:08] <Wilto> I feel like Scott ran into some issues with relying on getBounding… recently, now that you mention it.
[16:44:17] <mikesherov> and it seems like you're supporting the original iphone, which may not have either of those functions...
[16:44:41] <Wilto> No, I don’t know the version, but older iOS doesn’t have it. If memory serves, anyway.
[16:45:15] <Wilto> Cool if we get back to you? Scott would know more about this—I can catch up with him n the morning.
[16:45:38] <Wilto> Oh, hm.
[16:45:47] <Wilto> https://github.com/jquery/jquery-mobile/blob/master/js/jquery.mobile.fixHeaderFooter.js#L182
[16:46:13] <Wilto> That leads me to believe we might be okay.
[16:47:12] <mikesherov> Wilto... but there seems to be a TODO to remove once core fixes it in there :-)
[16:47:20] <Wilto> Yeeeah.
[16:48:28] <mikesherov> Wilto, you can get back to me on twitter: @mikesherov
[16:48:28] <mikesherov> or via email mike.sherov@gmail.com
[16:48:57] <mikesherov> I'm really just looking for confirmation that getBoundingRectClient() with webkitConvertPointFromNodeToPage() fallback is acceptable for mobile
[16:49:22] <mikesherov> and as a bonus, if webkitConvertPointFromNodeToPage fallback isn't needed, that would be a nice bonus
[16:50:00] <Wilto> Any chance you wouldn’t mind throwing the above into an email to thegroup@filamentgroup.com?
[16:50:06] <mikesherov> sure, no problem
[16:50:17] <Wilto> I am but a humble CSS-slinger—I wouldn’t wanna breeze over any details without realizing.
[16:50:37] <mikesherov> I'm a CSS slinger as well
[16:51:30] <ajpiano> but unlike Wilto, you aren't a brigand
[16:51:39] <Wilto> I am a brigand, it’s true.
[16:51:56] <ajpiano> a dissembler!
[16:52:45] <mikesherov> A rogue
[16:52:52] <Wilto> A knave, even.
[16:53:02] <mikesherov> A ne'ev-do-well
[16:53:06] <mikesherov> ne-er*
[16:53:39] <Wilto> I barely do adequate, really.
[16:53:48] <Wilto> See also: the test suite.
[16:54:21] <mikesherov> LOL
[16:57:34] <mikesherov> Wilto: email sent
[16:58:32] <Wilto> Sweet. Thanks, man.
[16:59:01] <mikesherov> anyway, trains pulling into the station, gotta run... thanks for the help and pointing me in the right direction!
[16:59:34] <Wilto> No worries, dude.
