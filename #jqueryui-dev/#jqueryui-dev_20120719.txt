[00:31:17] <i-hate-dave> Project jQuery UI Release Coverage build #25: STILL FAILING in 30 min: http://swarm.jquery.org:8080/job/jQuery%20UI%20Release%20Coverage/25/
[05:33:54] <scott_gonzalez> I suppose it was silly of me to plan to work on the release script on the day I work in Panera with slow wifi...
[05:51:55] <ajpiano> one does not simply leave a panera
[05:52:12] <ajpiano> jzaefferer: woohoo, glad that guy took the bait ;)
[05:53:02] <scott_gonzalez> ajpiano: This is very true.
[05:53:12] <scott_gonzalez> I've created a clone of jquery-ui that only has the master branch and the tags.
[05:53:20] <scott_gonzalez> I'm not really sure how tags work when only the master branch is there.
[05:53:32] <scott_gonzalez> Perhaps this will be faster to clone though.
[05:54:46] <ajpiano> glwtd ;)
[05:54:54] <scott_gonzalez> I'm honeslty a bit confused about what happens when you do `git push <remote> master`
[05:55:15] <scott_gonzalez> It seems like that actually pushed all history, but only created the master branch on the remote.
[05:55:59] <scott_gonzalez> In which case cloning this new repo is probably exactly as slow as copying a full copy.
[05:56:11] <scott_gonzalez> s/copying/cloning/
[06:04:21] <ajpiano> i don't think it pushes history not from the branch you're pushing
[06:06:31] <scott_gonzalez> That's what I thought, but `git push --tags` was super fast, and the history is all there...
[06:06:45] <scott_gonzalez> ajpiano: Check this out: https://github.com/scottgonzalez/test-jquery-ui/
[06:06:58] <scott_gonzalez> Only has master branch, but full history for https://github.com/scottgonzalez/test-jquery-ui/commits/1.8.21/ which is from 1-8-stable.
[06:10:04] <ajpiano> weird
[06:34:30] <ajpiano> kswedberg: i know you're probably bummed about this but no more coffee breaks when you do a wordpress-publish anymore ;)
[06:34:49] <kswedberg> hahaha. why is that?
[06:35:10] <ajpiano> got rid of pygments!
[06:35:12] <ajpiano> https://github.com/jzaefferer/grunt-jquery-content/pull/4
[06:35:13] <socialhapy> ★ Pull request on grunt-jquery-content by ajpiano (12h, 11m ago): Replace dependency on node-pygmentize
[06:35:15] <kswedberg> is it because of the switch from pygmentize to node-syntaxhighlter?
[06:35:20] <kswedberg> aha!
[06:35:20] <ajpiano> yea
[06:35:25] <kswedberg> I guessed it.
[06:36:23] <scott_gonzalez> YAY
[06:36:59] <kborchers> ajpiano: that's awesome! one of the biggest hurdles during that hack night was getting pygmentize set up on windows machines
[06:37:00] <ajpiano> i wonder what @thlorenz will come up with in his pygmentsjs
[06:37:03] <scott_gonzalez> Beyond the time, I was not happy about having a dependency on a global binary.
[06:37:06] <kswedberg> thx, ajpiano !
[06:37:09] <ajpiano> kborchers: yeah
[06:37:28] <ajpiano> i'm getting rid of ruby for learn, and got rid of python for all sites
[06:37:34] <scott_gonzalez> awesome
[06:37:36] <ajpiano> so now we're actually down to  a sensible set of deps
[06:37:37] <kborchers> nice
[06:37:48] <kswedberg> aweseom
[06:38:04] <scott_gonzalez> The new UI release script has a global dep :-/
[06:38:13] <scott_gonzalez> But it makes writing the script so much nicer.
[06:38:14] <ajpiano> on what?
[06:38:18] <scott_gonzalez> shelljs
[06:38:35] <scott_gonzalez> sync implementations of common shell commands in node.
[06:38:47] <ajpiano> oh
[06:38:54] <ajpiano> as long as it's a node dep i don't think it's that bad
[06:39:22] <scott_gonzalez> The only reason it's a global dep is because there's no package.json to do an `npm install` from.
[06:39:45] <ajpiano> https://github.com/arturadib/shelljs/blob/master/package.json ?
[06:39:51] <scott_gonzalez> But this is only for the person doing the actual release. If you just want to run a local build, then it's not an issue.
[06:40:13] <scott_gonzalez> I mean, when you run the release script, you're not in a repo, so there's no package.json.
[06:40:18] <ajpiano> oh
[06:40:27] <scott_gonzalez> This is the existing script for 1.8.x: https://github.com/jquery/jquery-ui/blob/1-8-stable/build/release/prepare-release
[06:40:35] <scott_gonzalez> I curl that to a temp dir, then run it throgh bash.
[06:40:47] <scott_gonzalez> The new script is being written in node, but will follow the same process.
[06:40:58] <scott_gonzalez> Curl it to a temp dir and run it.
[06:41:25] <scott_gonzalez> It's safer to start from a fresh clone of the repo than to do a release from the clone you're always working on.
[06:41:36] <scott_gonzalez> So the first thing the release script does is create a new clone.
[06:42:07] <scott_gonzalez> https://gist.github.com/8d509b1716b6b9b14324
[06:53:22] <ajpiano> jzaefferer: what exactly is data-linenum supposed to do
[06:55:24] <ajpiano> scott_gonzalez: so in th enew script it will try to do an npm install though
[06:55:25] <ajpiano> ?
[06:55:57] <scott_gonzalez> ajpiano: data-linenum is whether to show line numbers (I think you can also specify a numer to start at).
[06:56:10] <ajpiano> scott_gonzalez: yeah, i thought it was for showing a number to start with
[06:56:24] <scott_gonzalez> I'm not sure if that's being used anywhere.
[06:56:24] <ajpiano> cause we get line numbers on by default
[06:56:35] <ajpiano> i found two uses of it in qunitjs.com
[06:56:39] <scott_gonzalez> Oh, ok
[06:56:41] <ajpiano> but only <code data-linenum>
[06:56:52] <ajpiano> not <code data-linenum="17">
[06:56:54] <scott_gonzalez> Right, I meant I don't think we're using data-linenum="x"
[06:57:03] <jzaefferer> you can specify an offset
[06:57:08] <scott_gonzalez> I think Richard only implemented that because pygments has underlying support for it.
[06:57:18] <scott_gonzalez> jzaefferer: Do you know if we planned on using that feature?
[06:57:22] <jzaefferer> but yeah, we're not using it
[06:57:54] <ajpiano> i can add in support for it as well
[06:58:02] <ajpiano> already got the autogenerated ID stripping working
[06:58:09] <jzaefferer> nice
[06:58:30] <ajpiano> i just wanted to see if there was any place in the existing content i could use to test the offset thing
[07:01:01] <ajpiano> omg jzaefferer
[07:01:17] <ajpiano> there is an option in syntaxhighlighter for handling <script> inside of html/xml
[07:01:22] <ajpiano> just found it
[07:01:32] <ajpiano> so i should be able to address all of #5 in the next few hours
[07:01:50] <jzaefferer> nice
[07:11:29] <scott_gonzalez> RobLoach from Drupal has requested that we publish UI to npm. Thoughts?
[07:24:11] <ajpiano> seems like a good idea at first
[07:24:20] <ajpiano> but then it's like, does every jquery plugin just go on npm
[07:34:14] <ajpiano> is there a way to wipe the db for a particular content repo from grunt
[07:42:28] <scott_gonzalez> ajpiano: Not directly, but perhaps if you just create an empty posts directory and an empty taxonomies.json then grunt wordpress-publish?
[07:42:47] <scott_gonzalez> Why do you need to wipe the db?
[07:43:09] <ajpiano> just nice to be able to have a fresh start
[07:44:24] <scott_gonzalez> A fresh start is tricky. There's no WordPress API for that.
[07:44:46] <ajpiano> it's not a bigdeal
[07:46:15] <scott_gonzalez> jzaefferer: https://github.com/jquery/api.qunitjs.com/issues/7 Not sure if other methods are missing.
[07:46:16] <socialhapy> ★ Issue #7 on api.qunitjs.com (scottgonzalez; 5m, 18s ago): Document notEqual()
[09:04:04] <scott_gonzalez> https://github.com/scottgonzalez/test-jquery-ui/commit/0533d7d40824af36b415b83eeb881c9ff0b85b60 :-)
[09:04:05] <socialhapy> ★ Commit on test-jquery-ui by Scott González (2m, 56s ago): Tagging the 1.9.0 release.
[09:04:24] <scott_gonzalez> That is saner to look at without whitespace changes: https://github.com/scottgonzalez/test-jquery-ui/commit/0533d7d40824af36b415b83eeb881c9ff0b85b60?w=1
[09:04:25] <socialhapy> ★ Github API: no commit found
[09:04:38] <scott_gonzalez> peol: :-/
[09:14:22] <gnarf> kswedberg: yt?
[09:15:18] <kswedberg> hey gnarf. i'm here for 5min
[09:15:35] <gnarf> kswedberg: i need to move api.jquery.com to a new server today
[09:15:44] <gnarf> there are directions waiting for you in skype on how to test it
[09:15:53] <kswedberg> ok. cool
[09:16:01] <gnarf> also, do you know how the email works?
[09:16:06] <gnarf> it got bounced to me
[09:16:31] <kswedberg> hmm. which email?
[09:16:54] <gnarf> the "something changed on api" emails to api-team
[09:17:02] <kswedberg> ah.
[09:17:13] <gnarf> closed list, and the server mails as "www-data@eol1.jquery.com"
[09:17:25] <gnarf> i imagine it used to be like "apache@api.jquery.com"
[09:17:30] <gnarf> but i don't see that on the list either
[09:17:41] <kswedberg> lemme check
[09:18:32] <kswedberg> gnarf: did you update the Email Post Changes plugin?
[09:18:48] <gnarf> i did - was that a bad idea? :)
[09:18:56] <gnarf> should i roll it back?
[09:19:20] <kswedberg> yeah, did you see where it said "PLUGIN HACKED BY KSWEDBERG. NOTE "CHANGED" COMMENTS BEFORE UPDATING" ? :p
[09:19:28] <gnarf> nope
[09:19:31] <kswedberg> heh
[09:19:37] <gnarf> ill re-copy it over
[09:19:48] <kswedberg> ok. hey, I gotta run.
[09:20:05] <kswedberg> also the WordPress Reusables plugin will break if updated.
[09:20:54] <gnarf> alright
[09:24:19] <gnarf> so - rolling back those two plugins
[09:24:39] <gnarf> i was experiencing a crazy bug, so i tried updating things to see if it went away
[09:25:19] <gnarf> rworth: whats your schedule looking like today
[09:28:57] <jzaefferer> scott_gonzalez: could use your help in using node-browserstack to run an IE9 instance with a given URL
[09:29:18] <scott_gonzalez> jzaefferer: ok, I've got time now.
[09:29:23] <scott_gonzalez> AND ALL DAY
[09:30:23] <jzaefferer> is there a way to actually get information out of that API client?
[09:30:28] <scott_gonzalez> nope
[09:30:32] <jzaefferer> otherwise its just the same as letting the cronjob running it
[09:31:04] <jzaefferer> ha, it passed, again
[09:31:14] <scott_gonzalez> through the API?
[09:31:16] <jzaefferer> Krinkle: apparently this only fails when the same client runs other tests?
[09:31:26] <jzaefferer> yeah, just cron, I don't have anything open
[09:31:32] <scott_gonzalez> :-/
[09:31:33] <rworth> gnarf I've got a little bit of time between 3:30-5:30, about an hour. Prepping for a 1:30 mtg now
[09:31:47] <Krinkle> jzaefferer: that's your theory - or did you just confirm that?
[09:31:49] <rworth> I also have a bunch of time tonight, between 8 and 11
[09:31:58] <gnarf> rworth: ok - I might want most of it :)
[09:32:11] <gnarf> rworth: still gotta move blog.* and the jqueryui wordpress'
[09:32:36] <jzaefferer> Krinkle: theory, but that test just now seems to confirm it
[09:32:40] <scott_gonzalez> gnarf: Does that include jquery.org/updates?
[09:32:47] <Krinkle> jzaefferer: okay
[09:32:49] <jzaefferer> that is, by resetting the failing test, I can get it to pass
[09:33:09] <rworth> gnarf cool, ping me at any/all those times
[09:33:27] <Krinkle> jzaefferer: well, either way. the new run system will make that obsolete as there will be no frame, nor a parent page. the test suite it the page itself. So it becomes obsolete/fixed naturally
[09:33:47] <jzaefferer> and each test page runs just once, no sharing with anything else, right?
[09:34:22] <Krinkle> Yes, clients will join to /run/* still, but instead of opening a frame it will redirect to the test suite itself, and from there a new-and-improved version of inject.js will do what run.js now does.
[09:34:41] <jzaefferer> okay, sounds good
[09:34:42] <Krinkle> and then either redirect back to /run/ or get the new url directly (depends on how we implement it)
[09:34:54] <jzaefferer> could you create a new ticket for that and close down #195?
[09:35:49] <Krinkle> I'd like to keep 195 open as it is a bug, but I can leave a comment saying that it will be fixed by this new feature  - since this new feature may not be the only way to fix the bug, – if we end up not implementing it for whatever reason
[09:36:05] <Krinkle> ..and open a new ticket of that new feature
[09:36:09] <jzaefferer> okay
[09:36:57] <gnarf> kswedberg: hrm
[09:37:02] <gnarf> i pushed the plugins back
[09:37:14] <gnarf> but the reusables still look broken
[09:37:39] <gnarf> email works!
[09:37:57] <gnarf> scott_gonzalez: yes
[09:38:03] <gnarf> scott_gonzalez: i think so
[09:38:46] <gnarf> scott_gonzalez: yes, it includes jquery.org
[09:39:33] <scott_gonzalez> gnarf: Ok, if that's gonna break the email updates, we'll need to let people know.
[09:39:38] <gnarf> blog.jquery.com feeds.jquery.com jquery14.com jquerymobile.com blog.jqueryui.com etc
[09:40:21] <gnarf> scott_gonzalez: email works, it was just broken because the thing sending it was broken :)
[09:40:43] <scott_gonzalez> Not the notifications about updates.
[09:40:55] <scott_gonzalez> jquery.org/updates posts are written via email.
[09:42:45] <gnarf> where do you email them?
[09:43:13] <scott_gonzalez> updates@jquery.org
[09:43:26] <scott_gonzalez> err... .com
[09:43:47] <scott_gonzalez> I think kswedberg knows how it's set up.
[09:43:59] <scott_gonzalez> That guy is like our WordPress ninja ;-)
[09:44:29] <scott_gonzalez> But now we've got nacin and koopersmith to show him up :-P
[09:44:56] <nacin> I'm but a lowly code monkey.
[09:48:28] <gnarf> :)
[09:51:30] <gnarf> hrm
[09:51:36] <gnarf> nacin: maybe you have an idea here
[09:51:50] <gnarf> so this "reusables" plugin was broken at one point, but i rolled it back, and it seems to work now
[09:52:03] <gnarf> neverming
[09:52:06] <gnarf> i guess it was just cache
[09:52:10] <gnarf> seems to work totally now
[09:52:11] <gnarf> yay
[09:52:17] <gnarf> i was gonna say
[09:52:25] <gnarf> i enabled it but had to edit a page to make it show up
[09:53:10] <gnarf> so - I think api.jquery.com might be ready to move
[09:54:08] <gnarf> can someone else play along on https://github.com/jquery/infrastructure/issues/55 and try out that hosts entry before I go switch DNS?
[09:54:09] <socialhapy> ★ Github API: no issue found
[10:37:24] <scott_gonzalez> kswedberg: Good news (sorta). I just reproduced the wrong version number being listed on the plugins site.
[10:56:57] <kswedberg> scott_gonzalez: what did you have to do to reproduce it? anything different?
[10:57:18] <scott_gonzalez> Nope, I just did a fresh install and ran that gist.
[10:57:19] <kswedberg> gnarf: I'm back. will chck the moved api site
[10:57:35] <scott_gonzalez> But hopefully I can debug it now.
[10:57:46] <kswedberg> ok. cool.
[11:01:00] <scott_gonzalez> kswedberg: I see the problem.
[11:01:36] <kswedberg> great! now can you fix it? :)
[11:01:52] <scott_gonzalez> :-)
[11:01:58] <scott_gonzalez> I better be able to!
[11:08:30] <kswedberg> gnarf: I'm seeing something weird on http://api.jquery.com/addClass/
[11:10:14] <gnarf> kswedberg: "something weird"?
[11:10:38] <kswedberg> yeah, isn't that a helpful bug report? :)
[11:11:03] <kswedberg> actually, when I go to http://api.jquery.com/attribute-starts-with-selector/ I get white screen. looks like a 500 error
[11:12:43] <gnarf> agree there
[11:12:45] <kswedberg> gnarf: and api.jquery.com/addClass/ I see the page, but it's requesting this, too, which returns a 500: http://api.jquery.com/addclass/?cf_action=sync_comments&post_id=74
[11:12:54] <gnarf> seems error logging is wrong
[11:13:14] <gnarf> or not outputing
[11:13:22] <gnarf> i see the 500's
[11:13:25] <gnarf> but no good explaination
[11:14:19] <gnarf> hrm
[11:15:37] <gnarf> kswedberg: check now
[11:15:42] <gnarf> i just like rebooted the server
[11:15:50] <gnarf> seems happier
[11:15:51] <kswedberg> better!
[11:16:02] <kswedberg> looks all good
[11:17:48] <gnarf> kswedberg: im gonna flip the switch then
[11:18:00] <kswedberg> ok!
[11:21:21] <gnarf> hrm
[11:29:47] <gnarf> damn api is painful
[11:32:50] <gnarf> something is wrong with the caching i think
[11:35:57] <gnarf> bah
[11:36:07] <gnarf> i can't figure out whats wrong here
[11:36:17] <gnarf> just getting random 500s
[11:36:19] <gnarf> all over the place
[11:36:25] <gnarf> nothing showing up in any error logs anywhere
[11:36:38] <gnarf> nacin - any thoughts?   this is api.jquery.com on eol1.jquery.com
[11:38:24] <nacin> gnarf: this is the old site, I imagine?
[11:38:29] <gnarf> yes
[11:38:32] <gnarf> moved to new machine
[11:38:36] <gnarf> and barfing everywhere now
[11:39:04] <nacin> is it /var/www/api.jquery.com/?
[11:39:18] <nacin>  and htdocs/ inside that
[11:39:24] <gnarf> yes
[11:39:36] <gnarf> also /etc/apache2/sites-enabled/001-api.jquery.com
[11:39:47] <gnarf> and it didn't start doing this 500 bs until i pushed live traffic at it
[11:39:48] <gnarf> so
[11:40:07] <nacin> where do you see the 500s?
[11:40:11] <nacin> on your own http requests?
[11:41:34] <gnarf> yup
[11:41:39] <gnarf> just hit api.jquery.com
[11:41:44] <nacin> any idea where the php error log is?
[11:41:59] <gnarf> nacin: i tried to set it in /etc/apache2/php5/php.ini
[11:42:06] <gnarf> didn't seem to take hold
[11:42:20] <nacin> I don't see a php5 folder in /etc/apache2
[11:42:23] <gnarf> er sry
[11:42:31] <gnarf>  /etc/php5/apache2
[11:45:48] <nacin> what is the reusables plugin?
[11:46:46] <gnarf> nacin: it does like a templates thing
[11:46:55] <nacin> well there's a syntax error in one of the files
[11:47:00] <gnarf> lame
[11:47:05] <nacin> but I'm not sure that's it
[11:48:11] <gnarf> did you get it error logging anywhere?
[11:48:14] <nacin> not yet
[11:49:48] <gnarf> should i try disabling suhosin.ini / apc.ini?
[11:49:58] <nacin> wait, you have apc enabled?
[11:50:00] <nacin> yes, disable apc
[11:50:07] <nacin> suhosin shouldn't matter
[11:50:13] <nacin> but apc is an opcode cache
[11:50:47] <nacin> I restarted apache
[11:50:50] <nacin> no longer seeing 500's
[11:51:06] <gnarf> it seemed to wait ~10 min before giving 500s
[11:51:07] <gnarf> before
[11:51:15] <gnarf> er not even
[11:51:20] <gnarf> meant ~10sec
[11:51:20] <gnarf> :)
[11:51:25] <nacin> think you are out of memory on this
[11:51:50] <gnarf> hrm
[11:52:00] <gnarf> gotta lower apache threads then
[11:52:15] <gnarf> if i can find a way to get something to happen
[11:52:20] <nacin> fork cannot allocate memory
[11:52:21] <gnarf> can you kill apache?
[11:52:29] <gnarf> yeah
[11:52:39] <nacin> might need to restart the server
[11:52:41] <gnarf> fuckin hate (mt) hosting
[11:52:44] <gnarf> restarting
[11:52:48] <nacin> not enough memory to stop it
[11:52:56] <gnarf> no swap fil
[11:52:59] <gnarf> bullshit
[11:54:03] <gnarf> i don't think init can spawn killall
[11:54:05] <gnarf> lol
[11:54:14] <ryankshaw> anybody know of any examples of using css triangles to put pointers on ui 1.9 tooltips? similar to: http://view.jqueryui.com/master/tests/visual/position/position_feedback.html
[11:55:21] <ryankshaw> but instead of the arrows, use border width hacks to make triangles
[11:58:58] <agcolom> hi! is rw
[11:59:06] <agcolom> sorry wrong button!
[11:59:21] <agcolom> Is rworth around?
[12:00:12] <gnarf> hrm
[12:01:07] <agcolom> ajpiano: scott_gonzalez: how do I get the new syntax highlighter in api.jquerymobile.com
[12:01:13] <agcolom> ?
[12:01:30] <ajpiano> agcolom: you should just have to update your grunt-jquery-content, ostensibly
[12:02:38] <agcolom> right... I'm not an expert with these things.... How do I do that? (sorry :-( )
[12:03:17] <agcolom> you mean update grunt.js?
[12:03:28] <ajpiano> yeah, to the latest grunt-jquery-content
[12:03:39] <ajpiano> well actually no, update package.json
[12:04:05] <ajpiano> to 0.3.0
[12:05:01] <agcolom> ok, update "grunt": "0.3.x" to 0.3.0?
[12:05:12] <ajpiano> no, grunt-jquery-content from 0.2.2 to 0.3.0
[12:05:25] <agcolom> ok, great. and then npm install?
[12:05:30] <ajpiano> yep
[12:05:33] <ajpiano> i'm trying it myself as well
[12:05:42] <agcolom> ok, will do that now...
[12:06:50] <ajpiano> yup that does the trick!
[12:06:55] <ajpiano> wooooooooo so much speeeed
[12:07:04] <ajpiano> pedal to the metal
[12:08:41] <agcolom> it worked :-) thanks :-)
[12:08:52] <ajpiano> :)
[12:08:54] <agcolom> but it looks less pretty thatn with pygmentize!
[12:09:01] <ajpiano> agcolom: yea :(
[12:09:18] <ajpiano> but it's soooooooooooo much faster
[12:09:27] <agcolom> because the only highlighting I get is the quoted text :-(
[12:09:38] <agcolom> see for example http://stage.api.jquerymobile.com/checkbox/
[12:10:11] <agcolom> I liked all the pretty colors we had before (but that's maybe because I'm a girl ;-) )
[12:10:19] <ajpiano> the guy who made that highlighter wrapper for npm is working on a pygmentsjs that would hypothetically be a lot faster than our pygments
[12:10:28] <ajpiano> agcolom: i love the pretty colours too
[12:10:46] <ajpiano> agcolom: it looks like it is highlighting a lot of html as javascript
[12:10:53] <ajpiano> gonna debug it a bit
[12:11:28] <agcolom> yes there seem to be some funny things going on with the highlighting:
[12:11:38] <ajpiano> yes i am still working out some kinks
[12:11:53] <agcolom> for example <title>A basic example of a checkbox in a fieldcontainer</title>
[12:12:04] <agcolom> the 'in' get highlighted
[12:13:23] <agcolom> I think it'd be really nice to have the html tag names highlighted too
[12:13:35] <ajpiano> agcolom: it's trying to highlight the html as javascript
[12:13:43] <agcolom> yes
[12:13:48] <gnarf> hrm
[12:13:59] <gnarf> so the performance of this site is dreadful
[12:14:00] <ajpiano> we need to get it to output a data-lang attribute
[12:14:47] <ajpiano> this is something i need to discuss with everyone actually
[12:15:15] <ajpiano> cause some things in some xml places havea  data-lang attr, most don't
[12:15:27] <ajpiano> and then github flavoured markdown puts the language in a tag
[12:15:33] <ajpiano> i mean, in a class*
[12:16:05] <ajpiano> thus i have this lovely pile of https://github.com/jzaefferer/grunt-jquery-content/blob/master/tasks/build.js#L113
[12:16:18] <ajpiano> and otherwise pick JS
[12:17:09] <agcolom> now, my next problem is I have an iframe and the source is in resources/checkbox/example1.html
[12:17:30] <ajpiano> i know a lot less about how the resources work than the syntax highlighting :p
[12:17:49] <agcolom> ok, maybe gnarf or kswedberg ?
[12:17:58] <ajpiano> scott_gonzalez: jzaefferer your input on the above ^^
[12:18:09] <ajpiano> and kswedberg as well, lol
[12:18:20] <kswedberg> hi.
[12:18:28] <agcolom> I am obviously doing something wrong.... because I am getting a 404 :-(
[12:18:33] <agcolom> Hi kswedberg
[12:18:59] <kswedberg> trying to read the irclog. what's the problem?
[12:19:11] <agcolom> as we discussed the other day, I'm trying to get an inline demo in an iframe
[12:19:28] <scott_gonzalez> agcolom: Is this local or on the staging server?
[12:19:31] <agcolom> the source of the iframe is resources/checkbox/example1.html
[12:19:37] <agcolom> both
[12:19:50] <ajpiano> kswedberg: and i'm curious about how we should deal with denoting what languages particular examples are in
[12:19:54] <gnarf> are api.jquery.com / blog.jquery.com dreadfully slow for anyone else?
[12:19:59] <scott_gonzalez> Ok, what's the URL for the page with the iframe on it?
[12:20:24] <agcolom> http://stage.api.jquerymobile.com/checkbox/
[12:20:47] <agcolom> but I can't find resources/checkbox/example1.html
[12:22:01] <agcolom> on github: https://github.com/jquery/api.jquerymobile.com
[12:24:26] <agcolom> gnarf: yes I only tried the 1st one, but took 15s+
[12:25:02] <gnarf> nacin: any thoughts on this performance issue?
[12:25:02] <scott_gonzalez> agcolom: hmm...looks right. gnarf: Can I SSH to that box?
[12:25:08] <scott_gonzalez> It's jq01?
[12:25:12] <gnarf> scott_gonzalez: eol1.jquery.com
[12:25:23] <nacin> gnarf: performance issue?
[12:25:33] <gnarf> nacin: 20+second requests
[12:25:36] <gnarf> try hitting api.jquery.com
[12:25:52] <gnarf> this new server isn't running anything more than the old one was
[12:25:56] <gnarf> but its like 100* slower
[12:26:00] <nacin> sadly, I'm not a sysadmin, especially not when it comes to apache
[12:26:05] <nacin> but I can probably point your problem to being apache
[12:26:09] <nacin> :-)
[12:26:12] <gnarf> agree
[12:26:12] <kswedberg> ajpiano, agcolom: I was doing examples completely differently on the old (current) api.jquery.com. still don't have it set up in /resources/ yet because it's going to take some xslt magic beyond my ability.
[12:26:38] <ajpiano> i don't really care about what ends up happening there
[12:26:47] <scott_gonzalez> gnarf: eol1 for stage.api.jquery.com?
[12:26:49] <ajpiano> just mostly about what ends up in the reuslting html and where
[12:26:49] <kswedberg> so I'm afraid I'm not much help in this area.
[12:26:52] <scott_gonzalez> gnarf: eol1 for stage.api.jquerymobile.com?
[12:26:53] <gnarf> oh
[12:26:54] <gnarf> stage
[12:26:58] <gnarf> jq01.stage
[12:27:02] <scott_gonzalez> ok
[12:27:06] <gnarf> i have live server issues :)
[12:27:15] <ajpiano> kswedberg: yeah, right now i'm just making my thing less dumb to not assume classes like "example" refer to languages :p
[12:27:25] <scott_gonzalez> damn
[12:27:35] <scott_gonzalez> gnarf: Let me give you my new public key...
[12:27:37] <agcolom> gnarf: just checked api.jquery.com. --
[12:27:37] <agcolom> [20:25:07.727] GET http://api.jquery.com/ [HTTP/1.1 200 OK 37762ms]
[12:27:46] <scott_gonzalez> How do I get this again?
[12:28:55] <gnarf> scott_gonzalez: cat ~/.ssh/id_rsa.pub
[12:29:08] <gnarf> sigh
[12:29:11] <kswedberg> gnarf, maybe this is their way of getting is off the server and onto the new one
[12:29:22] <gnarf> kswedberg: any thoughts? wp super cache seems to be happy with its install
[12:30:13] <kswedberg> gnarf: to clarify, are you talking about  problems on the old server or new server?
[12:30:32] <gnarf> kswedberg: I'm talking about the problems on the server that is currently running api.jquery.com, the one that I just setup today/yesterday
[12:30:33] <gnarf> :)
[12:30:45] <gnarf> so it is a "new" but also an "old" server
[12:31:03] <gnarf> i'm getting 30+ second page loads
[12:32:19] <scott_gonzalez> gnarf: Added to the wiki (it's the second one)
[12:32:51] <agcolom> kswedberg: what do you recommend in the meantime for the demos? I'm happy to have them at work for now and I can just transfer everything across when resources is set up? (what needs to be done?)
[12:33:58] <agcolom> (btw work is the University of Westminster, London... so no big commercial company)
[12:34:46] <kswedberg> gnarf: ok, I see. Is the directory that super cache is pointing to writable? like, are the cache files actually being written?
[12:36:30] <kswedberg> gnarf: api.jquery.com totally down now. :(
[12:37:31] <gnarf> kswedberg: the wp-content/cache directory is owned by www-data www-data
[12:37:35] <gnarf> so it should be writable
[12:37:42] <gnarf> and its still running
[12:37:51] <scott_gonzalez> agcolom: There are no resources for stage.api.jquerymobile.com on the server.
[12:37:58] <gnarf> just taking longer than chrome wants to wait to serve you your file
[12:38:02] <gnarf> its like backlogged
[12:38:02] <kswedberg> agcolom: I'm so sorry. I'm not sure what you're asking, exactly. If you have the repo, just put the demos in the resources directory there.
[12:38:03] <gnarf> or something
[12:38:13] <scott_gonzalez> agcolom: Perhaps an issue with the grunt build?
[12:38:40] <scott_gonzalez> agcolom: I can pull the repo locally and see if I can figure out why the resources aren't getting published.
[12:38:41] <kswedberg> scott_gonzalez: like the resources directory isn't getting deployed for some reason
[12:38:49] <scott_gonzalez> kswedberg: Yeah, not at all.
[12:38:59] <gnarf> scott_gonzalez: key updated
[12:39:08] <scott_gonzalez> Bug api.jquery.com, jquerymobile.com, and qunitjs.com have resources on stage.
[12:39:20] <scott_gonzalez> gnarf: Thanks, I'm actually logged in already :-)
[12:40:19] <gnarf> kswedberg: i don't know what I can do about this
[12:40:25] <gnarf> like this makes no sense
[12:40:29] <gnarf> this machine has same amount of ram
[12:42:10] <kswedberg> gnarf. same here. I'm at a loss. looking at super cache settings now.
[12:45:02] <kswedberg> gnarf: for the Mod Rewrite Rules, it says "Rules must be added to /var/www/api.jquery.com/htdocs/wp-content/cache/.htaccess too:" and then it has this block: https://gist.github.com/bc33ce26e26cf511fdb7
[12:46:03] <gnarf> already there
[12:46:04] <gnarf> kswedberg:
[12:47:13] <scott_gonzalez> I have a bad habit of cloning a repo then runing `npm install` without cd'ing into the repo dir.
[12:47:38] <gnarf> kswedberg: you should be able to ssh jqadmin@eol1.jquery.com now
[12:47:46] <gnarf> kswedberg: i copied the jqadmin from the old box
[12:47:58] <agcolom> kswedberg: sorry. maybe I got confused... I thought you were saying it was not possible right now to have the resources dir deployed on http://stage.api.jquerymobile.com/ because something was not setup.
[12:48:02] <gnarf> andit has some of your keys there
[12:48:17] <kswedberg> gnarf: ok.
[12:48:47] <scott_gonzalez> agcolom: Confirmed that the grunt build does not copy the resources.
[12:49:23] <scott_gonzalez> agcolom: Change line 27 of grunt.js to have "resources/**" instead of "resources/*"
[12:49:41] <kswedberg> agcolom: whether that's the case or not, you can still add files to resources in the git repo so when the deploy thing gets straightened out, they'll be there.
[12:50:33] <gnarf> heh
[12:51:03] <agcolom> ok, trying now...
[12:51:04] <ajpiano> agcolom: http://cl.ly/image/1M0F0W021N1A (should be fixed on the next grunt-jquery-content update)
[12:53:07] <agcolom> resources is fixed :-) Thanks a lot!!!
[12:53:18] <scott_gonzalez> no problem
[12:53:31] <agcolom> ajpiano: how do I get the new new syntex highlighting?
[12:53:36] <agcolom> syntax ^
[12:53:50] <ajpiano> agcolom: once jzaefferer pulls it in there
[12:53:54] <agcolom> ajpiano: sorry I need to learn to read!
[12:54:11] <ajpiano> agcolom: you should update your package.json to use grunt-jquery-content 0.3.x ;)
[12:54:25] <agcolom> perfect!!!
[12:54:31] <agcolom> Thanks a lot everyone.
[12:54:47] <ajpiano> thanks for pointing it out
[12:59:24] <scott_gonzalez> Uhoh, I think I have a new problem. I've realized that I use browser tabs as a todo list...
[13:07:24] <rworth> oh noes scott_gonzalez has a new "somewhere on my computer" ;)
[13:07:30] <kborchers> lol
[13:08:44] <scott_gonzalez> Yes, and a volatile somewhere :-/
[13:09:00] <kborchers> "Hey Scott, you have that thing I needed?" "Hold on, let me get that for you." http://gyazo.com/373eea619a7fde67f0d5746621123581.png?1342727760
[13:09:29] <scott_gonzalez> At least the "It's somewhere on my computer" for code was somewhat safe as long as my HD didn't crash.
[13:09:49] <kswedberg> gnarf: I have no idea what's wrong. it's so bizarre. it looks like pages are being cached, but it's not using the cached files. or something
[13:34:09] <gnarf> seems a combo of keepalive and memory issues was the problem kswedberg
[13:34:49] <kswedberg> so fixed? bless you, gnarf!
[13:34:59] <gnarf> kswedberg: maybe?
[13:35:05] <gnarf> i had to reduce the max memory a bit
[13:35:09] <gnarf> and up the max servers a bit
[13:35:22] <gnarf> but i think i can play some numbers with those again now
[13:35:31] <gnarf> with keepalive off
[13:35:40] <gnarf> it seems a little better
[13:37:20] <kswedberg> loading fast for me now.
[13:44:29] <rworth> yeah, blog. looks good too
[13:44:39] <rworth> awesome work gnarf
[13:44:55] <rworth> and thanks to nacin and kswedberg for your help
[13:45:36] * gnarf sighs
[13:45:42] <gnarf> such a high stress job
[13:45:43] <gnarf> sysadmin
[13:45:48] <kswedberg> rworth: I did a lot of hand wringing. probably didn't help much, though.
[13:46:07] <gnarf> it was only broken for 2 hours
[13:46:16] <gnarf> only like half the worlds website authors noticed ;)
[13:46:38] <kswedberg> what are you, a bunch of amateurs!???!!!
[13:46:44] <gnarf> like this seems much snappier
[13:47:14] <gnarf> i can't wait to direct this firehose at jq01
[13:47:15] <gnarf> :)
[13:47:43] <nacin> jq01 will not notice
[13:48:08] <gnarf> nacin: thats my prediction too
[13:48:25] <gnarf> nacin: although i might need to up the pool size for www on php-fpm
[13:48:32] <gnarf> cuz this seems to be handling ~30 concurrents
[13:48:43] <nacin> jq01, or eol1 has ~30?
[13:48:47] <gnarf> eol1
[13:49:05] <nacin> that's likely apache eating up all of your memory
[13:49:32] <nacin> your existing pool size will probably be more than sufficient
[13:52:54] <scott_gonzalez> kswedberg: plugins site is fixed.
[14:08:24] <kswedberg> scott_gonzalez: yay! thanks!
[14:09:15] <scott_gonzalez> kswedberg: If you want it fixed locally, you'll need to go into the admin and delete the existing plugins (trash + empty trash) and then re-publish them.
[14:09:20] <scott_gonzalez> grunt clean-all setup
[14:09:31] <scott_gonzalez> node scripts/manager.js....
[14:09:57] <scott_gonzalez> Or you can probably just fix the data on the parent page in the admin.
[14:10:25] <kswedberg> that's a lot of work. I think I'l just fix the data in the admin.
[14:11:34] <scott_gonzalez> It's entirely possible that the custom fields won't be displayed in the admin.
[14:12:20] <scott_gonzalez> hmm...indeed they are not available.
[14:12:55] <kswedberg> bummer
[14:13:06] <scott_gonzalez> Hah, this is awesome: "You are using a development version (3.5-alpha-21255). Cool! Please stay updated."
[14:15:46] <jquicommit> [jquery-ui] scottgonzalez pushed 1 new commit to master: http://git.io/HIiacw
[14:15:46] <jquicommit> [jquery-ui/master] Build: Add a newline at the end of manifest files. - Scott González
[14:15:58] <kswedberg> scott_gonzalez: I just changed it in the db
[14:17:05] <scott_gonzalez> :-)
[14:18:21] <jquicommit> [jquery-ui] scottgonzalez pushed 1 new commit to master: http://git.io/9CJ21Q
[14:18:21] <jquicommit> [jquery-ui/master] Use tabs for package.json. - Scott González
[14:19:38] <gnarf> kswedberg: do you know how emailed in updates for jquery.org/updates get posted?
[14:20:48] <kswedberg> no. John wrote a script for that, I think. It broke for me at some point. And that's when I stopped my already intermittent updates re docs
[14:21:20] <scott_gonzalez> kswedberg: It's working again (has been for a while).
[14:21:41] <scott_gonzalez> There's a problem though if you reply to the automated email.
[14:21:42] <kswedberg> oh, sure, scott_gonzalez, way to ruin my excuse!
[14:21:55] <scott_gonzalez> If the subject contains re: then it gets created as a comment instead of a post :-P
[14:22:13] <kswedberg> ah! so that's the fix? just remove the re: ? that's not so hard.
[14:22:33] <scott_gonzalez> Yeah, I think it was jzaefferer that noticed what was happening.
[14:24:17] <kswedberg> scott_gonzalez: on a plugin page in the plugins repo, there's GitHub Activity. How often does that info get updated?
[14:24:41] <scott_gonzalez> Every push of the repo.
[14:24:49] <scott_gonzalez> The plugin repo, not the site repo.
[14:25:10] <scott_gonzalez> I should verify that what I'm saying is true.
[14:26:19] <scott_gonzalez> Yeah, that's a lie.
[14:26:28] <scott_gonzalez> It's only updated when there's a new release.
[14:26:34] <scott_gonzalez> But we track the data on every push.
[14:26:36] <kswedberg> scott_gonzalez: I just set up http://www.karlswedberg.com/ the other day to use the github api and do it with a jsonp request
[14:26:50] <scott_gonzalez> I think the plan was for me to write a script that would update the data on a cron job.
[14:26:53] <kswedberg> (bottom of the page)
[14:27:04] <kswedberg> oh, that's cool.
[14:27:41] <scott_gonzalez> Right now we're not actually using the GitHub API for anything. We're just using data from the post-receive hook.
[14:27:54] <kswedberg> gotcha
[14:28:14] <scott_gonzalez> Are you just pulling that data on page load?
[14:28:18] <scott_gonzalez> On the client?
[14:28:29] <kswedberg> yeah
[14:28:56] <scott_gonzalez> So if we did that, then we wouldn't have the data to use internally for things like finding popular plugins.
[14:29:07] <scott_gonzalez> But thanks for reminding me to write this script :-)
[14:29:12] <scott_gonzalez> I'll go file an issue for this.
[14:29:20] <kswedberg> oh, right. that wouldn't be very helpful then.
[14:29:37] <kswedberg> glad to be of assistance, even in a roundabout way. :[
[14:29:40] <kswedberg> :p
[14:36:07] <i-hate-dave> Project jQuery UI build #591: SUCCESS in 9 min 8 sec: http://swarm.jquery.org:8080/job/jQuery%20UI/591/
[14:36:07] <i-hate-dave> * Scott González: Build: Add a newline at the end of manifest files.
[14:36:08] <i-hate-dave> * Scott González: Use tabs for package.json.
[14:43:30] <gnarf> that was a very square frown kswedberg
[14:43:53] <kswedberg> heh. I hit the wrong key. meant to be :p
[14:48:13] <ajpiano> kswedberg: i'm planning to work on something to hit the github api
[14:48:51] <ajpiano> as a grunt task
[14:48:58] <kswedberg> ajpiano: cool! sync up with scott_gonzalez on that. :)
[14:48:59] <ajpiano> but i don't know exactly where it's going to sit yet
[14:49:01] <ajpiano> yeah
[15:02:43] <scott_gonzalez> ajpiano: For what?
[15:03:02] <ajpiano>  want to be able to show stuff about the commit history of the file
[15:03:08] <ajpiano> like, who's contributed, etc
[15:03:51] <scott_gonzalez> Git histories are likely crap for most plugins.
[15:04:07] <scott_gonzalez> If the history of all of the jQuery projects is any indication.
[15:07:07] <scott_gonzalez> Ignoring that, there's probably much more useful info than a list of all contributors.
[15:07:33] <scott_gonzalez> Like how active the repo is.
[15:20:00] <ajpiano> scott_gonzalez: i want to show authors for learn articles, for instance
[15:20:39] <scott_gonzalez> ajpiano: That should go through profiles.jquery.org
[15:21:09] <scott_gonzalez> But my earlier comments were because I thought you were talking about the plugins site.
[15:21:15] <ajpiano> AH
[15:21:17] <ajpiano> ah*
[15:22:33] <gnarf> ajpiano: git log --format='%an <%ae>' filename
[15:22:50] <ajpiano> gnarf: i had a feeling i could just use the git history itself without using gh
[15:23:23] <gnarf> ajpiano: man git-log for format options
[15:23:42] <gnarf> ajpiano: /PRETTY
[15:23:43] <gnarf> ;)
[15:27:55] <scott_gonzalez> ajpiano: Please talk to rworth about this. There is a plan for how to handle authors.
[15:28:15] <scott_gonzalez> There will be actual WordPress users that get associated with posts.
[15:28:17] <ajpiano> scott_gonzalez: ok, i haven't done anything yet
[15:28:22] <ajpiano> mk
[15:49:32] <agcolom> ajpiano: sorry I missed your message (use grunt-jquery-content 0.3.x). Should I do that now?
[15:51:29] <gnarf> afk a bit - if something blows up - please skype / call
[16:50:50] <jquicommit> [jquery-ui] scottgonzalez pushed 1 new commit to master: http://git.io/RPZq3g
[16:50:50] <jquicommit> [jquery-ui/master] Updated AUTHORS.txt. - Scott González
[17:02:38] <i-hate-dave> Project jQuery UI build #592: SUCCESS in 11 min: http://swarm.jquery.org:8080/job/jQuery%20UI/592/
[17:02:38] <i-hate-dave> Scott González: Updated AUTHORS.txt.
[17:47:58] <jquicommit> [api.jqueryui.com] rdworth pushed 1 new commit to master: http://git.io/BUrwcw
[17:47:58] <jquicommit> [api.jqueryui.com/master] Bump grunt-clean, grunt-wordpress, and grunt-jquery-content to latest versions - Richard D. Worth
[17:49:56] <jquicommit> [jquery-ui] scottgonzalez pushed 1 new commit to master: http://git.io/mD-ZZQ
[17:49:56] <jquicommit> [jquery-ui/master] Build: New release script. - Scott González
[17:57:39] <i-hate-dave> Project jQuery UI build #593: SUCCESS in 8 min 13 sec: http://swarm.jquery.org:8080/job/jQuery%20UI/593/
[17:57:40] <i-hate-dave> Scott González: Build: New release script.
[18:00:48] <scott_gonzalez> nacin: How would I go about making pages have a prefix of /docs/?
[19:03:10] <jquicommit> [jquery-ui] scottgonzalez pushed 1 new commit to 1-8-stable: http://git.io/eEZirg
[19:03:10] <jquicommit> [jquery-ui/1-8-stable] Effects: Fallback from $.curCSS to $.css to support jQuery 1.8+. - Scott González
[19:13:31] <jquicommit> [jquery-ui] scottgonzalez pushed 1 new commit to 1-8-stable: http://git.io/BxzjOw
[19:13:31] <jquicommit> [jquery-ui/1-8-stable] Position: Fix initial positioning of cycler demo. - Jörn Zaefferer
[19:40:05] <nacin> scott_gonzalez: hey
[19:40:20] <nacin> scott_gonzalez: /about/ might make more sense, but either way
[19:40:28] <nacin> what I would do is simply establish a hierarchy of pages
[19:40:38] <nacin> make /docs/ top-level
[19:40:45] <nacin> then have pages assigned to that one
[19:41:02] <nacin> not sure if/how your current code supports hierarchical post types
