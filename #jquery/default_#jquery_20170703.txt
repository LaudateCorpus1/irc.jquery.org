[00:59:15] <Braden`> Hello!
[00:59:43] <Braden`> Is it possible, using jquery, to modify the data of a <input type="file"> field?  I want to change the image that it holds before submission
[01:26:04] <pavonia> Braden`: What doy ou mean exactly? Do you want to choose another file than the user has selected?
[01:28:05] <Braden`> No
[01:28:27] <Braden`> I have an image object I want to substitute in its place (its a cropped version of their file done using javascript)
[02:32:22] <jsnoddl> Hi, when I check I got my results, but if I get no results, can I disable those checkbox
[02:32:24] <jsnoddl> http://jsfiddle.net/ar3PY/91/
[02:32:50] <jsnoddl> so there is no chance to get "no results"
[02:59:51] <jsnoddl> someone here? =)
[03:03:08] <jsnoddl> if checkbox is checked and results == 0 then do this
[03:12:22] <jsnoddl> For example, there is no White Volvos, so If I check "Volvo" and "white" , I will get text "Empty".  Can I somehow disable checkbox for color white instead of showing text "empty" ? here is the fiddle: http://jsfiddle.net/ar3PY/92/
[04:27:43] <jsnoddl> why doesnt it trigger event when changing prop checkbox --> http://jsfiddle.net/ar3PY/93/
[05:22:47] <jsnoddl> If I click and check one checkbox, it will auto check one by one, but its not filter, ---> http://jsfiddle.net/ar3PY/93/
[05:23:11] <jsnoddl> But it works if I click on them myself  --> http://jsfiddle.net/ar3PY/92/
[08:02:22] <jsnoddl> please help with a jquery script
[08:03:04] <Woet> very helpful
[08:03:14] <Woet> i rate your question a 1.4/10
[08:03:29] <Woet> if you could even consider it a question
[08:06:07] <jsnoddl> Woet : Im almoste done with my filter, but want to disable checkboxes if result is "empty" -- > http://jsfiddle.net/ar3PY/92/
[08:06:40] <Woet> jsnoddl: go ahead
[08:06:42] <jsnoddl> So I never get result "empty"
[08:07:11] <jsnoddl> thats the problem I have, done really know how to do that, you have any clue?
[08:07:40] <jsnoddl> dont *
[08:08:06] <Woet> jsnoddl: didnt you write the code thats already there?
[08:08:40] <jsnoddl> no, I got help with it
[08:09:17] <Woet> jsnoddl: it's rather difficult to help someone learning the very basics of coding
[08:09:26] <Woet> jsnoddl: i suggest you spend some time learning before moving on
[08:09:51] <jsnoddl> Well , I know the basics, I have done some part of this filter
[08:10:24] <Woet> jsnoddl: okay, so where do you think this code has to go?
[08:10:56] <jsnoddl> Woet: when its filtering
[08:11:02] <Woet> jsnoddl: where in the code?
[08:11:11] <Woet> jsnoddl: which line?
[08:11:44] <jsnoddl> between line 1 to 8
[08:11:59] <jsnoddl> inside that function
[08:12:06] <Woet> im not entirely following your question then
[08:12:21] <Woet> how would you know in that part whether the result is empty or not?
[08:12:27] <Guest2928> ..
[08:12:42] <Woet> hi Mike, do you have a contribution besides ..?
[08:12:45] <jsnoddl> Well, I wrote the code if (tgts.length == 0) {
[08:13:06] <Woet> so wouldn't it need to be there?
[08:13:40] <jsnoddl> to check if it doesnt show anything, show "empty" text instead
[08:14:33] <jsnoddl> but I wanna check before clicking on checkbox that gonna givet text empty
[08:14:46] <prema> Using JQ $.post, how should data be encoded to hit the server as urlencoded post data - any tips please?
[08:15:19] <jsnoddl> like, if this checkbox:checked will show result "empty" then disabled this checkbox
[08:15:41] <jsnoddl> Woet: you understand?
[08:15:54] <Woet> jsnoddl: yes, i dont know if your filtering library supports that.
[08:15:58] <Woet> prema: why does it need to be urlencoded?
[08:17:03] <jsnoddl> Woet: how can I check that?
[08:17:14] <prema> Woet: thanks at the moment am sending  var msgData = {
[08:17:14] <prema>                             client_id: 4,
[08:17:14] <prema>                             clinician_key: 'xxxxxxxx',
[08:17:14] <prema>                             Message: chatInput
[08:17:14] <prema>                         };
[08:17:21] <Woet> prema: please dont spam paste
[08:17:23] <Woet> prema: use a pastebin
[08:17:37] <prema> Sec will do
[08:17:59] <Woet> jsnoddl: that's too broad of a question, you'll have to try that yourself
[08:18:38] <jsnoddl> Woet : Could I do another way? that you know anything about ? =)
[08:19:53] <Woet> jsnoddl: sure, but again, too broad of a question in my opinion
[08:20:14] <Cork> prema: my url encoded post data, do you mean it should be in the url, not in body?
[08:20:47] <Cork> cause data is encoded by default as params in $.post, but it is in the body of the request, not the url
[08:21:35] <Cork> prema: if you want it in the url you can't use data:, you would have to do something like $.post(url + $.param(msgData), {})
[08:21:54] <prema> Cork thanks yes. New to this so not sure. Just know that sending the data in this form doesn't show up on the server https://pastebin.com/dg7zecPK
[08:22:27] <Woet> prema: next time can you just mention that instead of making an assumption that is most likely wrong?
[08:22:30] <Cork> prema: how is the server checking the request?
[08:22:33] <Woet> prema: how are you checking whether it shows up?
[08:22:38] <Cork> prema: also is the request cross domain?
[08:22:40] <prema> OK I see.  Can call it fine from a REST client but not from $.post
[08:22:54] <prema> Local server
[08:22:57] <prema> Dev.
[08:23:02] <Cork> is it cross domain?
[08:23:09] <Cork> ex file:// => http://
[08:23:10] <Woet> prema: what is the code that you are using whether it "shows up on the server"?
[08:23:10] <prema> Not cross domain
[08:23:29] <Cork> so it is from local server same url to local server same url?
[08:23:51] <Cork> cause cross domain means more then different domain names
[08:24:00] <prema> Cork yes correct. Woet> Just dumping $_POST
[08:24:12] <prema> Works from REST Client
[08:24:15] <Woet> prema: show your entire $.post and entire PHP code.
[08:24:16] <Cork> uh
[08:24:19] <Cork> ya
[08:24:20] <Woet> prema: on a pastebin this time.
[08:24:32] <Cork> or even better jsfiddle.net
[08:24:44] <prema> Yes will do. Didn't realize had to do that for short bits of code sorry
[08:24:52] <Woet> anything > 1 line
[08:25:00] <prema> Thanks Woet
[08:26:20] <Cork> just to be clear, the reason i nagged about the local server is cause it happens quite often that ppl do http://localhost:80 => http://localhost:8080 and wonder why it doesn't work (the answer is, it is cross domain)
[08:27:38] <prema> Cork good point.  In this case client and server are on 8090 but maybe there is something I missed
[08:27:46] <prema> Here is full JS client
[08:27:47] <prema> https://pastebin.com/dg7zecPK
[08:28:29] <Woet> prema: and you're checking the request actually goes through and has the output you expect, right?
[08:28:54] <Cork> might be worth checking the browsers network tab in developer tools
[08:29:42] <prema> Yes look on XHR and it doesn't seem to be going out from $.post
[08:30:06] <Woet> did you check the console for errors?
[08:30:11] <Woet> is console.log(msgData); being outputted?
[08:30:27] <prema> Woet yes but will double check
[08:31:10] <Cork> prema: a side note msgs = makeChatStream(data); <-- msgs is global here, you prob want to var msgs ... it
[08:31:54] <prema> Woet: Yes logging to console OK
[08:32:09] <Cork> but no log in the network tab??
[08:32:18] <Cork> that... makes no sense...
[08:32:36] <Woet> ^
[08:32:47] <Woet> thats unlikely, if not impossible
[08:32:58] <Woet> either theres an error in console or a request in network monitor
[08:33:56] <prema> Request is going out fine but no sign of vars. Something weird -- shows up as a get. Expected post??
[08:34:14] <Cork> ah
[08:34:20] <Cork> prema: check the response tab
[08:34:29] <Cork> you might be getting a 3xx redirect
[08:35:00] <prema> Thanks Cork. Sec
[08:35:21] <Cork> and those convert posts to gets
[08:35:21] <Woet> inb4 it redirects to append a /
[08:35:24] <prema> Request URL:http://base.prema.co.nz:8090/scriptcase/app/Clinician2/hdl_chat_server/
[08:35:24] <prema> Request Method:GET
[08:35:24] <prema> Status Code:200 OK
[08:35:33] <Cork> yup
[08:35:39] <Cork> there you go :)
[08:36:06] <Woet> [14:35:29]  <Woet>	inb4 it redirects to append a /
[08:36:59] <Cork> so var url = '../hdl_chat_server'; => var url = '../hdl_chat_server/';
[08:37:02] <Cork> should fix it
[08:37:59] <prema> Cork / Woet ok Completely unaware of that will try that now!
[08:40:00] <prema> Yes brilliant Thanks so much for that. Would have taken a long time to figure it out. Now post and can read vars :-)
[08:40:13] <prema> Thanks for bearing with me on that
[08:40:16] <Cork> prema: a side note msgs = makeChatStream(data); <-- msgs is global here, you prob want to var msgs ... it <--
[08:40:33] <Cork> don't forget that when you're at it, or it might bight you in the future
[08:40:46] <prema> Cork - thanks will do that!
[08:43:18] <_shaun_> hi guys im studying mike bostock's d3 tutorials and he often uses "svg:rect" as a css selector but theres no reference for anything of the sort describing what it means. what does it mean and where is it described?
[08:43:51] <Woet> _shaun_: this isnt #css
[08:44:45] <Cork> _shaun_: in a jquery selector : just means a function call
[08:45:18] <Cork> so it can be he uses a lib that lets him select svg elements directly from the svg element or something like that
[08:45:41] <Cork> kinda hard to say without seeing the context of the "svg:rect" quote
[08:45:52] <Cork> #css won't help you cause it isn't a css selector
[08:46:24] <_shaun_>  ok i see its in the d3 library im sorry guys i was on the wrong path
[08:50:48] <Cork> _shaun_: worth mentioning there is a #d3.js channel :)
[08:51:30] <_shaun_> thanks for the headsup Cork! :)
[08:51:59] <Woet> _shaun_: thats alright
[10:12:20] <JrWebDev> how do i make a variable that was set via click method available elsewhere to all functions etc?  I used $myVar = $(this).attr('data-value')...works fine in the click event but..the variable gets assigned the correct variable but doesnt seem to be assigned elsewhere
[10:12:44] <Cork> JrWebDev: $(this).data('variable-name', variable);
[10:12:54] <Cork> then fetch it with $(this).data('variable-name')
[10:13:18] <Cork> attr is problematic in this case as you can only store strings
[10:13:50] <JrWebDev> ahh i see
[10:14:20] <Cork> JrWebDev: also depending on if you set the value in an async callback it might not exist when the "other function" executes
[10:14:30] <JrWebDev> yeah im using ajax to post it
[10:14:49] <JrWebDev> in both the click event and a setInterval function i have going.
[10:15:36] <JrWebDev> so $(this).data('var-name', variable) will grab the <tr data-value="2"></tr>
[10:17:08] <JrWebDev> $(this).data('myVar', data-value)?
[10:19:16] <JrWebDev> also how would i make call that outside the function ...i guess ill call $(this).data('myVar') inside any function? and it will register?
[10:19:29] <JrWebDev> it will call it i mean
[10:21:09] <JrWebDev> Cork, ^^^
[10:21:35] <Cork> JrWebDev: what i meant with my comment before is something like this: $('tr').on('click', function() { var self = this;  $.get().done(function(data) { $(self).data('data', data); }); $(self).data('data')  <-- will be null })
[10:22:03] <Cork> cause when the $(self).data('data') runs the $(self).data('data', data) haven't run yet
[10:22:37] <Cork> JrWebDev: also this isn't events so it doesn't register anything
[10:22:59] <Cork> JrWebDev: if you want to access the value outside the event handler you will have to find the element
[10:23:44] <JrWebDev> okay
[10:25:06] <JrWebDev> but how would i set a vairable to be a global variable in jquery
[10:25:20] <JrWebDev> if its declared inside a function
[10:31:47] <Cork> JrWebDev: its not in jquery, it's in javascript
[10:31:59] <Cork> JrWebDev: you can do something like window.globaVariable = value;
[10:32:12] <Cork> but not the async comment i talked about before is identical here
[10:35:20] <JrWebDev> okay i see hmm
[10:35:42] <Cork> opps *but note*
[10:36:13] <Cork> basically you can't ever fetch a value from a variable before the code setting it has executed
[10:36:15] <JrWebDev> i did this basically...var GlobalvarNamespace = {};  and then GlobalvarNamespace.myVar = "whatever"
[10:36:31] <JrWebDev> and it seems to work okay
[10:36:50] <Cork> then i would prob have used $().data() instead
[10:36:59] <Cork> to not lock into only supporting one element
[10:39:30] <JrWebDev> i see
[10:39:42] <JrWebDev> thanks Cork kinda confusing but i have to review and study real qell
[10:39:44] <JrWebDev> well
[10:39:56] <JrWebDev> but dont worry about it Cork thanks
[10:40:20] <Cork> could give more concrete examples of how it needs to works if you showed the code you're working with
[10:46:56] <JrWebDev> of course i understand
[10:47:46] <JrWebDev> hey also, i have a input field...when i click i wanna set a value $('myInput').val(2); but when i click html view source i see the value is still value=""
[10:48:13] <AwkwardCough> html view source does not refect the dom as it is
[10:48:21] <Cork> JrWebDev: the source normally only shows what the page originally loaded
[10:48:22] <JrWebDev> mmmm i see
[10:48:26] <Cork> not the current state of the dom
[10:48:44] <Cork> the dom inspector will show you that normally though
[10:48:58] <Cork> (differs a bit between browsers though)
[12:07:56] <tarwater> this jquery mobile popup doesn't work. but if i refresh the page it does. it only doesnt work on the first load
[12:08:01] <tarwater> what does that sound like
[12:08:15] <Woet> "doesn't work" isn't useful info
[12:08:29] <tarwater> a button makes the popup appear
[12:08:32] <tarwater> it doesnt appear
[12:08:39] <Woet> okay, does the debug code in that event handler fire?
[12:08:43] <Woet> does the console show any errors?
[12:08:44] <tarwater> but the function that loads it is getting called
[12:08:47] <tarwater> no console error
[12:08:55] <Woet> ok, share your test case on www.jsfiddle.net
[13:22:59] <taplar> bou chicka bou bou
[13:54:56] <SideFX> I'm trying to make a easy way to click on icon that hides/unhides a <div>, right now I am just using removeclass "hidden" on a click function, is there some good way to reverse it with another click?
[13:56:50] <taplar> addClass('hidden') ?
[14:03:43] <Uhkis> toggle() or toggleClass()
[14:14:28] <traptrip> https://jsfiddle.net/0L9v24rm/ - I can't figure out why the CSS transition isn't triggering on this. it does trigger when I wrap the addClass() in a setTimeout(). kinda stumped. any thoughts?
[14:15:35] <robertmaxrees> you mean .addClass('top-notification')
[14:16:03] <robertmaxrees> (not sure if that's your issue or not)
[14:17:05] <traptrip> no I just abbreviated that. the code in the fiddle is what isn't working. the shader should fade in, the notification should slide in from the top window edge. neither transition is working, for some reason.
[14:17:46] <taplar> don't you have to have it created in one state, and then adjust it for the transition to happen?
[14:18:03] <taplar> otherwise it'd start in the finished state, afaik
[14:18:37] <robertmaxrees> gotta use keyframes iirc.
[14:19:38] <traptrip> taplar, if you look at the CSS, the initial state (without the container class) is with both shader and top-navigation 'hidden' (opacity/translateY). shouldn't they get rendered like that first?
[14:19:48] <traptrip> isn't this code linear and blocking?
[14:20:02] <robertmaxrees> it has to do with browser quirks on initial pageload.
[14:20:08] <robertmaxrees> and css animations aren't blocking iirc.
[14:20:20] <traptrip> robertmaxrees, I meant the javascript.
[14:21:06] <taplar> they js might run fast enough that the browser only renders once
[14:21:11] <robertmaxrees> ^
[14:21:15] <traptrip> I vaguely remember running into this some time ago, and then resulting in setting inline styles
[14:21:21] <robertmaxrees> https://jsfiddle.net/robertmaxrees/0L9v24rm/1/ works.
[14:21:30] <robertmaxrees> i'd try using css keyframes and see if that works.
[14:22:17] <traptrip> robertmaxrees, that's right. I had already tried a bit of that, but would just like to wrap that notification in a function that does all of it without user interaction
[14:22:31] <robertmaxrees> right, hence my keyframe suggestion.
[14:22:59] <traptrip> hmm, thank you. will look into that. would have to refactor into animations though, correct?
[14:23:10] <robertmaxrees> yep.
[14:23:25] <robertmaxrees> but it's "the right way" to handle this.
[14:23:42] <traptrip> that's good. I'm only interested in the 'right' way ;)
[14:29:46] <SideFX> Toggle!
[14:29:55] <SideFX> What is that, that sounds great, let me look that yu
[14:29:57] <SideFX> pup
[14:29:59] <SideFX> UP
[14:33:16] <SideFX> How can I use toggle, so if I have abutton that shows an input, I want the button clicks to toggle the input, but it looks like toggle is only made to work on the thing getting clicked?
[14:33:43] <taplar> $('selectTheOtherThing').toggle()
[14:36:01] <SideFX> I would need to put in a class and an id though
[14:36:08] <robertmaxrees> huh?
[14:36:15] <robertmaxrees> you can select it any way you'd like.
[14:36:17] <SideFX> The id of the thing to toggle and class to remove/add
[14:36:44] <robertmaxrees> you don't have to use an ID for that.
[14:36:56] <SideFX> How do I specify what's toggling?
[14:37:07] <taplar> any valid css selector will work
[14:37:16] <robertmaxrees> ^
[14:37:19] <taplar> or contextual lookup
[14:37:57] <SideFX> I'm not following, give me 1 sec to throw a jsfiddle together
[14:38:04] <taplar> u da man
[14:44:03] <SideFX> https://jsfiddle.net/7n4b8f01/
[14:44:26] <SideFX> So there, I don't see how I can fit toggle into that scenario, I want a second click to remove the input
[14:44:37] <robertmaxrees> http://api.jquery.com/toggleclass/
[14:44:50] <robertmaxrees> pretty basic.
[14:45:39] <SideFX> Oh I see
[14:45:52] <SideFX> The w3 school doc was lacking a bunch of info
[14:46:03] <robertmaxrees> heh, which is why you don't use w3schools ;)
[14:46:04] <taplar> noe way
[14:46:55] <robertmaxrees> http://api.jquery.com/ and google are better.
[14:47:13] <robertmaxrees> https://i.imgur.com/pRr8zna.png case in point
[14:47:34] <SideFX> Cool, it's working now
[14:47:47] <SideFX> Google brought me to w3
[14:47:59] <robertmaxrees> *w3schools
[14:48:01] <SideFX> I will stick with api.jquery.com
[14:48:05] <robertmaxrees> which is distinct from the W3
[15:20:32] <mart123> hi
[15:20:35] <robertmaxrees> hola
[15:21:22] <mart123> Any idea how can I create match of the columns from csv export?
[15:21:32] <robertmaxrees> hrm?
[15:22:11] <mart123> I'm struggling with the idea
[15:22:25] <mart123> I don't have idea how can I develop it
[15:22:33] <robertmaxrees> i don't even know what the idea is.
[15:22:38] <taplar> consider that you have knowledge of your issue.  and we do not
[15:22:47] <robertmaxrees> ;)
[15:23:02] <robertmaxrees> try describing what you're trying to do with more detail.
[15:23:22] <mart123> I've created csv import for companies.
[15:23:40] <mart123> So admin can import companies and save it in database
[15:24:02] <mart123> but I need to match columns from import file and database table
[15:24:17] <taplar> in my experience, you'd have the first row be column names
[15:24:24] <robertmaxrees> ^ a header row.
[15:24:29] <robertmaxrees> mart123 what language is your backend in?
[15:24:37] <mart123> so I admin can be sure that he doesn't screw up any thing
[15:24:53] <mart123> yes, a header row
[15:25:05] <taplar> right, with a header row, they can be in any order.  you just match up the column names with what they represent
[15:25:12] <mart123> back end is made in PHP and SQL
[15:25:27] <mart123> cool, but how to do it?
[15:25:36] <mart123> any examples
[15:25:40] <taplar> are you going to be doing this in php or js?
[15:25:44] <robertmaxrees> i'll bet somebody has already created something that does that kind of mapping.
[15:25:54] <mart123> I'd rather to it on jquery
[15:26:00] <taplar> y?
[15:26:09] <robertmaxrees> you want to match csv columns to db columns in js??
[15:26:20] <robertmaxrees> your csv should already have a header row tho.
[15:26:36] <mart123> yeah, my csv file has headers
[15:26:43] <mart123> but I still need to order them
[15:27:04] <mart123> because import file sometimes can have 4 columns, sth maybe 10 etc
[15:27:06] <taplar> i'd say hit up a php room.  order isn't the issue.  identifying the relation is
[15:27:15] <mart123> so I need much e.g. comany name to comany name
[15:27:22] <mart123> description to description
[15:27:25] <robertmaxrees> no need to order - the CSV file header rows tell your backend which columns map to which.
[15:27:32] <taplar> ^
[15:27:37] <robertmaxrees> there's more than likely a preexisting way to do this.
[15:27:47] <robertmaxrees> hit up a php channel.  but you can't really do this via JS.
[15:28:27] <taplar> if there isn't a preexisting way, it's a pretty simple concept of splitting by \n and commas
[15:28:42] <taplar> provided commas are the 'c' in csv
[15:36:29] <mart123> it not like that I would like to do it. I must :D
[15:36:31] <mart123> to do it
[15:36:51] <robertmaxrees> huh?
[15:37:00] <mart123> I save new companies in backend
[15:37:11] <robertmaxrees> right?
[15:37:19] <mart123> but before I send csv file to php I need to send new headers order :)
[15:37:26] <robertmaxrees> errr.
[15:37:29] <robertmaxrees> why?
[15:37:37] <robertmaxrees> the php should be looking at the header row and determining that.
[15:37:38] <taplar> why does order matter?
[15:37:38] <robertmaxrees> not the js.
[15:37:39] <mart123> that's the request from the client
[15:38:00] <mart123> that's easier for client to do
[15:38:19] <taplar> the client said "i want to upload a csv file and i want your js to determine what order the columns are in" ?
[15:38:21] <robertmaxrees> huh?
[15:38:34] <robertmaxrees> the client can upload in any order if you use header rows.
[15:38:36] <taplar> or did they say "i want to upload a csv file and it save correctly, no mater what order the data is given in"
[15:39:20] <mart123> no they didn't say they want js
[15:39:28] <robertmaxrees> what did they say then?
[15:39:42] <robertmaxrees> because the request has nothing to do with your JS doing anything really?
[15:39:42] <mart123> that they need ordering in front end
[15:39:55] <robertmaxrees> erm, why does the order matter?
[15:39:59] <taplar> that's a really weird customer request
[15:40:05] <mart123> as columns in cvs can have different order
[15:40:07] <mart123> etc
[15:40:17] <mart123> no idea a:D
[15:40:20] <robertmaxrees> back up.
[15:40:22] <mart123> I don't know
[15:40:25] <robertmaxrees> does the csv have a header row?
[15:41:59] * taplar drum roll ..... ?
[15:42:51] <taplar> lol
[15:42:56] <robertmaxrees> #welp
[15:43:00] <mart123> We would need to build a page after upload to match columns.
[15:43:06] <taplar> Hey I heard, you were a KindOne.... Oooooohhhhhhhh
[15:43:16] <mart123> yes, csv file has a header row
[15:43:23] <robertmaxrees> then you don't need to match anything.
[15:43:28] <robertmaxrees> the PHP can do that part automatically.
[15:43:36] <mart123> Here the user would match their uploaded columns with the DMA portal database structure.
[15:43:45] <taplar> no, no no
[15:43:50] <mart123> yes, yes, yes
[15:43:50] <robertmaxrees> right, if there's a header row, you don't need any of that.
[15:43:54] <taplar> user doesn't need to match to your database
[15:44:03] <taplar> that's too tightly coupled
[15:44:04] <mart123> yes, I need :]
[15:44:07] <robertmaxrees> the header row is a mapping.
[15:44:10] <taplar> ^
[15:44:17] <robertmaxrees> the header row is what handles that part.
[15:44:26] <robertmaxrees> literally no need for an interface.
[15:44:41] <robertmaxrees> that's literally why you use header rows.
[15:45:19] <mart123> ok, no worries
[15:45:21] <mart123> no question
[15:45:46] <taplar> really?  that's a pretty fast turn around...
[15:46:00] <mart123> yeah, I'll solve it myself
[15:46:04] <taplar> lol
[15:46:07] <taplar> dude
[15:46:17] <robertmaxrees> mart123 so why have a header row?
[15:46:33] <robertmaxrees> i'm really confused about why you have a header row if you're going to ignore it.
[15:46:34] <mart123> I'll just use jquery UI drag & drop, that's all what I need
[15:46:47] <mart123> I don't ignore it
[15:46:50] <taplar> if $row[0][0] has a value of "Company" or something, you know everything in $row[n][0] should be company values
[15:46:56] <taplar> and so on and so forth
[15:47:07] <robertmaxrees> mart123 then why have the interface?
[15:47:12] <mart123> every admin/client can have different structure of csv file
[15:47:18] <robertmaxrees> lol
[15:47:18] <taplar> but the same header
[15:47:21] <robertmaxrees> ^
[15:47:26] <mart123> nooo! not same header!
[15:47:28] <robertmaxrees> the order of the columns doesn't matter.
[15:47:29] <taplar> with more or less values
[15:47:39] <robertmaxrees> you can omit columns or add extra ones.
[15:47:40] <mart123> one person can have only 4 headers another 10 headers
[15:47:43] <robertmaxrees> your backend handles that mapping.
[15:47:45] <taplar> doesn't matter
[15:47:51] <robertmaxrees> yeah, your backend should handle all of that.
[15:47:55] <robertmaxrees> it'll need to anway.
[15:48:00] <taplar> if the header exists, that's what the column is
[15:48:01] <robertmaxrees> *anyway
[15:48:04] <robertmaxrees> ^^^
[15:48:12] <robertmaxrees> the header IS the mapping.  No manual intervention needed.
[15:48:18] <taplar> if it doesn't exist, they didn't give you that particular data
[15:48:33] <robertmaxrees> ^ and you can choose to ignore or error on those cases.
[15:50:07] <mart123> then I need to store this ordering
[15:50:17] <robertmaxrees> no, you don't.
[15:50:18] <mart123> so user can download tempalate and use it again
[15:50:19] <taplar> again, the header is the order
[15:50:24] <robertmaxrees> ^^^^
[15:50:40] <robertmaxrees> mart123 i feel like something isn't clicking here.
[15:50:42] <taplar> your database when it saves has it's own order
[15:50:55] <taplar> independent of it all
[15:51:06] <robertmaxrees> in fact, "order" in the db is ephemeral.
[15:51:07] <mart123> sorry it's not for ordering
[15:51:11] <mart123> is for match
[15:51:17] <taplar> lol
[15:51:19] <robertmaxrees> right.
[15:51:32] <robertmaxrees> you want to match a column in the db to a column in the csv, right?
[15:51:43] <mart123> Yes, yes yes
[15:51:50] <mart123> <yes>
[15:52:08] <mart123> Is that make more sense to you?
[15:52:09] <taplar> then downloading the template should have the headers they should use
[15:52:10] <robertmaxrees> so what if you had a way where the file tells you that?
[15:52:45] <robertmaxrees> mart123 the header row tells you exactly that info
[15:52:48] <taplar> and those header values would map to your database column names
[15:52:50] <robertmaxrees> that's literally what it's for.
[15:53:05] <taplar> if they give you a header value that isn't in your map, error
[15:53:27] <robertmaxrees> right.  and you'll have to do the mapping at some point anyway.
[15:53:44] <mart123> yeah in php, but with new header :)
[15:53:49] <robertmaxrees> huh?
[15:53:56] <robertmaxrees> the header row in the csv should be all you need.
[15:54:04] <robertmaxrees> your backend will handle the rest.
[15:54:42] <mart123> OK, COOL
[15:55:21] <robertmaxrees> like, the scenario you're describing is what the header row was designed to handle.
[15:56:29] <mart123> ok, that's make sense
[16:26:02] <funkeesapien> hello
[16:28:40] <funkeesapien> it seems spaces are ignore between the period and jquery element (e.g. "$("#my-id")   .hover("ex")" is valid)
[16:29:00] <funkeesapien> is this a jquery or javascript thing where it ignores those spaces?
[16:31:27] <grzes> hi guys, how can i require jquery slim?
[16:38:25] <da_wunder> grzes: https://cdnjs.com/libraries/jquery/
[16:43:48] <robertmaxrees> awww just saw funkee's question hahaa
[16:43:57] <grzes> da_wunder: yeah, but i use module loader and currently doing something like this: window.$ = window.jQuery = require('jquery');
[16:44:52] <da_wunder> grzes: so how have you installed jquery ?
[16:45:35] <robertmaxrees> grzes which module system?  requirejs?
[16:45:39] <grzes> webpack
[16:45:41] <Ali_nz1> Aplologies if this is OT. I get a JSON result back from the backend and I need to update my DOM with it. like result.surname result.address result.firstname - now is there a easy way to couple this to the DOM, or do I just have to write the code line by line to insert the values?
[16:45:59] <grzes> laravel mix to be precise
[16:46:08] <grzes> jquery is installed via npm
[16:46:46] <da_wunder> grzes: there is slim npm package
[16:47:04] <grzes> da_wunder: like official package?
[16:47:13] <robertmaxrees> Ali_nz1 there are a few ways.
[16:47:25] <robertmaxrees> but it all depends on what the data looks like and what the page looks like :)
[16:47:37] <da_wunder> grzes: not official https://www.npmjs.com/package/jquery-slim
[16:51:09] <Ali_nz1> Hiya robertmaxrees. Lemme see if I can find a way to share some snippeds
[16:51:12] <Ali_nz1> snipptes
[16:53:12] <grzes> da_wunder: it contains only 3.0.0 release :)
[16:53:57] <da_wunder> grzes: have you looked if that official jquery npm package contains also slim ?
[16:55:03] <grzes> da_wunder: yes
[16:55:22] <robertmaxrees> grzes you could always do the custom build yourself.
[16:56:25] <robertmaxrees> though I gotta ask: is the < 20 extra kb really worth the hassle?
[16:57:56] <Ali_nz1> The data/form looks something like this : https://pastebin.com/J8W66c09
[16:58:56] <robertmaxrees> Ali_nz1 i mean, one way would be to set the name of each of those inputs to the property names in the JSON
[17:03:54] <Ali_nz1> and then loop over all the inputs
[17:04:03] <Ali_nz1> i mean loop over the resuts
[17:04:03] <robertmaxrees> huh?
[17:04:09] <robertmaxrees> that's one way.
[17:04:31] <Ali_nz1> I am using thymeleaf - but I am not sure that will help me in the client.
[17:04:31] <robertmaxrees> though I'd probably rethink the format of the json at that point.
[17:06:34] <Ali_nz1> robertmaxrees: ok - whys that?
[17:07:18] <robertmaxrees> i'd probably do an array of objects with a format like { inputName: "someNameHere", inputValue: "some value here" }
[17:21:49] <jurgentje> Hi, could anyone tell me what I'm doing wrong? I'm not a big jquery or javascript guy, but would like to get a bit better at it. I stripped down the javascript to the smallest part (but I don't think you need the HTML body)
[17:21:51] <jurgentje> https://www.pastery.net/neveky/
[17:23:30] <robertmaxrees> What's the issue you're having?
[17:24:17] <robertmaxrees> ah, the JS error.
[17:24:32] <robertmaxrees> jurgentje moment(date) fails because dat isn't defined.
[17:25:58] <robertmaxrees> *date
[17:27:10] <jurgentje> sigh... so that happens when you strip down your code too much. PHPStorm (trying it) was putting me on the wrong leg, saying that moment was not defined. But it meant the innards...
[17:27:40] <robertmaxrees> jurgentje for a simple fiddle, https://jsfiddle.net/espc1vyk/
[17:27:49] <robertmaxrees> try updating that to better match your issue.
[17:29:53] <robertmaxrees> jurgentje tho, fwiw, you're mixing http and https - is the page hosted on http or https?
[17:29:54] <jurgentje> okay, so instead of date, I used Date.now() ... all works fine. :p
[17:30:04] <robertmaxrees> ah, cool.
[17:30:13] <robertmaxrees> also: get used to console.log() instead of alert() for debugging :)
[17:30:57] <Ali_nz1> robertmaxrees: why an array?
[17:31:11] <Ali_nz1> So you can loop over it?
[17:31:32] <robertmaxrees> Ali_nz1 because what you have is a collection of input names and values, not a singular thing with a bunch of properties.
[17:31:35] <robertmaxrees> better matches your data.
[17:31:42] <robertmaxrees> also: yes, it's easier to work with in this case.
[17:31:55] <jurgentje> currently it's localhost - I'm working towards a Joomla extension, so it might be http or https depending on the site it's installed on. In future cases, I'll be downloading the library locally (and by then joining and minifying it all, we'll be getting less server ticks)
[17:32:22] <robertmaxrees> jurgentje you want to make sure that the protocol of the plugins matches the page.
[17:32:35] <robertmaxrees> but it sounds like you'll have that taken care of.
[17:32:54] <jurgentje> yes, but thanks for pointing it out. I'll have extra care for that.
[17:33:17] <jurgentje> anyways, thanks a lot. A guy sometimes gets blind staring at his own code.
[17:33:33] <robertmaxrees> Deffo
[17:42:08] <Ali_nz1> robertmaxrees: so your saying in its current format I can easily loop over it?
[17:42:12] <Ali_nz1> *Can't
[17:42:39] <robertmaxrees> Ali_nz1 i'm sayign the current format is a poor choice for looping and that the data isn't in a very good format for what it represents.
[17:43:40] <jurgentje> Hey... maybe a stupid question... where's the console in jsfiddle?
[17:43:50] <robertmaxrees> jurgentje it's apart of your browser.
[17:43:57] <Ali_nz1> ok. And you showed and array { field1:"value1" , field2: "value2" .... but I thought arrays were delimited with [] ?
[17:43:58] <robertmaxrees> jurgentje your browser has built-in dev tools
[17:44:08] <robertmaxrees> Ali_nz1 it'd be an array of objects.
[17:44:54] <Ali_nz1> but the result will only ever be 1 object
[17:45:01] <Ali_nz1> so why would I array the objects?
[17:45:10] <robertmaxrees> nonono.
[17:45:14] <robertmaxrees> 1 object for each input.
[17:46:14] <Ali_nz1> so { surname: "smith" , firstname: "john" , etc
[17:46:19] <robertmaxrees> no.
[17:46:57] <robertmaxrees> https://bpaste.net/show/1f6d506299f2
[17:49:13] <Ali_nz1> robertmaxrees: hmm, I see. And once I get to that point, There is a way to iternate/loop over that array and map the objects to correspoending fields in teh DOM? (they do have the same names)
[17:49:27] <robertmaxrees> i mean... yeah.
[17:49:54] <robertmaxrees> that's a nice side-effect: it becomes relatively trivial to do what you need.
[17:50:16] <Ali_nz1> ok, building this array will be fun. I will give it a go....
[17:53:17] <robertmaxrees> Ali_nz1 for the freedbie of the day: https://jsfiddle.net/robertmaxrees/kL74k64z/
[17:57:57] <Ali_nz1> robertmaxrees: you make me laugh
[17:58:16] <Ali_nz1> robertmaxrees: I am still constructing my array, but thank you for when I get to that point
[18:05:45] <Ali_nz1> talk about do not pass go
[18:05:52] <Ali_nz1> I cant even get result.length to work
[18:08:45] <Ali_nz1> this didnt work : console.log("Result length is :" +object.keys(result).length );
[18:08:53] <Ali_nz1> neither did result.length
[18:09:29] <Ali_nz1> ahh - captial O
[18:10:28] <robertmaxrees> erm.
[18:10:41] <robertmaxrees> if result.length doesn't return anything, you don't have an object.
[18:10:43] <robertmaxrees> err, array
[18:11:07] <robertmaxrees> but an array is what you want.
[18:12:22] <Ali_nz1> result is what is sent to the browser. JSON object
[18:12:31] <robertmaxrees> but you want an array >.>
[18:12:31] <Ali_nz1> at least I think its a JSON object
[18:12:49] <robertmaxrees> console.log(JSON.stringify(result)); - can you share this?
[18:12:52] <Ali_nz1> yes, so first I need to loop over the properties in the object and get the key value paris
[18:12:54] <Ali_nz1> pairs
[18:12:54] <robertmaxrees> in a paste?
[18:13:09] <robertmaxrees> huh?  so yhou're not shipping an array to the browser?
[18:14:16] <Ali_nz1> http://imgur.com/a/q0n7P
[18:14:47] <robertmaxrees> heh, an array would be easier to handle on the frontend (like I showed you), but OK.
[18:15:27] <Ali_nz1> I was going to manipulate into array in client, but sure i guess would be faster done in back end
[18:15:46] <robertmaxrees> that was what I meant heh :)
[18:16:22] <robertmaxrees> should be relatively trivial to do.  but if it's that big of a pain there are ways to do it without the different dataset.
[18:17:43] <Ali_nz1> what the hell, I am happy to try
[18:17:54] <robertmaxrees> haha awesome.
[18:26:32] <Ali_nz1> robertmaxrees: just before I go further  - passing a POJO doesnt help?
[18:26:42] <robertmaxrees> plain old java object?
[18:26:46] <Ali_nz1> ya
[18:26:56] <robertmaxrees> how would that help your frontend?
[18:43:20] <Ali_nz1> robertmaxrees: whats your java like?
[18:44:19] <robertmaxrees> "my java"?
[18:44:23] <robertmaxrees> terrible haha
[18:44:29] <robertmaxrees> having a hard time getting to the right format?
[18:48:17] <Ali_nz1> yeah, its throwing an exception.
[18:48:23] <Ali_nz1> I dont think I am too far off
[18:48:55] <robertmaxrees> yeah sorry, my java is way rusty
[18:51:37] <robertmaxrees> didn't realize it'd be that big of a pain for you to output in the right format.
[18:54:04] <Ali_nz1> Im new! Every step is a big one
[19:03:21] <Ali_nz1> robertmaxrees: whats wrong with :
[19:03:24] <Ali_nz1> Object.keys(result).forEach(function(key) {
[19:03:24] <Ali_nz1>  $('[name="' + key + '"]').val(result[key]);
[19:03:24] <Ali_nz1> });
[19:03:37] <robertmaxrees> gah multiline pastes
[19:03:45] <robertmaxrees> you can do that if you'd like.
[19:03:54] <Ali_nz1> is there a but?
[19:04:06] <robertmaxrees> i was just pointing out that your data makes much more sense in the format i was describing earlier.
[19:04:23] <robertmaxrees> that also ties your property names to your input names, which may or may not be what you want.,
[19:04:38] <Ali_nz1> i see
[19:04:58] <robertmaxrees> it's all about decoupling things as much as possible.
[19:05:14] <Ali_nz1> I am not sure thats the usual way to it in the spring MVC framework
[19:05:38] <robertmaxrees> hrm?
[19:21:51] <Ali_nz1> robertmaxrees: OK, and just to make things complicated - there is more than one person on my page, so to pass the index when the button is clicked I need to know which person field is being search.
[19:21:53] <Ali_nz1> <input type="text" class="form-control text-uppercase" id="nia0" placeholder="NIA ID" th:field="*{persons[0].nia}"/>
[19:22:20] <Ali_nz1> there are multiple input tags on the DOM
[19:22:29] <Ali_nz1> person[1].nia
[19:22:36] <Ali_nz1> id=nia1
[19:22:39] <Ali_nz1> id=nia2
[19:22:40] <Ali_nz1> etc
[19:23:18] <robertmaxrees> share a copy of the JSON you're shunting out then.
[19:23:23] <robertmaxrees> with 2 people in it at least.
[19:23:26] <Ali_nz1> how do I get access to the index of the person that was clicked
[19:23:55] <Ali_nz1> No this is about which person field on my form is doing the lookup
[19:23:59] <robertmaxrees> ....
[19:24:11] <robertmaxrees> and matching it back to the object, right?
[19:24:26] <Ali_nz1> ultimately
[19:24:42] <robertmaxrees> soooo I'd need to see the objects you're using heh.
[19:24:50] <robertmaxrees> ideally you'd have song kind of ID on each person.
[19:25:06] <robertmaxrees> then you could easily set a data attribute on a container for a group on inputs and refer back to that.
[19:25:12] <robertmaxrees> *song-some
[19:25:23] <Ali_nz1> soooo
[19:25:27] <Ali_nz1> on this line here:
[19:25:31] <Ali_nz1>  $('[name="' + key + '"]').val(result[key]);
[19:25:36] <Ali_nz1> I need to add the index
[19:25:39] <Ali_nz1> like
[19:25:40] <robertmaxrees> erm.
[19:25:41] <robertmaxrees> no.
[19:25:59] <Ali_nz1>  $('[name' +i '="' + key + '"]').val(result[key]);
[19:26:13] <robertmaxrees> each person should have some kind of unique ID that you can pop onto a data attribute on a parent container that you can refer back to.
[19:26:18] <Ali_nz1> actualy wrong position
[19:26:32] <robertmaxrees> dunno why you';re asking for my input and then ignoring it heh
[19:26:36] <Ali_nz1>  $('[name="' + key +i +'"]').val(result[key]);
[19:27:09] <robertmaxrees> with your version, you'll have to do some funky parsing of the name attribute, which I highly suggest avoiding.
[19:28:28] <Ali_nz1> robertmaxrees: I think the way I have this form setup it would be hard. THe form has groups of fields for each person. When the form loads it has 3 groups of fields that are empty. id=person0, id=person1, id=person2 but there is also a button to add more groups of person fields, which continue with a similar naming fashion.
[19:28:55] <robertmaxrees> there's a very simple way to make all of that work, but OK.
[19:29:15] <Ali_nz1> so if you go into person2, type in a ID number and hit lookup the results from JSON need to map back to id=surname2, id=firstname2 etc etc
[19:29:41] <robertmaxrees> right.  my suggestion would make that very easy.
[19:29:47] <robertmaxrees> but (shrug)
[19:29:52] <Ali_nz1> hence me trying to add the index number to my line that updates the DOM : $('[name' +i '="' + key + '"]').val(result[key]);
[19:30:00] <robertmaxrees> i wouldn't use an index of that.
[19:30:09] <robertmaxrees> a unique ID of some kind is a much safer and easier bet.
[19:30:30] <Ali_nz1> robertmaxrees: a uniquie ID on the field?
[19:30:43] <robertmaxrees> on a parent container that's shared by all inputs.
[19:30:48] <robertmaxrees> https://jsfiddle.net/robertmaxrees/pLrorvxt/
[19:30:55] <Ali_nz1> ok, and how is it.....you beat me
[19:31:40] <Ali_nz1> so your talking about static id's?
[19:31:53] <robertmaxrees> aye.
[19:32:15] <Ali_nz1> so you still need the index
[19:32:20] <robertmaxrees> no
[19:32:25] <robertmaxrees> why do you think you need an index?
[19:32:33] <robertmaxrees> the object should hjave that same static ID?
[19:33:04] <Ali_nz1> your passing that parent id to backend?
[19:33:14] <robertmaxrees> you could do that if you want.
[19:33:26] <Ali_nz1> well what are you advocateing?
[19:33:28] <robertmaxrees> you said that there's a way to enter the ID you want, right?
[19:33:39] <Ali_nz1> yea, a input field.
[19:33:40] <robertmaxrees> so enter an ID and get back the person you want.
[19:33:49] <robertmaxrees> then yeah, make that an ajax call.
[19:33:49] <Ali_nz1> yes, thats what happends
[19:34:02] <robertmaxrees> instead of loading a bunch of JSON into the frontend that may or may not be used.
[19:34:22] <Ali_nz1> all the person fields are used.
[19:34:29] <robertmaxrees> huh?
[19:34:33] <Ali_nz1> so I need all the JSON in the front end
[19:34:37] <robertmaxrees> erm.
[19:34:38] <Ali_nz1> its not like I want just the names
[19:34:39] <robertmaxrees> what?
[19:34:45] <robertmaxrees> is this a CRUD?
[19:35:10] <Ali_nz1> instead of loading a bunch of JSON <<-- u said - I said why would I not want to load ALL of the person attributes?
[19:35:18] <robertmaxrees> errr.
[19:35:20] <robertmaxrees> i never said that.
[19:35:27] <robertmaxrees> i just meant you don't want to load all json for all people.
[19:35:34] <robertmaxrees> just load the JSON for the specific person you need.
[19:35:43] <Ali_nz1> robertmaxrees: for a given person I want all of there JSON data
[19:35:48] <robertmaxrees> right, that's fine.
[19:36:13] <da_wunder> Ali_nz1: then just use different serializer for list and one user get
[19:36:44] <da_wunder> Ali_nz1: and serializer i mean how you convert your db row to json
[19:36:54] <robertmaxrees> ^
[19:38:15] <Ali_nz1> robertmaxrees: I am still lost. But lets start with this question. YOu suggested putting the identifieer on the parent,and I am cool with putting it on the parent. Bt the form is dyanmic and I can add any number of people so how does <form data-personid="123"> get a new uniquie id when I add another person? DO I need some sneaky rand function to append it?
[19:38:49] <robertmaxrees> you're changing what you're trying to build on me.
[19:38:59] <robertmaxrees> could you start from the beginning and explain what this interface is?
[19:39:23] <Ali_nz1> OK, a picture would be a thousand words here, but anyway
[19:39:40] <robertmaxrees> then use a picture >.>
[19:39:47] <da_wunder> Ali_nz1: if your models/entities/records need to have unique id, that can be generated on the fly then use uuid v4 on those
[19:40:08] <da_wunder> Ali_nz1: and that is basically your backend problem, not frontend
[19:41:02] <da_wunder> and really that is not a problem in that backend side...
[19:41:20] <Ali_nz1> think of a form and the form captures the details of people. The form initalises with groups of fields for 2 people., but a ADD button lets you duplicate the group of people fields so you can capture the details of as many people as you want.
[19:41:52] <Ali_nz1> nothing is sent to the db when you click add - it just dupliclates fields.
[19:42:01] <da_wunder> so ?
[19:42:12] <robertmaxrees> this is all fairly trivial.
[19:42:26] <da_wunder> so just [{something..}, {something...}, ...]
[19:42:28] <robertmaxrees> https://jsfiddle.net/robertmaxrees/pLrorvxt/1/
[19:42:32] <Ali_nz1> for each person there is a input for ID and a corresponding button to "lookup" a person by ID.
[19:42:44] <robertmaxrees> yeah, like what I just showed you.
[19:43:02] <Ali_nz1> the results come back in json and the json field names are the same as the id and input name
[19:43:10] <da_wunder> Ali_nz1: and really do not use incremential ids
[19:43:17] <da_wunder> Ali_nz1: use uuid v4
[19:43:37] <da_wunder> Ali_nz1: and make that look by "id" to some another attribute
[19:43:56] <da_wunder> Ali_nz1: who the hell will know some ID number ?
[19:44:12] <da_wunder> personally would always try 69
[19:44:17] <Ali_nz1> I now need a way to (1) assign a ID to the parent group (I dont know how to generate this if its going to be some unique uuid) and (2) pass that ID to the Javascript when the button is clicked
[19:44:21] <da_wunder> or 666
[19:44:49] <da_wunder> Ali_nz1: that all is what you need to do in your backend not in the frontend
[19:45:44] <Ali_nz1> robertmaxrees: that doesnt show me how the uuid's are generated
[19:45:57] <robertmaxrees> Ali_nz1 your DB or some other mechanism.
[19:45:57] <da_wunder> Ali_nz1: eg. you send { "group": "some group", "users": [ {userobjecthere}, {anotheruserobject}, ...]}
[19:46:26] <robertmaxrees> Ali_nz1 it could be a uniqueID generated by the ID.  or some other means.
[19:46:45] <robertmaxrees> when you add users, no need to set the ID, you just ajax in each form separately.
[19:47:12] <Ali_nz1> but when I click add user the form doesnt even talk to the backend
[19:47:19] <Ali_nz1> it just duplicates html
[19:47:27] <robertmaxrees> that's fine...
[19:47:34] <robertmaxrees> you handle creation differently than updates.
[19:47:35] <Ali_nz1> so the uuids wont be coming from there
[19:47:39] <da_wunder> Ali_nz1: so what?, just send that form data as i earlier explained...
[19:47:47] <robertmaxrees> so those forms don't need an ID yuet.
[19:47:52] <robertmaxrees> you can ignore it for them.
[19:48:31] <da_wunder> Ali_nz1: and with that data structure just create that group first, and then those users, and attach those to that group
[19:48:34] <Ali_nz1> but when they click search that uuid needs to be passed to the js, so i knows which group of fields to return the results to?
[19:48:39] <da_wunder> Ali_nz1: quite simple really
[19:48:54] <robertmaxrees> Ali_nz1 you're way overcomplicating this.
[19:49:02] <robertmaxrees> you can build that relationship on search if need be.
[19:49:06] <robertmaxrees> i made a fiddle that does exactly that.
[19:49:17] <robertmaxrees> and sent it to you.
[19:50:53] <Ali_nz1> you just using the var $theForm = $(this).closest('form'), <<<
[19:51:15] <robertmaxrees> to map an entry back to the DB, yeah...  or you just use the input value.
[19:51:16] <robertmaxrees> either/or.
[19:51:18] <robertmaxrees> not hard.
[19:52:17] <Ali_nz1> I dont understand why you keep talking about mapping entries to the db? I have a db identifier that is hidden but passed between the view and db - thats not the issue here.
[19:52:28] <robertmaxrees> then what is?
[19:53:43] <Ali_nz1> the issue is when the JSON gets to the client, which SEARCH button was clicked? there is one search button for each group of person fields. The JSON data in the client needs to go back to person group 1 if it was button one clicked, or person group 2 if button 2 was clicked.
[19:53:46] <Ali_nz1> your:
[19:53:51] <robertmaxrees> like: https://jsfiddle.net/robertmaxrees/pLrorvxt/2/
[19:53:54] <Ali_nz1> var $theForm = $(this).closest('form'), <<<
[19:53:55] <robertmaxrees> this is easy.
[19:54:05] <robertmaxrees> you can ignore the data attribute and just use the input value.
[19:54:06] <Ali_nz1> seems to identify which button was clicked by finding the parent
[19:54:07] <robertmaxrees> (shrug)
[19:54:46] <robertmaxrees> https://jsfiddle.net/robertmaxrees/pLrorvxt/3/ this one doesn't even touch the data attribute.
[19:56:46] * Ali_nz1 reading robertmaxrees fiddle
[19:56:47] <robertmaxrees> ¯\_(ツ)_/¯ lots of simple ways to skin this cat.  just avoid doing things by array index.  and actually, i'd hit your backend via ajax to nab data, instead of storing in an object client-side.
[19:58:27] <Ali_nz1> you mean persist it before submit?
[19:58:38] <robertmaxrees> huh?
[19:58:48] <da_wunder> Ali_nz1: just opposite
[19:58:52] <robertmaxrees> ^
[19:59:07] <Ali_nz1> forget that question. still working out the last one
[19:59:32] <da_wunder> but now some sleep ->
[20:03:32] <Ali_nz1> you code is so slick, I dont even bloody get how get person knows where to put the results
[20:03:42] <robertmaxrees> really?
[20:03:52] <robertmaxrees> you see the submit handler, right?
[20:04:49] <Ali_nz1> I am looking for a getPerson.click
[20:04:56] <robertmaxrees> $('.all-persons').on('submit', '.person-form', function(e) {
[20:05:08] <robertmaxrees> that's where it happens.
[20:05:23] <Ali_nz1> the button has a class getPerson - where is the js that says when this button is clicked do this
[20:05:33] <robertmaxrees> again
[20:05:35] <robertmaxrees> $('.all-persons').on('submit', '.person-form', function(e) {
[20:05:40] <robertmaxrees> it's a submit handler for the form.
[20:05:53] <Ali_nz1> right, and you overridge default behavious
[20:05:57] <Ali_nz1> behaviour
[20:06:08] <robertmaxrees> right.  that's where it finds the matching person and filles in the form.
[20:06:12] <robertmaxrees> *fills
[20:06:37] <Ali_nz1> $theForm is the closest form tag (a part of the DOM)
[20:07:05] <Ali_nz1> currentId gets the id that was typed in?
[20:07:25] <Ali_nz1> and current person data gets the data (which in your case is just a local copy)
[20:07:33] <Ali_nz1> have I got that right?
[20:07:37] <robertmaxrees> err, those are the values.
[20:07:48] <robertmaxrees> currentId doesn't "get" anything, it IS the ID.
[20:08:07] <robertmaxrees> $theForm.find('input[name="personId"]').val() is how we get the ID.
[20:08:10] <Ali_nz1> robertmaxrees: that ID of what??
[20:08:29] <robertmaxrees> really?
[20:08:45] <robertmaxrees> you said you needed a field that you could put an ID into.
[20:09:13] <Ali_nz1> currentId gets the id that was typed in? <<< then you said currentId doesn't "get" anything, it IS the ID. << What I mean was it gets the ID from the input of the form
[20:09:23] <robertmaxrees> it'
[20:09:24] <Ali_nz1> I think you thought I mean gets the ID from the DB or something
[20:09:36] <robertmaxrees> *it's set to the value of the id input.
[20:09:51] <Ali_nz1> yes, its gets it from what the user typed into the view
[20:09:57] <robertmaxrees> it's set5 to that lol.
[20:10:01] <robertmaxrees> small syntactice difference.
[20:10:05] <robertmaxrees> *syntactic
[20:10:11] <robertmaxrees> anyway, that making more sense now?>
[20:10:24] <Ali_nz1> yeah....I will have a crack at it soon
[20:10:46] <Ali_nz1> so the index is never used in this way
[20:10:54] <robertmaxrees> right.  nor should it be.
[20:11:05] <robertmaxrees> because you wouldn't have a local copy of the data on the page anyway.
[20:11:25] <Ali_nz1> ok, I will have a go after lunch
