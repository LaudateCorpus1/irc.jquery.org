[00:08:31] <jak2000> hi all
[00:38:04] <Ziberius> hello
[00:38:36] <Ziberius> how can I run three functions with Ajax calls within them in order?
[00:38:57] <Ziberius> I'm trying to use Deferred but can't figure it out
[00:39:35] <Ziberius> Well it works if the functions  return the Ajax calls but I would like to do it without that modification
[00:40:15] <Cork> Ziberius: either call the functions as the .done callback from the previous call
[00:40:39] <Cork> or proxy it in a $.callback() hook
[00:41:50] <Ziberius> yes I don't have the functions available in the same spot I need to set them at different points
[00:42:01] <Ziberius> I'm guessing that's what you mean by proxy them?
[00:42:08] <Ziberius> Will look into $.callback()
[00:42:09] <Ziberius> thanx
[00:42:29] <Cork> you will have to chain the calls if you don't want them to happen at the same time
[00:42:38] <Cork> so you will have to get access to the functions
[00:43:22] <Ziberius> hmm ok so I have to store them somehow and when I have all three then I chain them
[00:43:23] <Ziberius> I see
[00:43:54] <Cork> well you have to do something like func1().done(func2.done(func3)
[00:44:12] <Cork> else the async ness will mean they run in random order
[00:44:21] <Ziberius> ok perfect
[00:45:04] <Ziberius> so what is the point of Deferred then I thought you could store executions in a heap and then resolve would execute them in order
[00:45:06] <Ziberius> :-(
[00:46:27] <Cork> Ziberius: it is so you don't have to call func2 from inside func1
[00:46:42] <Cork> cause .done() is an object you can transfer
[00:46:56] <Cork> but the call to it has to be queued before the defered is resolved
[00:47:02] <Cork> else it won't give you anything
[00:47:29] <Cork> defered is to make callbacks easier to handle
[00:47:52] <Cork> the difference between $.Defered() and $.callbacks is that $.Defered has 3 different callbacks
[00:48:03] <Cork> (fail, done and always)
[00:49:04] <Ziberius> ah I see
[00:51:32] <jak2000> jquery question: http://itsol.ddns.net:8080/minisistema/login.jsp   user: admin pass: 123   in the main page when i click on + for add menu item i have 2 problems, 1) the tree disappear when the user interact with modal form, how to stop disappear?   a friend say me stop hover event and activate clickevent...
[00:52:08] <Ziberius> Cork: this seems to be working https://pastebin.com/TMjsBE1K
[00:52:52] <Cork> Ziberius: no, that shouldn't help
[00:52:58] <Cork> you need to return the ajax value
[00:53:00] <Ziberius> :-O
[00:53:12] <Cork> else it will be async independently called
[00:53:27] <Ziberius> ok wanted to avoid that but good to know if that's the only way
[00:53:30] <Ziberius> thanks :-D
[00:53:51] <Cork> Ziberius: you can create a $.Callbacks() in the function and resolve it in the .done callback
[00:54:02] <Cork> then you don't have to share the xhr if that scares you
[00:54:18] <Cork> but you have to provide an access to the callback else it can't be waited for
[01:01:18] <Ziberius> pretty sure this one works https://pastebin.com/QQcmzKxB
[01:01:30] <Ziberius> thanx
[01:01:42] <Cork> don't use pastebin
[01:01:48] <Cork> or fill in the capcha
[01:02:00] <Cork> i recommend using jsfiddle.net instead
[01:03:41] <MACscr> is there anyway to get jquery draggable() to work with inputs and buttons? I really dont want to have to have a wrapper element just to get it to work
[01:03:53] <jak2000> how to disable mouse hover with jquery?
[01:05:26] <Ziberius> Cork: yes I was doing that in jsfiddle, just an old habit using pastebin
[01:05:26] <Ziberius> https://jsfiddle.net/Ziberius/zbL1wqd0/
[01:07:31] <Cork> MACscr: i don't fully remember, but i'm quite sure no, cause jquery need to put handles and things in the element
[01:07:41] <Cork> MACscr: and as inputs is replaces that isn't possible
[01:07:49] <Cork> MACscr: a <button> SHOULD work though
[01:08:10] <Cork> jak2000: add a class that the css rule excludes with :not
[01:08:47] <Cork> Ziberius: either use .done or .then not both :)
[01:09:15] <Cork> .then is the same as .done except .then lets you modify the defer object for the next callback
[01:09:37] <Ziberius> Cork: ok great thanx
[01:15:27] <MACscr> Cork just seems odd that inputs are resizable, but not draggable
[01:15:55] <Cork> MACscr: it would have to not be a form element to be possible
[01:16:07] <Cork> as you can't add children to them
[01:16:31] <MACscr> http://jsfiddle.net/MACscr/y80d124p/10/
[01:20:17] <Cork> MACscr: the classic way of thinking about replaced elements are; think of it as there are holes in the webpage and you're seening browser controls through those
[01:20:31] <Cork> then it becomes easier to think about those elements correctly
[01:21:11] <MACscr> ha, maybe i need to go to bed, but that doesnt make much sense to me =P
[01:21:13] <Cork> (once uppon a time that was actually quite close to the truth, not anymore (most of the time though)
[01:21:28] <Cork> MACscr: think about replaced elements as not really part of the page
[01:21:32] <Cork> that is what i meant
[01:21:38] <MACscr> why?
[01:21:53] <Cork> cause that is what they where once uppon a time
[01:22:06] <Cork> what was in the page was actually just a white square
[01:22:19] <Cork> and then the browser put native input fields from the system ontop of the page
[01:22:40] * Cork afk
[01:23:16] <MACscr> but an image is considered a replaced element and it can be modified just fine with css, etc
[01:32:00] <Cork> MACscr: yes, you can modify some css rules, but they have limitations
[01:32:09] <Cork> like :before doesn't work and things like that
[03:04:35] <Paradisee> hello o/
[03:04:56] <Paradisee> is there a way to redirect with a header?
[03:05:14] <Paradisee> i want to be able to reach a page using a header for the authorization
[03:08:26] <Cork> Paradisee: redirect? js can't redirect
[03:08:30] <Cork> that is what the server does
[03:09:10] <Paradisee> i basically need to send an Authorization header with a JWT
[03:09:40] <Paradisee> since i cannot redirect the user with a custom header, i have no idea how to approch this
[03:09:41] <Cork> so you get a response and need to make a new request to a different endpoint?
[03:10:06] <Cork> cause like i said redirect is what the server does by setting a localtion: header
[03:10:11] <Cork> not js
[03:10:18] <Paradisee> i have made an ajax post request to the server, and it returns me a JWT, now i want to make a redirect with a header
[03:10:36] <Cork> so you mean make a new request?
[03:10:41] <Paradisee> ya
[03:10:45] <Cork> cause again clients doesn't make a redirect...
[03:10:50] <Paradisee>             $.each(data, function(key, value) {
[03:10:50] <Paradisee>               xhr.setRequestHeader('Authorization', value);
[03:10:50] <Paradisee>             });
[03:10:51] <Paradisee> ops
[03:11:03] <Paradisee> wanted to paste: window.location.href = "{{ callback }}";
[03:11:06] <Cork> so ya, just set the request header
[03:11:11] <Cork> you have it exposed in $.ajax
[03:11:26] <Paradisee> that is not going to work btw
[03:11:32] <Paradisee> since i don't have xhr
[03:11:55] <Cork> ...
[03:12:02] <Cork> Paradisee: read the reponse!
[03:12:16] <Cork> you need to make a new ajax call
[03:12:20] <Cork> so read $.ajax
[03:12:23] <Cork> http://api.jquery.com/jquery.ajax/
[03:12:59] <Paradisee> https://dpaste.de/OkmM
[03:13:30] <Cork> if you mean you want to navigate the page with the xhr information, no you can't
[03:13:48] <Paradisee> i'm not a js expert, it's not my job btw
[03:13:54] <Paradisee> i'm just a backend developer
[03:14:23] <Cork> either load the content through ajax and replace the content in the page
[03:14:32] <Cork> or set a cookie and handle it server side
[03:15:12] <Paradisee> cannot set a cookie, this thing have to work with headers
[03:15:22] <Cork> ok, then you have to use ajax
[03:15:24] <Paradisee> its an Authorization mid-layer
[03:15:45] <Paradisee> Cork: just need to understand how
[03:15:57] <Cork> you make an ajax call and it returns a partial
[03:16:01] <Paradisee> basically i can make another ajax call inside the success right?
[03:16:05] <Cork> then you replace a container in the page with the new information
[03:16:09] <Cork> yes
[03:16:18] <Cork> just remember you can't load a full page
[03:16:26] <Cork> as you modify the existing one
[03:16:29] <Paradisee> what does that mean
[03:16:45] <Cork> only the new content in body, no new css resources and so on
[03:17:08] <Paradisee> once the ajax call is done i dont care anymore about this page
[03:17:08] <Cork> some new script is ok, but be careful there
[03:17:15] <Cork> you will have to
[03:17:15] <Paradisee> the user gets redirected on another domain
[03:17:20] <Cork> cause you will be in this page
[03:17:23] <Cork> just load in new content
[03:18:04] <Paradisee> so basically the new site is being loaded into my content?
[03:18:09] <Cork> you have two options if you need to load a full new page, cookie, or url auth
[03:18:16] <Cork> yes
[03:18:34] <Paradisee> well, can't use querystring too since my boss won't em
[03:18:37] <Cork> you do something like $.ajax(url).done(function(data) { $('#container').html(data); })
[03:18:41] <Paradisee> a cookie could be a solution
[03:18:57] <Cork> if you need to do a full page reload that is the limitations
[03:19:11] <Cork> headers can only be used with ajax
[03:19:17] <Cork> and ajax can't load pages
[03:19:25] <Cork> only "partials" and data
[03:19:57] <Cork> you could let the middle layer take a normal post though and then it could redirect you to the new content
[03:19:59] <Paradisee> ok
[03:20:03] <Cork> then you don't need this problem at all
[03:20:17] <Cork> just remember to not use ajax when you contact the middle layer
[03:20:28] <Cork> it is another option :)
[03:20:33] <Paradisee> cannot redirect the user directly from the post request
[03:20:42] <Paradisee> server-side i mean
[03:21:03] <Cork> ya... then cookie is basically the only option
[03:21:06] <Paradisee> the client will have just a response with the header
[03:21:10] <Paradisee> but i need to make a reqeust
[03:21:22] <Paradisee> never used them personally
[03:21:26] <Paradisee> hope it's not too hard
[03:21:49] <Cork> you want to have the middle layer to set a session http only session cookie
[03:22:03] <Cork> then the second request can read that data from something like a memcache server
[03:22:09] <Cork> and you have a login solution
[03:22:44] <Paradisee> i'll try to set a cookie right now from the server side
[03:23:02] <Cork> remember to not set sensitive data there only a reference
[03:23:11] <Paradisee> ofc
[03:23:11] <Cork> cause else the user can access that data and modify it
[03:23:31] <Paradisee> btw, what's the problem if i just load the content using ajax?
[03:23:52] <Cork> you can't do a full page load
[03:24:03] <Cork> so no new css( or rather can't unload old css)
[03:24:10] <Paradisee> ok
[03:24:16] <Cork> and the js you have here will to some degree be left
[03:24:49] <Cork> it is fully doable, but you need to be aware of the difference to a complete page reload
[03:25:03] <Paradisee> oki
[03:25:05] <Paradisee> got it
[03:25:16] <Cork> cause else you can get bugs or even security problems
[03:33:36] <Paradisee> Cork: i set the cookie
[03:33:51] <Paradisee> now i need to read it from jquery...but i still need to make a redirectg
[03:34:04] <Cork> Paradisee: no you need to read it on the other end point
[03:34:22] <Cork> the browser stores the cookie and keeps it for the same domain
[03:34:24] <Paradisee> someone have to redirect the user to the endpoint
[03:34:40] <Cork> so just set the new url
[03:34:52] <Cork> if the cookie works the browser will do the rest
[03:35:19] <Cork> (as long as the servers are correctly configured to look up the cookie that is)
[03:35:45] <Paradisee> basically, when a user visit a domain without being logged, he get redirected to our Auth system, with a url like this: http://foo.com/auth?callback=visited_url
[03:36:21] <Paradisee> when he log into the system, he get redirected to "visited_url"
[03:37:00] <Cork> Paradisee: ya, and the server can do that by sending a http 307 and a location: header
[03:37:01] <Cork> or
[03:37:05] <Paradisee> but we still need to use headers, because the visited url, just accept people with an authorization header
[03:37:15] <Cork> you can send the url as an ajax response and js sets the url
[03:37:19] <Cork> headers isn't something you can use
[03:38:18] <Paradisee> [09:37:02] <Cork> Paradisee: ya, and the server can do that by sending a http 307 and a location: header
[03:38:40] <Paradisee> once the user logged, you can redirect the user, but still it would be a response not a reqeust
[03:38:58] <Cork> Paradisee: ya, cause that is what a redirect means
[03:39:12] <Paradisee> that's why the client have to send a request with a valid header
[03:39:16] <Cork> clients makes a request, servers make a response the response can be a redirect
[03:39:29] <Cork> Paradisee: ya, but you can't do that if you want a page load
[03:39:32] <Cork> like i said
[03:39:43] <Paradisee> Cork: i need to find a way to make this work anyway
[03:39:51] <Cork> the only option if you want a page load is to set a cookie and have the server handle the session login
[03:40:09] <Cork> Paradisee: then you have to lose either 1) page load or 2) header
[03:40:16] <Cork> they are mutually exclusive
[03:41:01] <Paradisee> window.location.href = "http://stackoverflow.com";
[03:41:07] <Paradisee> isn't this a redirsct?
[03:41:13] <Cork> it is a page load
[03:41:26] <Cork> it just loads the requested url, with no reference to a different request
[03:41:33] <Cork> no special headers or anything
[03:41:43] <Paradisee> so no way to make a redirect
[03:41:47] <Paradisee> a real redirect i mean
[03:42:08] <Cork> sure, you make a http 3xx response from the server
[03:42:23] <Cork> LIKE I'VE TOLD YOU SEVERAL TIMES the server makes the redirect
[03:42:38] <Paradisee> i was talking client side
[03:42:48] <Cork> but there are no client redirect
[03:42:51] <Cork> it makes no sense
[03:43:01] <Cork> should the client redirect the server to a different server?
[03:43:04] <Cork> like a proxy?
[03:43:17] <Paradisee> no sense
[03:43:25] <Cork> redirect is "you asked me, but you should talk with x"
[03:44:06] <Paradisee> well, i have to find a way :D
[03:44:11] <Cork> as a result of a request, a client can chose to make a different request, but it isn't a redurect
[03:44:39] <Cork> it is just the wrong terminology and just doesn't exist
[03:45:11] <Cork> it's like saying i need to pour water into the fosset
[03:48:27] <Paradisee> so the only "possible" way maybe, is to set a cookie, make a redirect (server-side) to another domain, and the other domain have to understand the cookie permitting the access
[03:48:56] <Cork> Paradisee: either that or ask js to make a new request to the new url
[03:49:08] <Paradisee> mm
[03:49:18] <Cork> that isn't the problematic part, but you have to have the second url endpoint to look for the cookie
[03:49:45] <Paradisee> i didn't understand
[03:49:48] <Cork> cause when you make the page load you have url, cookie, and source location (domain it was on)
[03:49:51] <Cork> nothing else
[03:50:07] <Paradisee> [09:48:58] <Cork> Paradisee: either that or ask js to make a new request to the new url
[03:50:15] <Paradisee> how do you make a new request using js
[03:50:25] <Cork> Paradisee: window.location = "new url"
[03:50:35] <Cork> that would also make the request, but not a redirect
[03:50:37] <Paradisee> still page load tho
[03:50:40] <Cork> ya
[03:50:45] <Cork> but not a redirect
[03:50:49] <Paradisee> no css, nothing...
[03:50:57] <Cork> that is a full page load
[03:51:09] <Cork> it unloads the current page and loads the new location
[03:51:12] <Cork> a full page load
[03:51:19] <Cork> BUT you can't set headers
[03:51:29] <Paradisee> then why i cannot do that with ajax the same way?
[03:51:33] <Cork> the limitations i just said
[03:51:41] <Cork> cause it loads partioals into the current page
[03:51:47] <Cork> it can't make a full page load
[03:52:17] <Paradisee> well actually it doesnt make different if i do a redirect
[03:52:20] <Paradisee> or a fullpage load
[03:52:35] <Cork> not if you have a cookie for the login session no
[03:52:43] <Paradisee> both way make a new request to the new domain
[03:52:55] <Cork> yup
[03:53:15] <Cork> the difference is that a redirect is the server asking while the second is the client choosing to
[03:53:44] <Paradisee> got it
[03:53:57] <Paradisee> i'm thinking how to manage the whole thing on the other domain
[03:54:15] <Cork> is it different domain names too?
[03:54:24] <Paradisee> same server
[03:54:31] <Cork> same domain name?
[03:54:37] <Paradisee> atually it works with a JWT
[03:54:42] <Cork> (if it is on the same server doesn't really matter)
[03:54:56] <Cork> cause browsers store cookie we domain name
[03:54:59] <Paradisee> Cork: dunno, sys stuff i don't care about, they know this is possible to do, so i just write code
[03:55:11] <Cork> you need to care about it
[03:55:20] <Cork> cause it matters to how you can solve it
[03:55:35] <Paradisee> i'm pretty sure it is possible to work with
[03:55:46] <Cork> if the login is a different domain, it means you will need to use third party cookies for the login
[03:55:59] <Paradisee> but the other domain needs a header....
[03:56:01] <Cork> and many browsers block that today
[03:56:04] <Paradisee> that's how the whole thing works
[03:56:06] <Cork> ...
[03:56:22] <Cork> if you absolutely need header, then you can't use page loads
[03:56:27] <Paradisee> if you dont pass the JWT in the header you're fucked up
[03:56:45] <Cork> then you will have to let the first page be a page the content replaced after the login
[03:56:59] <Cork> you don't have a choice if you need headers in the requests
[03:57:09] <Paradisee> what does that mean
[03:57:39] <Cork> you need to load a html url, it makes an ajax requests to the login url, then it need to use that to requests new content from the second url
[03:57:46] <Paradisee> let's say my server returns a JTW
[03:57:58] <Cork> but the original url need to contain the styles needed for the logins in page to work
[03:58:14] <Cork> cause you can't change the orignal page (you can replace the url in js, but no  reload the page)
[03:58:31] <Paradisee> i have a page that reads the JTW returned, and make a new request with the JWT in the header. is that possible?
[03:58:39] <Cork> cause if you do, the session will be loast as it is kept in js
[03:59:01] <Cork> as long as js makes the request as an ajax call
[03:59:06] <Cork> meaning you can't replace the page
[03:59:28] <Paradisee> wait, i might have find a solution
[04:01:28] <Paradisee> i can basically do: window.location.href = "{{ callback }}";
[04:01:35] <Paradisee> where callback is my redirect page
[04:01:43] <Cork> no
[04:01:49] <Cork> it can make a request to a new url
[04:01:56] <Cork> nothing else
[04:01:57] <Paradisee> ok
[04:02:01] <Paradisee> doesn't redirect?
[04:02:05] <Paradisee> aw
[04:02:07] <Paradisee> sorry xD
[04:02:10] <Cork> we're looping...
[04:04:40] <Paradisee> i missed some concept about redirecting, but now i know
[04:05:15] <Paradisee> if the domains are on the same server....doing a fullpage load would work right?
[04:05:39] <Cork> Paradisee: full page loads works either way
[04:05:51] <Cork> what matters is if the browser will send the cookie or not
[04:06:34] <Cork> ajax calls cares about if the server allows cores (if you make the call cross domain (cors Cross Origin Requests)
[04:06:55] <Cork> by default browsers block cors calls
[04:08:11] <Paradisee> we can fix that
[04:08:20] <Paradisee> i just wanna be sure the page is being loaded
[04:08:26] <Paradisee> using ajax
[04:08:36] <Cork> uh...
[04:08:37] <Paradisee> i dont wanna have problems with css/whateve
[04:08:44] <Cork> then you can't use ajax
[04:08:57] <Paradisee> gosh
[04:09:04] <Paradisee> why is this so hard to understand
[04:09:09] <Cork> not sure
[04:09:20] <Cork> ajax is "i need to fetch more content for this page"
[04:09:36] <Cork> not "i need to load a different page and throw away everything that is here"
[04:09:38] <Paradisee> i need to simulate a redirect Cork, that's it
[04:09:57] <Cork> a redirect don't include headers though
[04:10:09] <Cork> when the client makes a new request from the server redirect i mean
[04:10:34] <Cork> if the server sends a http 307 and a location: https://www.example.com/test.html
[04:11:25] <Cork> the client will make a get requerst to https://www.example.com/test.html with an reference to what url the page was when the change was made
[04:11:27] <Cork> nothing else
[04:11:40] <Cork> no post, no patch no delete verb
[04:11:44] <Cork> no extra headers
[04:12:13] <Cork> the verbs can be done though a form, but not headers
[04:12:30] <Cork> headers is limited to ajax calls and those can only fetch data for the current page
[04:17:44] <Paradisee> https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4
[04:17:49] <Paradisee> On successful authentication, the client gets JWT token in the response body
[04:17:54] <Paradisee> Client stores that token in local storage or session storage.
[04:17:58] <Paradisee> From next time, the client for making any request supplies the JWT token in request headers like this. Authorization: Bearer <jwt_token>
[04:18:28] <Paradisee> my question is: how the hell can the client make requests with header like this
[04:20:49] <Cork> Paradisee: are you sure the page is actaully who should do this?
[04:21:01] <Paradisee> what you mean
[04:21:14] <Cork> the request could be made from the other server and the session be stored tehre
[04:21:16] <Cork> *there
[04:21:31] <Cork> so the browser requests the login gets a session cookie
[04:22:08] <Cork> then the session cookie is sent to the final url it makes a auth request to the auth server and there through verifies the session
[04:22:33] <Cork> (i'm not a java server developer so not sure this is how it works in java)
[04:22:45] <Cork> but i can tell you what http request can do
[04:23:04] <Paradisee> well, i'm a python developer, not a fan of java
[04:23:13] <Cork> ya, me neither
[04:23:41] <Cork> i wish java servers would just die, they are slow and over complicated web sessions (from my experience)
[04:24:03] <Cork> but that is from trying to automate processing them
[04:28:30] <Paradisee> btw i did not understand what you said about the sessions
[04:29:16] <Paradisee> [10:21:16] <Cork> the request could be made from the other server and the session be stored tehre
[04:29:20] <Paradisee> what does that mean?
[04:29:21] <Cork> Paradisee: cookies that are kept for the current browsing session is called a session cookie
[04:29:39] <Cork> it is normally a number the servers sets
[04:29:53] <Paradisee> i know how session works
[04:30:22] <Cork> as long as the browser sends the same session cookie it is talked about as the same session; that is what i meant
[04:32:19] <Cork> and if you meant explicitly the auth part, i maent when the none auth server and the browser has a session
[04:32:55] <Cork> the none auth server can store the tocken in the session and authenticate the session with the auth server to identify it
[04:33:13] <Cork> basically hiding the auth server from the browser
[04:33:44] <Paradisee> can't understand
[04:33:52] <Paradisee> too many variables i don't understand, i'm sorry
[04:34:04] <Cork> 1. browser connects to the none auth server
[04:34:33] <Cork> 2. the none auth server shows a login form
[04:34:42] <Paradisee> the None?
[04:35:18] <Paradisee> i have a server with the authentication form, and others with nothing
[04:35:22] <Cork> 3. the none auth server either redirects to the auth server or shows a login form
[04:36:10] <Cork> 4. the auth server generates a session cookie that is the tocken or the none auth forwards the information to the auth server and stores the tocken in its session
[04:36:33] <Cork> 5. the none auth server is authenticated cause the session id is the token or it has it stored in the session
[04:36:37] <Paradisee> http://foo.com/auth <-- this is where the authentication should happen! other servers just get redirected to that site to log in
[04:37:07] <Cork> ok, then that one needs to set a session id that the rest of the pages can use then
[04:38:09] <Cork> and if you want to know how to do that part you're in the wrong channel
[04:38:37] <Paradisee> i did not understand who is who in all the process Cork
[04:39:16] <Cork> Paradisee: you said you had an auth server that did the login
[04:39:27] <Cork> and then you had a page that the user should get to when this is done
[04:39:34] <Cork> those are the servers i talk about
[04:39:57] <Cork> baiscally you have two options either the login is done client side in js; as a single page
[04:40:09] <Cork> or the login is done server side, and the client is none the wiser
[04:40:25] <Cork> you can't make a middle ground
[04:40:49] <Cork> where the server is stateless but the client is replaced
[04:41:00] <Cork> it just doesn't work
[07:06:55] <Paradisee> Cork: i did not find a solution yet
[07:14:32] <discopatrick> if I locate an element in a html doc, and then want to work on everything nested in that element in an isolated way,  how can I do that in jquery?
[07:14:32] <discopatrick> So far what I've done is to take the `.html()` of an element and put that into a new jquery object, like `$(theHtml)` and work from there. Is there a more succinct way to do this?
[07:18:22] <discopatrick> I think I might be looking for `.detach()`
[07:18:25] <thykka> what exactly do you mean with 'isolated way'?
[07:18:38] <thykka> remove it from DOM, but keep a reference?
[07:19:27] <thykka> discopatrick
[07:19:41] <discopatrick> more like remove all it's parents, and make it the new root element
[07:20:14] <Cork> then you just have to append it where you want it and remove the old child
[07:20:26] <Cork> you can't make it the root, but you can make it the second to root
[07:20:34] <Cork> (body is always the root)
[07:20:36] <thykka> <html> is the root element
[07:20:47] <Cork> not in the dom
[07:20:56] <Cork> html doesn't even exist in the dom
[07:21:18] <Cork> it semi maps to document, but not really
[07:21:34] <thykka> > The html element represents the root of an HTML document. https://www.w3.org/TR/html5/semantics.html#the-html-element
[07:21:54] <Cork> ya, but that is in the html, not the dom
[07:22:16] <discopatrick> hmm. What about when you do something like `$("<p>hello</p>")` - then the p becomes the root, right?
[07:22:26] <Cork> it becomes a fragment
[07:22:51] <Cork> it is just an unattacked element
[07:23:53] <discopatrick> ok. so what I've been doing so far is to get an element's innerHTML (using `.html()`) and then putting that into a new "fragment"
[07:24:10] <discopatrick> I'm wondering if there's an API method that will do that for me?...
[07:24:21] <Cork> discopatrick: what is it you actually want to do?
[07:25:53] <discopatrick> so
[07:26:15] <discopatrick> I figured out how to get uppermost elements that match a selector:
[07:26:17] <discopatrick> http://jsfiddle.net/discopatrick/3egouLf8/8/
[07:27:15] <discopatrick> next, I want to be able to feed in each matched element, and run the same thing again - in a recursive way. However, in order for it to work, I need to be able to remove everything above the element I'm feeding in
[07:27:48] <Cork> discopatrick: that is how, not what
[07:28:03] <Cork> so again what are you actaully trying to do?
[07:29:43] <discopatrick> just trying to give you the background there, I thought it might help. But let me think about how to explain what it is I'm trying to do...
[07:31:46] <discopatrick> I want to find elements that match a selector, but don't have a parent with the same selector. I then, for each element I find, I want to do the same thing again... and so on. Does that help?
[07:32:49] <Cork> partially, the reason i ask why is more to try to find the best way to actually get the job done
[07:33:07] <Cork> that is actually still how, the why is "i want to find all myclass to do x with them"
[07:33:11] <discopatrick> sure, I get that. sometimes it's easier to suggest a solution when you have the bigger picture
[07:33:31] <Cork> well it might be more like your going around it in a way that makes the job harder
[07:33:39] <discopatrick> exactly
[07:33:53] <discopatrick> ok, here's another way to explain it:
[07:35:00] <discopatrick> I'm trying to create a js object from a block of html. Every time a `div.someclass` appears in the html, that becomes a sub-object.
[07:35:13] <Cork> ah
[07:37:26] <Cork> discopatrick: so you want the structure to be <ul class="topmost"><li class="myclass"></li><li class="myclass"></li><li class="myclass"></li> when you're done?
[07:37:32] <Cork> or what do you mean by the top one?
[07:39:28] <discopatrick> i think the jsfiddle might be a little misleading here as it's not representative of the html I'm going to parse, but I can knock together a better example, one moment...
[07:39:46] <Cork> discopatrick: it is prob good enough
[07:39:58] <discopatrick> ok
[07:40:00] <Cork> i'm just trying to figure out what you want the result to be
[07:40:11] <discopatrick> sure
[07:40:22] <discopatrick> so result would be something like:
[07:40:24] <Cork> or do you just want to like build a array/object structur of the html?
[07:40:29] <discopatrick> yes
[07:40:38] <Cork> ah, then you don't have to touch the dom structure at all
[07:40:39] <discopatrick> an object, something along the lines of:
[07:42:03] <discopatrick> like this. the name might be another attribute on the matched element - let's say it's id, for arguments sake https://www.irccloud.com/pastebin/MYW8hEPY/
[07:42:52] <Cork> so you want something like { "name": { "other name": { ...}}}?
[07:43:04] <Cork> for the sub project structure?
[07:43:21] <discopatrick> yes
[07:43:45] <discopatrick> only creating new subobjects when a `div.someclass` appears in the dom
[07:44:01] <Cork> and skip all the other?
[07:44:47] <discopatrick> yes, for the purposes of this example I think that would be ok (although in reality I will be parsing some of that too, to add as new key-value pairs)
[07:51:16] <discopatrick> Cork: I appreciate you taking the time to understand my problem :) I need to leave my office for a while, but if you do happen to come up with a suggestion then I will be checking in here on my return. Many thanks in any case.
[07:53:48] <Cork> discopatrick: so something like http://jsfiddle.net/5w7sjuy6/ ?
[07:58:11] <discopatrick> that looks pretty good Cork - will have a look through and try to understand what you've done there.
[08:59:22] <Ziberius> hello
[08:59:38] <Ziberius> I have a function that makes an Ajax call and has some login in it's done function
[08:59:52] <Ziberius> I need to execute another function when the first done function is finished
[09:00:33] <Cork> Ziberius: just add a second .done()
[09:00:38] <Cork> they are executed in order
[09:01:17] <Ziberius> I tried this https://jsfiddle.net/Ziberius/ukwqd5xb/1/
[09:01:21] <Ziberius> seems to work in the fiddle
[09:01:28] <Ziberius> but not when applying the same logic to my app
[09:02:01] <Ziberius> Yeah I would rather not touch the Ajax calls since we have those in a specific js file that other apps use
[09:02:03] <Cork> test2 doesn't return
[09:02:43] <Ziberius> Cork: sorry was testing something
[09:02:44] <Ziberius> https://jsfiddle.net/Ziberius/ukwqd5xb/3/
[09:03:06] <Cork> ya, but the point is, you have to check the same thing in your site
[09:03:19] <Ziberius> yeah it is returned
[09:03:20] <Cork> if it works in the fiddle there isn't much it can help with
[09:03:26] <Cork> you will have to find what differs
[09:03:56] <Ziberius> hmm ok but the fiddle looks good then it should always execute in order right
[09:03:58] <Ziberius> thanx dude
[10:19:47] <Ziberius> I'm flabbergasted
[10:19:49] <Ziberius> :-p
[12:27:48] <Ziberius> hello
[12:28:00] <Ziberius> I'd like to ask a question about a jquery line
[12:28:01] <Ziberius> $("#ctte_fecnac").val(venta.VEN_CTTE_FECNAC).attr("data-ctte-fecnac", venta.VEN_CTTE_FECNAC);
[12:28:06] <robertmaxrees> sup?
[12:28:13] <Ziberius> all good thanx and u?
[12:28:22] <robertmaxrees> lol - i mean what's the question?
[12:28:27] <robertmaxrees> also
[12:28:42] <robertmaxrees> *actually nah, what'cha got?
[12:28:45] <Ziberius> this line should set the value to the input and then the "data-ctte-fecnac" attribute to the input with the same value rith?
[12:29:02] <Ziberius> or could this fail in some way?
[12:29:08] <Ziberius> asumming the input data is correct of course
[12:29:16] <robertmaxrees> i mean
[12:29:25] <robertmaxrees> i can
[12:29:34] <robertmaxrees> *can't remember what .val() returns when you're using it as a setter
[12:29:49] <Ziberius> ah so maybe to be on the safe side I shoud separate it?
[12:29:58] <Ziberius> or check the docs on what it returns
[12:30:04] <Ziberius> ok just wanted an opionion
[12:30:07] <Ziberius> many thanks :-D
[12:30:19] <robertmaxrees> https://jsfiddle.net/mnrygvkx/
[12:30:22] <robertmaxrees> looks like you're safe.
[12:30:24] <robertmaxrees> so i dunno.
[12:30:34] <robertmaxrees> what's the issue you're seeing?
[12:32:53] <Ziberius> I run $("#ctte_fecnac").val() right after that line and sometimes it returns undefined
[12:32:55] <Ziberius> very strange
[12:33:06] <robertmaxrees> then that means that ID doesn't exist.
[12:34:41] <Ziberius> ah that is actually possible this page is very dynamic and I think the inputs are created dynamically
[12:34:54] <Ziberius> I should have thought of that
[12:34:56] <Ziberius> thanx
[13:41:03] <spinningCat> is there a way to catch ctrl + f5
[13:41:29] <robertmaxrees> whjy would you want to??
[14:07:23] <Ziberius> Hello again
[14:07:31] <Ziberius> I have this fiddle: https://jsfiddle.net/Ziberius/ukwqd5xb/20/
[14:08:03] <Ziberius> Is there a way to execute test4() after test1() and test2()?
[14:08:10] <Ziberius> Not sure how to do it
[14:08:37] <robertmaxrees> you mean when those ajax calls finish?
[14:09:03] <Ziberius> exactly, after the ajax calls and theri done() methods finish
[14:09:19] <Ziberius> test1() and test2() seem to be executing in order
[14:09:26] <Ziberius> but not sure how to fit test4() in
[14:09:27] <robertmaxrees> do you want to fire test4() after BOTH finish, or after either finish?
[14:09:53] <Ziberius> robertmaxrees: should be secuential: test1()->test2()->test4()
[14:10:02] <Ziberius> after both it is
[14:10:15] <robertmaxrees> err wait
[14:10:27] <robertmaxrees> test1 and test2 are both going to fire sequentially right now.
[14:10:31] <Ziberius> yes
[14:10:33] <Ziberius> that's perfect
[14:10:38] <robertmaxrees> so you can handle test4 like you are test3.
[14:10:46] <robertmaxrees> .then(test4)
[14:11:39] <Ziberius> yes but I need to execute test3() before this then chain
[14:11:45] <robertmaxrees> huh?
[14:12:02] <robertmaxrees> what order do you want all 4 to happen in?
[14:12:10] <Ziberius> is there anyway to delay the test4() in test3() done method so it executes after test(1) and test2()
[14:12:23] <Ziberius> first execute test3() independently
[14:12:53] <Ziberius> then secuentially test1()->test2()->test4()
[14:13:01] <robertmaxrees> erm
[14:13:07] <Ziberius> if it's not possible then test1()->test2()->test(3) is acceptable
[14:13:09] <robertmaxrees> what do you mean "independently, then sequentially"?
[14:13:15] <robertmaxrees> do you need to wait for test3 to finish?>
[14:15:13] <Ziberius> yes, test3() must finish and I want to postpone test4() til last in the cain
[14:15:24] <robertmaxrees> soooo
[14:15:40] <robertmaxrees> test3().then(test1).then(test2).then(test4); ?
[14:16:16] <Ziberius> the thing is in production test(4) uses data from test3()'s results
[14:16:21] <Ziberius> yes
[14:16:26] <robertmaxrees> lol
[14:16:33] <robertmaxrees> okay i need you to stop, back up, and start over.
[14:16:44] <Ziberius> xD
[14:16:50] <robertmaxrees> you're playing a game of "changing requirements" - if you'd like help, lay them all out.
[14:17:09] <robertmaxrees> because otherwise i'm playing guessing games.
[14:17:40] <Ziberius> hmm ok give me a minute to order my thoughts :)
[14:18:33] <robertmaxrees> also: rename those functions to "foo", "bar", "baz" , and "qux" instead of trying to use numbers in the name.
[14:19:46] <Ziberius> ok
[14:27:42] <Ziberius> ok this is the new fiddle: https://jsfiddle.net/Ziberius/ukwqd5xb/29/
[14:28:05] <robertmaxrees> so what order do things need to happen in?
[14:28:30] <Ziberius> I need to execute first tas() then foo() then bar() finally qux(res)
[14:28:49] <Ziberius> qux(res) is in the done method of tas(), that is my problem
[14:28:52] <robertmaxrees> but you need the data from baz to make it to tas?
[14:29:56] <robertmaxrees> er wait
[14:30:04] <Ziberius> I need the data from tas() to amke it to qux()
[14:30:40] <robertmaxrees> so why not return a new promise that you resolve with that data through the chain?
[14:31:23] <robertmaxrees> baz().then(foo).then(bar).then(qux.resolve()); (renamed "tas" to "baz" because that's a far more common metasyntactic var name ;) )
[14:38:00] <Ziberius> robertmaxrees: hmm i see, but testing that in the fiddle is not working
[14:38:05] <robertmaxrees> show me
[14:38:54] <Ziberius> https://jsfiddle.net/Ziberius/ukwqd5xb/32/
[14:39:21] <robertmaxrees> that isn't what i said.
[14:39:33] <robertmaxrees> also: https://stackoverflow.com/questions/28250680/how-do-i-access-previous-promise-results-in-a-then-chain
[14:39:34] <robertmaxrees> :)_
[14:40:17] <Ziberius> great will read it thanx :)
[14:40:24] <robertmaxrees> https://stackoverflow.com/a/28250704/923919
[14:40:31] <robertmaxrees> plus other various searches.
[14:41:08] <Ziberius> many thanks
[15:58:40] <foo> Should scrollReveal library work on font awesome or foundation fonts? Hmm
[15:59:31] <foo> ah, nevermind, it works if I have it on parent div
[16:20:40] <foo> If I have $('...').html(); - it looks like it gets "replaced abruptly" - is there a way to have it transition over ?
[16:20:49] <robertmaxrees> huh?
[16:21:01] <robertmaxrees> .html() just reads html...
[16:21:34] <robertmaxrees> rather, fetches the html.  do you mean that you're setting it using html?
[16:23:31] <robertmaxrees> foo ^
[16:27:32] <robertmaxrees> #welp
[16:33:58] <foo> Robdgreat: yup
[16:34:03] <foo> Robdgreat: thanks for using foo: - it helps :)
[16:34:56] <robertmaxrees> left and rejoined - wrong autocomplete?
[16:35:05] <robertmaxrees> foo
[16:35:36] <foo> 13:34 < foo> Robdgreat: yup
[16:35:36] <foo> 13:34 < foo> Robdgreat: thanks for using foo: - it helps :)
[16:35:48] <robertmaxrees> wrong autocompletE?
[16:35:54] <robertmaxrees> ie did you mean that for me?
[16:35:56] <foo> robertmaxrees: I'm using .html() to set, my mistake
[16:36:00] <foo> robertmaxrees: err, my bad - good eye, yes
[16:36:01] <robertmaxrees> ah
[16:36:13] <robertmaxrees> yeah, you can't "transition" with html.
[16:36:18] <robertmaxrees> what are you expectiong.
[16:36:20] <robertmaxrees> *?
[16:37:00] <Robdgreat> thanks
[16:37:05] <robertmaxrees> lol
[16:38:48] <foo> robertmaxrees: it helps if you preface with foo: please, thank you (I'm in 25 channels)
[16:38:52] <Robdgreat> 15:38 Ignoring JOINS PARTS QUITS NICKS HILIGHTS from #jquery
[16:38:54] <foo> robertmaxrees: if I could somehow transition that'd be cool but if not that's fine
[16:39:05] <Robdgreat> I don't know why I didn't do this years ago
[16:39:06] <robertmaxrees> lol
[16:39:19] <Robdgreat> well, the hilights part
[16:39:23] <robertmaxrees> Robdgreat yeah dunno why people keep making that mistake.
[16:39:23] <Robdgreat> I did do the rest years ago
[16:39:37] <robertmaxrees> foo :shrug: sorry, most people come back and check channels from time to time.
[16:39:38] <robertmaxrees> foo anyway
[16:39:53] <foo> robertmaxrees: all good, appreciate your thoughts :) I didn't think this was possible but figured I'd ask
[16:40:22] <robertmaxrees> foo so you can't transition using .html() - once you call it, you're replacing the actual markup.  the browser doesn't hold onto what was there.
[16:40:47] <robertmaxrees> foo you could append the new element and then find some way to transition between them and then remove the old one.
[16:41:46] <foo> robertmaxrees: hmm, maybe I'll go with the abrupt nature. :) I appreciate you affirming my understanding!
[16:41:56] <robertmaxrees> 'kay
[16:44:34] <foo> robertmaxrees: here's a simple question. :) I'm using scrollReveal... eg. window.sr = ScrollReveal(); - to animate stuff. I have something like this: sr.reveal('#bookmarks', { duration: 2500, distance: '3px', delay: 2000, origin: 'bottom' }); - inside #bookmarks is buttons. If I want to apply this to each button individually and stagger them, so they load in a row, it's probably best to iterate and apply this
[16:44:40] <foo> - right?
[16:45:07] <robertmaxrees> foo i'd need to see more code.
[16:45:11] <robertmaxrees> foo a fiddle would be best.
[16:46:03] <robertmaxrees> foo you want to be careful with anything that hooks to the window scroll event because it can get very inefficient very fast.  perf issues are an actual concern in that case.
[16:46:51] <foo> robertmaxrees: and we're talking about more than 10+ bookmarks? Or is this an issue even with < 10 bookmarks? (where "bookmark" is an html button element)
[16:47:10] <robertmaxrees> foo without seeing more, it's hard to know.
[16:47:27] <robertmaxrees> foo sounds like it's not even jquery that you're asking about at that point
[16:48:37] <foo> robertmaxrees: nah, it's a javascript library I suppose... hmm. Maybe I'll just keep it simple, but will get you fiddle out of curiosity
[16:49:01] <robertmaxrees> i would ask the author and/or do perf testing on your own.
[16:49:10] <robertmaxrees> foo
[16:49:32] <foo> robertmaxrees: but I'm asking you!
[16:49:33] <foo> :P
[16:49:44] <robertmaxrees> foo doesn't change the subject of the channel ;)
[16:50:15] <foo> robertmaxrees: Clearly you don't know how popular I am and the influence I have over the world.
[16:50:18] <foo> :P
[16:51:36] <foo> robertmaxrees: eg. I want to stagger this: https://jsfiddle.net/tzv9yf4e/
[16:51:44] <robertmaxrees> foo dunno duider
[16:51:46] <robertmaxrees> *duder
[16:51:47] <robertmaxrees> not jquery
[16:51:49] <robertmaxrees> :shrug:
[16:52:05] <foo> robertmaxrees: oh, I see what you're saying, this is more general javascript. Apologies.
[18:14:34] <taplar> whomp whomp whomp
[18:14:44] <robertmaxrees> heeeey this guy
[22:01:34] <Guest72> Hi, first time doing anything web related. Sometimes my jquery-ui spinners render at half height, but only sometimes. For some reason, jquery is adding inline style to the HTML. I've come up with a hack to fix it, but this is not ideal. Any help would be appreciated. https://imgur.com/a/fvRqxWn https://i.imgur.com/dUjKE7w.png https://i.imgur.com/hdqEd11.jpg
[22:19:03] <Woet> Guest72: why are you sharing code through screenshots?
[22:19:23] <Woet> Guest72: www.jsfiddle.net
[22:19:30] <Guest72> My bad
[22:23:19] <Guest72> @Woet, https://jsfiddle.net/jm4d9a8o/
[22:24:18] <Woet> Guest72: ok, now just load the required libraries so we have a working test case.
[22:26:49] <Guest72> @Woet, Has it updated?
[22:27:02] <Woet> Guest72: you gotta click save at the left top and share it here
[22:27:03] <Guest72> Or do I need to fork it again
[22:28:23] <Guest72> @Woet, I don't see any save button, do I need to be logged in?
[22:30:59] <Guest72> Oh, I think I needed to add a title, @Woet https://jsfiddle.net/jq1hk0tf/
[22:31:41] <Robdgreat> Guest72: it's IRC, clients notify people without putting any @ in front of their name
[22:31:58] <Guest72> I understand, it's a habit from Twitter and Discord
[22:32:13] <Robdgreat> just letting you know :)
[22:32:46] <Guest72> This code is running in a NodeCG panel if that makes any difference
