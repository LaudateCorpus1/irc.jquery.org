[00:00:05] <primitivMedia> below
[00:00:09] <primitivMedia> so put it before
[00:00:21] <primitivMedia> https://jsfiddle.net/4dxb0m36/3/
[00:00:44] <robertmaxrees> boom.  now replace dataContainer with $('#showEmails')
[00:00:49] <robertmaxrees> this will come in handy later.
[00:01:03] <primitivMedia> kk done
[00:01:21] <robertmaxrees> so for showEmails - you want to turn that array into a bunch of <li>s, right?
[00:01:42] <primitivMedia> yes
[00:01:56] <robertmaxrees> there are 1000 different ways to accomplish that.
[00:02:04] <primitivMedia> easiest way?
[00:02:12] <robertmaxrees> i'm going to assume you're relatively new to JS, so I'll give you the arguably "best" way
[00:02:16] <primitivMedia> havent created functions myself ince college
[00:02:21] <primitivMedia> since**
[00:02:26] <primitivMedia> was never strong at it
[00:02:38] <primitivMedia> i usually stick to easy jquery stuff
[00:02:39] <robertmaxrees> a function is just an isolated piece of named logic.
[00:02:57] <robertmaxrees> and even when using jquery you should be (and often are!) writing functions.
[00:03:24] <robertmaxrees> anyway - easybutton way for this is to first transform the data array into an array of <li>s
[00:04:07] <primitivMedia> okay
[00:04:44] <robertmaxrees> js has a built-in array method called .map()
[00:05:19] <robertmaxrees> i'll give you a freebie example using it.
[00:06:17] <robertmaxrees> https://jsfiddle.net/robertmaxrees/r63n19mk/3/
[00:07:19] <primitivMedia> currentEntry
[00:07:19] <robertmaxrees> basically, that's saying "take this array and give me a new one - do this function for each object in the array"
[00:07:21] <primitivMedia> is confusing me
[00:07:28] <robertmaxrees> you can name that literally anything.
[00:07:35] <robertmaxrees> that's just "the current object we're working with"
[00:07:38] <primitivMedia> oh nvm isee
[00:07:54] <primitivMedia> okay and yes thank you sir this is what i id not understand as to what i needed to put inside
[00:08:24] <robertmaxrees> so the .map() is transforming it into ['<span>1</span>', '<span>2</span>', '<span>3</span>', ...]
[00:08:55] <robertmaxrees> the .join('') is creating a single string out of the array and using whatever we're passing to it as a separator.  in this case, an empty string.
[00:09:15] <robertmaxrees> so then we get '<span>1</span><span>2</span><span>3</span>' etc
[00:09:18] <robertmaxrees> make sense?
[00:09:30] <robertmaxrees> now - that fiddle is broken.
[00:09:45] <primitivMedia> .map is looping through each one of them
[00:09:50] <primitivMedia> and doing the function
[00:09:50] <robertmaxrees> sort of.
[00:10:06] <robertmaxrees> you care less about the "looping" and more about the "doing a function on every object in the array"
[00:10:14] <robertmaxrees> how it accomplishes that is unimportant.
[00:10:30] <primitivMedia> you've helped me this far, so you might as well help me piece itall together if you're up for it, this next part is much easier more opinino based answers
[00:10:37] <robertmaxrees> err
[00:10:40] <robertmaxrees> we're not done with this part./
[00:10:41] <robertmaxrees> :)
[00:10:42] <primitivMedia> i know what i need to do
[00:10:46] <primitivMedia> we're not?!
[00:10:46] <robertmaxrees> you can't put spans in a ul.
[00:10:51] <primitivMedia> true
[00:10:54] <robertmaxrees> so fix that up.
[00:10:57] <primitivMedia> i wont keep ul li i might change it
[00:10:57] <robertmaxrees> then show me what you've got.
[00:11:14] <robertmaxrees> fix the fiddle anyway ;)
[00:11:27] <primitivMedia> each email needs to be selectable to then be submited via the form
[00:11:39] <primitivMedia> i originally had a select with a bunch of options with a multiselect
[00:11:43] <primitivMedia> which worked fine
[00:11:51] <primitivMedia> but i needed paginatino which is why i did all of this
[00:12:00] <primitivMedia> so now ineed to re attach this data to the form sort of speak
[00:12:13] <robertmaxrees> not following.
[00:12:24] <primitivMedia> https://jsfiddle.net/r84av17k/
[00:12:39] <robertmaxrees> right?
[00:12:48] <robertmaxrees> formatNavigator: '<span style="color: #f00"><%= currentPage %></span> st/rd/th, <%= totalPage %> pages, <%= totalNumber %> entries', fix this btw.
[00:13:00] <robertmaxrees> ah nvm.
[00:13:03] <robertmaxrees> ignore me./
[00:13:06] <robertmaxrees> misread it.
[00:13:16] <primitivMedia> https://jsfiddle.net/r84av17k/1/
[00:13:19] <primitivMedia> i didnt want it anyway
[00:13:35] <robertmaxrees> okay so what's the next issue?
[00:13:36] <primitivMedia> okay so can i use this pagination
[00:13:43] <primitivMedia> to display different results within a select
[00:14:10] <robertmaxrees> erm.
[00:14:15] <robertmaxrees> i wouldn't put these in a select.
[00:14:29] <robertmaxrees> and really, this is a bad use for pagination.
[00:16:00] <robertmaxrees> how many emails are we talking here?
[00:16:15] <primitivMedia> well the reason i did this is one guy has 50k emails
[00:16:16] <primitivMedia> lol
[00:16:26] <primitivMedia> 50k users with different emails
[00:16:34] <robertmaxrees> so think about this for a sec.
[00:16:49] <robertmaxrees> you want somebody to manually paginate through 50k emails to pick a few of them out?
[00:17:02] <primitivMedia> there is a search option
[00:17:08] <robertmaxrees> lol
[00:17:18] <primitivMedia> them navigating through it isnt my problems
[00:17:23] <primitivMedia> there isnt another way to see 50k emails
[00:17:23] <robertmaxrees> i would've just used select2 or something similar.
[00:17:28] <primitivMedia> without seeing them 1 by 1
[00:17:32] <primitivMedia> theres no shortcut
[00:17:42] <primitivMedia> so they will have to find the email they need accordingly or each one
[00:17:45] <robertmaxrees> becuase pagination is a bad idea for this because it now requires a whole bunch of extra logic.
[00:17:53] <primitivMedia> select2?
[00:18:13] <primitivMedia> never heard of it
[00:18:15] <robertmaxrees> https://select2.org/getting-started/basic-usage
[00:18:20] <robertmaxrees> filterable selectbox.
[00:18:31] <robertmaxrees> https://select2.org/getting-started/basic-usage#multi-select-boxes-pillbox
[00:18:34] <primitivMedia> that ill show 50k all at once no?
[00:18:41] <robertmaxrees> slow down :)
[00:19:07] <robertmaxrees> https://select2.org/data-sources/ajax
[00:19:22] <robertmaxrees> check out the example on that page.
[00:19:55] <robertmaxrees> instead of making people manually paginate.  if you need to give them a place to paginate through that data, do it somewhere else.  not in the form.
[00:20:55] <primitivMedia> infinite pagination?
[00:21:02] <robertmaxrees> huh?
[00:21:13] <primitivMedia> Select2 supports pagination ("infinite scrolling") for remote data sources out of the box.
[00:21:22] <robertmaxrees> link
[00:21:37] <primitivMedia> https://select2.org/data-sources/ajax
[00:21:38] <primitivMedia> same u gave
[00:21:53] <robertmaxrees> then there you go.
[00:22:04] <robertmaxrees> you'll need to implement pagination server-side, but that's not a big deal.
[00:22:17] <primitivMedia> okay so i should look into this instead of the pagination i just got working?
[00:22:43] <robertmaxrees> the issue with what you have now is that to get it working with a form the way you want is going to be a bit of a pain.
[00:22:53] <robertmaxrees> since you'll have to manually wire a bunch of stuff up.
[00:26:15] <primitivMedia> it actually works well using a select and options
[00:26:21] <primitivMedia> it filters through the results nicely
[00:26:41] <robertmaxrees> hrm?
[00:26:41] <primitivMedia> ahh
[00:26:47] <primitivMedia> but it doesnt work when trying to select multiple
[00:26:52] <primitivMedia> I'll need to use select2
[00:26:52] <robertmaxrees> right.
[00:27:01] <robertmaxrees> select2 makes MUCH more sense for this.
[00:27:11] <robertmaxrees> and seriously - implement the paginated view somewhere elser.
[00:27:13] <robertmaxrees> *else
[00:27:17] <robertmaxrees> instead of cramming it into the form.
[00:27:26] <robertmaxrees> it'll simplify a lot of stuff.
[00:27:37] <primitivMedia> perfect, tomorrow i shall focus on this
[00:27:43] <primitivMedia> anything else you recommend at this point?
[00:28:11] <robertmaxrees> just what i said about separating the full dataset and the form.  and look into paginating this data server-side as well.
[00:28:24] <robertmaxrees> otherwise you're gonna send 50k emails over the wire, which is a decent amount of data ;)
[00:30:30] <primitivMedia> wonderful, thank you so much for all the help once again mate :)
[00:30:34] <primitivMedia> srry for getting irritated earlier
[00:30:58] <robertmaxrees> just remember - there are people on the other end of the keyboard.  even the mods ;)
[00:35:55] <primitivMedia> have you ued select2 with remote data?
[00:38:39] <robertmaxrees> it's been a while.
[00:38:41] <robertmaxrees> not hard to do.
[00:38:44] <robertmaxrees> so long as you paginate.
[00:38:50] <robertmaxrees> if that's what you want.
[00:39:07] <primitivMedia> https://pastebin.com/XGim6udr
[00:39:13] <primitivMedia> no results found
[00:40:05] <robertmaxrees> https://select2.org/data-sources/ajax#request-parameters
[00:40:10] <robertmaxrees> you need to implement a basic search.
[00:40:46] <primitivMedia> i ried request params but it didnt work
[00:41:03] <robertmaxrees> did you implement the search logic on your server?
[00:41:36] <primitivMedia> how do i do that?
[00:41:55] <robertmaxrees> https://i.imgur.com/ILPbiBI.png
[00:42:57] <primitivMedia> so i need to format my data for it to display?
[00:43:01] <primitivMedia> https://select2.org/data-sources/arrays
[00:44:01] <robertmaxrees> and also filter it.
[00:45:17] <robertmaxrees> select2 isn't just a "oh drop in the js and you're done" kind of thing.
[00:48:08] <primitivMedia> okay i will work on it tomorrow :)
[00:48:18] <primitivMedia> I need to get some sleep lol
[00:48:25] <primitivMedia> have a good night mate, cheers!
[11:49:40] <harmaahylje> Hello, I have a question about
[11:49:43] <harmaahylje> jQuery.getJSON()
[11:50:13] <harmaahylje> Will it silently not give a damn if it is an object and not JSON that it is getting?
[11:56:41] <shoky_> harmaahylje: what do you mean by an object? you don't transfer objects in an ajax request, only representations of them, e.g. in JSON format
[11:56:58] <shoky_> harmaahylje: in any case, getJSON will complain if the response is not valid json.
[12:18:31] <harmaahylje> shoky_: This one API seems to be delivering a JS object, even though it claims application/json
[12:18:50] <harmaahylje> I checked their frontend, and they user jQuery.getJSON() themselves on the same endpoint
[12:23:05] <shoky_> harmaahylje: what makes you say it's not json
[12:24:06] <harmaahylje> shoky_: JSON.parse() fails to parse it, and it doesn't look to be JSON
[12:24:19] <robertmaxrees> console.log(typeof thedata);
[12:24:39] <shoky_> harmaahylje: getJSON already does the parsing for you, into an object
[12:24:49] <shoky_> harmaahylje: you're good ;)
[12:25:03] <harmaahylje> robertmaxrees: object
[12:25:15] <robertmaxrees> then you don't need to parse.
[12:25:18] <harmaahylje> shoky_: I'm not using it myself
[12:25:31] <harmaahylje> I am not using jQuery, but this site does
[12:25:45] <shoky_> you're using something that gives you an object, anyways
[12:25:54] <shoky_> so it's already parsed
[12:26:04] <shoky_> there's no such thing as "delivering a JS object"
[12:26:18] <shoky_> unless you mean, transferring a computer physically, :D
[12:26:38] <robertmaxrees> lol
[12:26:38] <harmaahylje> as a string
[12:26:49] <shoky_> if it's a string then it's not a js object
[12:26:56] <harmaahylje> sure
[12:27:01] <robertmaxrees> but your typeof says it's an object.
[12:27:05] <robertmaxrees> so you're g2g.
[12:27:25] <harmaahylje> Yes I am
[12:27:46] <harmaahylje> The problem was that I assumed it would be json, so I tried parsing it
[12:28:05] <harmaahylje> Anyways, thanks for your input
[12:28:23] <makr8100> just a note on this - JQuery AJAX callbacks convert JSON to objects by default, in case that's what you're running into
[12:28:52] <robertmaxrees> it's that they were using $.getJSON and were confused about how it works
[12:29:03] <shoky_> said they're not using jquery ;p
[12:29:24] <makr8100> right, but the site is, idk what came from where lol
[12:30:02] <shoky_> fair enough ;p
[12:31:11] <makr8100> P:
[12:41:22] <primitivMedia> having issues formatting my array data properly for my select2
[12:41:54] <primitivMedia> keeps telling me no results - works fine without the ajax request but when i add the ajax request it stops working
[12:42:29] <robertmaxrees> try joining #select2
[12:43:06] <primitivMedia> https://pastebin.com/sgG21s1U this is my php\
[12:43:14] <robertmaxrees> lol
[12:43:22] <robertmaxrees> there's an entire channel that might be able to help.
[12:44:07] <primitivMedia> whic hreturn ["email", "email2|"]
[12:44:13] <primitivMedia> whic hreturn ["email", "email2"] **\
[12:44:19] <primitivMedia> https://pastebin.com/3vVLMDAR\
[12:44:28] <primitivMedia> heres my select coding which i suspect is the culprit
[12:44:35] <robertmaxrees> one more time... try joining #select2 and see if they can't help.
[12:45:02] <shoky_> primitivMedia: try content-type header of application/json
[12:46:46] <primitivMedia> where would i put this?
[12:47:33] <primitivMedia> ahhh
[12:47:33] <shoky_> primitivMedia: well i see you have dataType: 'json'  so maybe it's not needed. you'd put it in the php i donno where
[12:48:00] <shoky_> primitivMedia: also,  you're doing params.term  and params.page  which i think is wrong
[12:48:05] <shoky_> primitivMedia: where did you get that
[12:48:18] <primitivMedia> from the documentation first time using select2
[12:48:21] <shoky_> primitivMedia: i think the argument to the callback is just a string
[12:48:30] <primitivMedia> thats what i believe my issues is\the php data should be fine\its encoded to be json
[12:49:14] <shoky_> primitivMedia: i'm looking at the docs now.. data(term, page)    term	: string	Search term.   page: int	1-based page number tracked by Select2
[12:49:23] <shoky_> there is no "params"
[12:49:57] <primitivMedia> https://select2.org/data-sources/ajax
[12:50:02] <primitivMedia> this is what i found
[12:53:24] <shoky_> primitivMedia: your php doesnt seem to care about any search term.. you don't even need to use the 'data' option.  i was looking at these docs  btw  https://select2.github.io/select2/#doc-query
[12:53:40] <primitivMedia> yes it was working fine without the ajax request
[12:53:44] <primitivMedia> just using dummy data
[12:53:52] <primitivMedia> the ajax is what confuses me
[12:54:28] <shoky_> primitivMedia: i'm talking about the 'data' option, not the ajax option
[12:55:18] <shoky_> primitivMedia: and your php needs to output the right format:  https://select2.org/data-sources/formats
[12:55:32] <primitivMedia> i know they have a method to format the results
[12:55:36] <shoky_> "Select2 expects a very specific data format"
[12:55:38] <primitivMedia> which is what i was trying to do but am having issues with
[12:56:11] <shoky_> you need your php to output that format
[12:56:41] <primitivMedia> mate there is a method for ajax to change the results thats what im trying to do\
[12:56:47] <primitivMedia> do you not see that in the ajax documentation?
[12:56:52] <shoky_> or probably they have a callback to format the server results
[12:57:00] <shoky_> but that's not the 'data' method
[12:57:11] <shoky_> data mehtod is for changing the query itself
[12:57:38] <shoky_> https://select2.org/data-sources/ajax#transforming-response-data
[12:58:09] <shoky_> so if you want to keep your php as is,
[12:58:12] <shoky_> you'd need:
[12:59:47] <shoky_> processResults: function(data) { return { results: data.map((text, id) => ({id, text}))  }; }
[12:59:52] <shoky_> i suppose.
[13:00:04] <primitivMedia> i do not have ids in my result
[13:00:09] <primitivMedia> simply the emails sperated by comma
[13:00:17] <primitivMedia> should i add id'
[13:00:17] <shoky_> it's not an id, it's just the index in the array
[13:00:21] <primitivMedia> ohhh
[13:00:21] <shoky_> .map gives you as 2nd param
[13:00:35] <shoky_> and i'm using that as an id
[13:03:09] <primitivMedia> YESSS
[13:03:11] <primitivMedia> THAT DID IT
[13:03:12] <primitivMedia> my maaan
[13:03:55] <shoky_> 👍
[13:05:23] <primitivMedia> thank you so so much
[13:05:38] <shoky_> yw
[14:04:24] <snatcher> why "$(event.currentTarget).parent()" doesn't return parent element of currentTarget?
[14:04:37] <robertmaxrees> huh?
[14:04:49] <snatcher> it returns currentTarget
[14:04:54] <robertmaxrees> fiddle?
[14:08:54] <snatcher> nevermind, typo
[14:09:40] <robertmaxrees> :)
[14:17:01] <taplar> fun times
[14:17:59] <robertmaxrees> hey buddy :)
[14:18:09] <taplar> evening
[14:19:13] <robertmaxrees> how you been?
[14:20:09] <taplar> super busy. heh.  lots going on at work
[14:26:16] <snatcher> .children() selector doesn't allow combinators?
[14:26:27] <robertmaxrees> it does, but it only goes one level deep.
[14:26:36] <robertmaxrees> you probably want .find()
[14:27:13] <snatcher> https://jsfiddle.net/yvznp2ru/ then why 0 length?
[14:28:28] <robertmaxrees> pretty sure you can't nest h tags like that.
[14:28:41] <snatcher> jsut example
[14:28:50] <robertmaxrees> invalid html will do things you don't expect
[14:29:04] <robertmaxrees> and that's exactly the case i was talking about.
[14:29:18] <robertmaxrees> h3 isn't a direct child of h1, so you can't select it.
[14:29:23] <robertmaxrees> you want .find()
[14:29:52] <robertmaxrees> https://jsfiddle.net/robertmaxrees/7pjao3cd/
[14:31:44] <primitivMedia> so now i'm having issues with the pagination of the results
[14:33:50] <primitivMedia> not sure what to do to set it up
[14:45:36] <nug700> Why is it behaving like this: https://www.dropbox.com/s/45euytg8mdzxlit/html_glitch.png?dl=0
[14:45:57] <nug700> I'll show the code. sec
[14:45:57] <robertmaxrees> fiddle my dude :)
[14:47:11] <nug700> https://pastebin.com/fyrny3H7
[14:47:36] <nug700> Way to complicated and to much code to do a working js fiddle.
[14:47:38] <robertmaxrees> make a fiddle
[14:47:41] <robertmaxrees> pls :)
[14:48:34] <robertmaxrees> just need  var result = $("<p id='" + $(e_parent).prop('id') + '_' + e_id + "'></p>").appendTo(e_parent); - what's e_parent?
[14:49:04] <nug700> e_parent is the td
[14:49:40] <nug700> probably shouldn't have cropped that out of the image
[14:50:23] <robertmaxrees> can you at least share the code of that TD then?
[14:50:43] <robertmaxrees> without more info it's really difficult to help.
[14:51:24] <nug700> sure
[14:51:31] <nug700> sec
[14:51:48] <robertmaxrees> brb
[14:52:40] <nug700> var content_td = $("<td " + elem_td_width_str + "></td>").appendTo(tr);
[14:53:06] <taplar> what is `elem_td_width_str`?
[14:54:19] <nug700> This is complicated: var elem_td_width_str = elem.hasOwnProperty('CellWidth') ? "width='" + elem.CellWidth + "'" : '';
[14:54:39] <taplar> ok, so, I don't see an id attribute
[14:55:11] <robertmaxrees> back
[14:55:31] <nug700> The id's aren't really used anymore. More part of how it use to work before I found the appendTo functions
[14:55:45] <taplar> ok, so stop for a second
[14:55:55] <taplar> you're saying you're creating tds without ids?
[14:56:04] <taplar> and later your doing $(aTd).prop('id') ?
[14:56:07] <taplar> see a problem?
[14:56:49] <primitivMedia> https://pastebin.com/kfknGYZ0
[14:57:05] <primitivMedia> this is my code im not sure if i need to tweak my results that php is fetching
[14:57:20] <primitivMedia> if so what would i need to add to the results in order to enable the pagination "infinite" scrolling
[14:57:29] <nug700> I know. It's on a todo list of what to fix to get the id's right. But I don't use them for anything,
[14:57:44] <nug700> Like, I might just remove the id's.
[14:58:06] <taplar> what do you mean remove them?  you're not making them.
[14:58:38] <nug700> I don't think the presence of IDs is causing the html to be treated as text.
[14:58:44] <nug700> or lack of
[15:01:05] <nug700> I've know for a while that "$(e_parent).prop('id')" resolves to an empty string.
[15:03:11] <primitivMedia> i think pagination.more is the issue
[15:06:47] <nug700> what do you mean?
[15:06:54] <robertmaxrees> nug700 he's not talking about your issue
[15:07:31] <nug700> anyway, I added the id to the parent td.
[15:08:21] <primitivMedia> oh yes sorry for the confusion
[15:12:18] <kevindank> Hello on the following link, select a category on the left should filter the list of stores based off category, for some reason its not working i only see 1 error in console....http://gc3.iamthewebman.com/directory/
[15:13:46] <robertmaxrees> kevindank i'm not seeing any errors or anything else.
[15:27:47] <robertmaxrees> welp
[16:51:27] <snatcher> https://jsfiddle.net/tpr6w2kj/ is there a way to remove "this.button.click(this.onClick.bind(this));" from all other buttons while onClick on any button firing?
[16:53:20] <robertmaxrees> huh?
[16:53:46] <robertmaxrees> "while onClick on any button firing?"??
[16:54:04] <robertmaxrees> also: this code is weird.
[16:54:16] <robertmaxrees> this.button = $("button"); is selecting all buttons on the page.
[16:54:23] <snatcher> yes
[16:54:39] <robertmaxrees> so what are you trying to accomplish here?
[16:54:59] <snatcher> how can i remove bound "this.onClick.bind(this)" handler from all of them?
[16:55:36] <robertmaxrees> https://lmgtfy.com/?q=jquery+remove+event+handler
[16:55:52] <robertmaxrees> but also: don't add/remove handlers./
[16:56:06] <robertmaxrees> but also: don't add/remove handlers - change your handlers to conditionally continue internally.
[16:56:11] <robertmaxrees> it'll save you a ton of headaches.
[16:57:19] <snatcher> i know how to remove handlers, question is how to remove that object-specific "this.onClick.bind(this)" handler in such a case?
[16:58:18] <snatcher> i cannot .unbind("click", this.onClick.bind(this))
[17:01:36] <snatcher> https://stackoverflow.com/questions/46563691/remove-an-eventhandler-in-the-handler-itself
[17:21:13] <snatcher> https://jsfiddle.net/bx3zu9nm/ figured out, is there a better way?
[17:30:06] <snatcher> https://jsfiddle.net/rkw3t654/ not sure if valid
[19:41:34] <primitivMedia> my select2 isn't passing data on submit
[19:41:39] <primitivMedia> any ideas why?
[19:41:51] * robertmaxrees stares into crystal ball
[19:41:54] <robertmaxrees> hrm
[19:42:44] <primitivMedia> I'm calling it like i normally would
[19:42:57] <primitivMedia> but i think its not adding the data the way i think it is
[19:43:16] <robertmaxrees> how would i know what you mean by "normally"?
[19:43:24] <primitivMedia> so i have a select
[19:43:25] <primitivMedia> with a name
[19:43:33] <robertmaxrees> (show the code homeslice)
[19:43:33] <primitivMedia> on submit i chekc is isset $_POST etc
[19:44:28] <primitivMedia> https://pastebin.com/x2L8MFtc
[19:44:33] <primitivMedia> tbhis is my php and jquery
[19:44:42] <robertmaxrees> i don't want or need the php.
[19:44:44] <robertmaxrees> just the frontend.
[19:44:51] <robertmaxrees> the html and js
[19:47:12] <primitivMedia> https://jsfiddle.net/a6tx39sf/1/
[19:51:00] <robertmaxrees> whjat's with the square brackets in the name?
[19:51:04] <robertmaxrees> why not just name="receiver"
[19:56:06] <primitivMedia> because it needs to hold more than one value
[19:56:10] <primitivMedia> which is why its an array
[19:56:17] <robertmaxrees> that's not how that works.
[19:56:31] <robertmaxrees> remove the square brackets and see if that fixes it.
[19:58:19] <primitivMedia> nope\
[19:58:22] <primitivMedia> no difference
[19:58:32] <robertmaxrees> you try dumping the entirety of the post body server side?
[19:59:39] <primitivMedia> what do you nean
[19:59:49] <primitivMedia> instead of emails
[19:59:54] <primitivMedia> its sending 0 and 1
[20:00:08] <primitivMedia> 0 being the first record 1 being the second
[20:00:16] <primitivMedia> so i think my data isnt correct for select2
[20:00:26] <primitivMedia> return { results: data.map((id,text ) => ({id, text}))
[20:00:30] <robertmaxrees> for each email it's sending 0 and 1?
[20:00:34] <primitivMedia> is this the issue maybe?
[20:00:37] <robertmaxrees> shoiw me the actual post body?
[20:00:43] <primitivMedia> so insteado the first email it returns 0
[20:00:46] <primitivMedia> the second email is 1
[20:00:49] <robertmaxrees> shoe the data yo
[20:01:01] <robertmaxrees> *show
[20:01:07] <primitivMedia> what do you want me to send **
[20:01:16] <robertmaxrees> the post body.
[20:01:30] <robertmaxrees> at least the part with the emails.
[20:01:49] <primitivMedia> i can echo receiver
[20:01:52] <primitivMedia> and output it
[20:01:54] <shoky_> primitivMedia: it's probably sending the id property of your items, which my code sets to the index in the array
[20:02:06] <robertmaxrees> :shrug: listen to shoky_ :)
[20:02:21] <primitivMedia> thats what i was thinkig as well yes
[20:02:47] <shoky_> primitivMedia: if you want the id to be the text itself:  return { results: data.map((text) => ({id: text, text})) }
[20:03:01] <primitivMedia> can i leave id out?
[20:03:07] <shoky_> (then set the id to be the text :p)
[20:03:26] <shoky_> primitivMedia: "Select2 expects a very specific data format"  i donno
[20:03:38] <shoky_> i wouldn't leave it out
[20:04:34] <primitivMedia> return { results: data.map((text) => ({id: text, text})) } doesnt output anything now
[20:05:15] <robertmaxrees> fix the method signature
[20:05:24] <robertmaxrees> needs to be (id, text) => still.
[20:05:35] <robertmaxrees> function arguments are based on position, not name.
[20:06:11] <shoky_> not (id, text)
[20:06:17] <shoky_> text is the first argument
[20:06:23] <shoky_> 2nd argument isn't needed
[20:06:23] <robertmaxrees> or w/e haha
[20:06:32] <robertmaxrees> the original code had return { results: data.map((id,text ) => ({id, text}))
[20:06:49] <shoky_> not the code i gave him :S
[20:06:54] <robertmaxrees> hah
[20:07:04] <primitivMedia>                         return { results: data.map((id,text) => ({id: text, text})) }
[20:07:07] <primitivMedia> doesnt work either
[20:07:13] <primitivMedia> same thing returns 0 and 1
[20:09:07] <primitivMedia> did i write it correctly?
[20:09:22] <shoky_> primitivMedia: should be what i wrote: return { results: data.map((text) => ({id: text, text})) }
[20:09:42] <shoky_> primitivMedia: donno why that doesn't work. need to see the full code. and console.log(data) before that line
[20:11:02] <primitivMedia> console.log doesnt show anything
[20:11:21] <shoky_> in the browser console, yes?
[20:11:35] <primitivMedia> correct
[20:11:52] <shoky_> it has to show _something_
[20:11:57] <shoky_> even `undefined` or whatever...
[20:12:07] <primitivMedia> https://pastebin.com/D5c2TyBm
[20:12:10] <primitivMedia> here is what i put
[20:13:10] <shoky_> primitivMedia: uhm you have an extra }  or something, no?
[20:13:24] <shoky_> line 9
[20:13:29] <shoky_> what is that closing..
[20:14:10] <primitivMedia> fixed that but still nothing in the log
[20:14:39] <shoky_> if you console.log('foo')  you don't see foo?
[20:14:56] <shoky_> that would mean it's not running that callback..
[20:15:34] <robertmaxrees> are you getting any errors or anything?
[20:16:20] <primitivMedia> okay no it shows something
[20:16:23] <primitivMedia> oh i got an email!
[20:17:46] <primitivMedia> it seems to be working now :)
[20:22:22] <primitivMedia> robert have you used their pagination before?
[20:23:00] <shoky_> (not a useful question)
[20:23:05] <robertmaxrees> ^
[20:23:26] <robertmaxrees> and pinging specific people like that for questions like that is kidna annoying.
[20:25:09] <primitivMedia> okay, is there a method to easily select all results instead of having to click one by one?
[20:25:22] <primitivMedia> sorry for pinging you btw..didn't mean anything by it
[20:25:31] <robertmaxrees> i wouldn't do that.
[20:25:54] <robertmaxrees> just add a checkbox in the form for "add all" and then handle that server-side.
[20:25:59] <robertmaxrees> instead of shipping the entire list of emails.
[20:26:08] <primitivMedia> okay, that's what I was going to do. Good.
[20:26:18] <primitivMedia> My last step with select2 is getting the infinite scrolling to work
[20:26:36] <primitivMedia> from my understanding the issue is my data is not being returned properly...so they have a method to format the results
[20:26:42] <primitivMedia> which is where I'm struggling
[20:26:47] <robertmaxrees> you need to paginate server-siode
[20:26:48] <robertmaxrees> *side
[20:27:02] <primitivMedia> there's an option if you can't do that no?
[20:27:15] <shoky_> how many results?
[20:27:23] <robertmaxrees> last night he said it was 50k
[20:27:35] <shoky_> then why not do it server-side
[20:27:40] <shoky_> primitivMedia ^
[20:27:45] <robertmaxrees> because programming is hard
[20:28:02] <shoky_> i'm sure he can find someone on ##php to do it for him :p
[20:28:11] <primitivMedia> what do you mean exactly by paginate on the server side
[20:28:21] <robertmaxrees> send a subset of results
[20:28:32] <primitivMedia> so not the whole data set but increments of 10 for example?
[20:28:42] <robertmaxrees> based on whatever criteria select2 is sending.
[20:28:59] <primitivMedia> so i need to tweak the select2 code?
[20:29:06] <robertmaxrees> no.
[20:29:15] <robertmaxrees> you need to read the docs to see how it's going to request the data.
[20:29:23] <robertmaxrees> and then setup your server to integrate with that.
[20:29:40] <robertmaxrees> there are probably guides on this sort of thing on the internet.  or ##php could point you in the right direction.
[20:29:48] <shoky_> primitivMedia: https://select2.org/data-sources/ajax#request-parameters
[20:30:17] <shoky_> your php is receiving params from select2 already, including "page"
[20:30:29] <primitivMedia> ys, exactly
[20:30:35] <primitivMedia> which is why my select2 code needs to change
[20:30:39] <robertmaxrees> no.
[20:30:40] <primitivMedia> its not done properly, correct?
[20:30:40] <shoky_> no, it doesn't
[20:30:46] <robertmaxrees> it's done properly.
[20:30:52] <robertmaxrees> never change a plugin or framework's code
[20:31:03] <primitivMedia> request parameters is showing me i need to add more code to select 2
[20:31:13] <robertmaxrees> why?
[20:31:16] <shoky_> primitivMedia: only if you don't read it
[20:31:20] <robertmaxrees> lol
[20:31:20] <shoky_> primitivMedia: read docs fully.
[20:31:26] <robertmaxrees> select2 is already doing what you need it to.
[20:31:28] <shoky_> primitivMedia: "Sometimes, you may need to add additional query parameters to the request. You can modify the parameters that are sent"
[20:31:53] <shoky_> primitivMedia: sometimes, meaning if you need something other than the default which is listed there.
[20:31:59] <shoky_> which you don't
[20:32:42] <shoky_> primitivMedia: don't just be blinded by the fact that they put a code example, and assume that you need to copy it
[20:32:48] <shoky_> read what it's actually for
[20:33:10] <robertmaxrees> but that's hard
[20:33:34] <primitivMedia> okay...
[20:33:35] <shoky_> gruesome
[20:33:56] <robertmaxrees> primitivMedia you understand that docs are often illustrative and not necessarily prescriptive, right?
[20:33:58] <primitivMedia> so its going to send the term, q, _type and page to my php file
[20:34:07] <robertmaxrees> basically.
[20:34:32] <primitivMedia> so how do i grab that then and then send back the data unless i dont have to do that
[20:35:04] <robertmaxrees> it sends it as apart of the ajax request.  look at the request server-side.
[20:35:50] <shoky_> primitivMedia: you grab params like you're already doing
[20:35:58] <shoky_> you're the php guy here :p
[20:36:05] <robertmaxrees> lol
[20:37:38] <shoky_> primitivMedia: oh hmm maybe you do need that 'data' option too
[20:37:47] <shoky_> https://select2.org/data-sources/ajax#pagination
[20:37:57] <shoky_> "To use pagination, you must tell Select2 to add any necessary pagination parameters to the request by overriding the ajax.data setting"
[20:38:24] <shoky_> but first do what robert suggested and look at the request params server-side to see if you're getting them
[20:39:31] <shoky_> you also need to add that pagination: { more: true }  to the result
[20:39:56] <shoky_> they even show an example of how to do that part client-side
[20:40:06] <shoky_> (but not the actual pagination)
[20:40:49] <primitivMedia> Uploaded file: https://uploads.kiwiirc.com/files/0a6ef98c6d6227a491d6ed0ce202a5c0/pasted.txt
[20:41:00] <primitivMedia> If your server-side code does not generate the pagination.more property in the response, you can use processResults to generate this value from other information that is available.
[20:41:19] <primitivMedia> is that not saying i wouldnt need to mess with my server code
[20:41:21] <shoky_> yes that's what i was just referring to
[20:41:28] <primitivMedia> but can instead manipulate the data received
[20:41:32] <primitivMedia> to match the format needed
[20:41:33] <shoky_> no, only for the {pagination: {more: true}} flag
[20:41:38] <primitivMedia> ah
[20:41:38] <shoky_> you don't need to add that server-side
[20:41:44] <shoky_> you still need to do the pagination server-side
[20:43:54] <shoky_> (easy to do with sql's LIMIT and OFFSET)
[20:45:19] <shoky_> e.g. if you have 10 results per page,  and select2 is requesting the 5th page,  you'd want  OFFSET (5*10) LIMIT 10   or something like that
[20:45:39] <primitivMedia> https://stackoverflow.com/questions/52106550/paginate-result-using-select-2-ajax-remote-data like this guy?
[20:46:14] <shoky_> i guess. don't really want to read that php in detail :p
[21:19:42] <primitivMedia> is it true that i cannot use the built in search function due to using remote data?
[21:24:10] <robertmaxrees> huh?
[21:25:04] <robertmaxrees> you just need to handle it correctly as part of the ajax call.
[21:26:51] <snatcher> what's the right way to iterate over jquery array elements as jquery objects?
[21:27:04] <robertmaxrees> snatcher "jquery array elements"???
[21:27:16] <robertmaxrees> you mean the result of $('.foo')?
[21:27:22] <snatcher> yes
[21:27:27] <robertmaxrees> that's just a jquery object.
[21:27:29] <robertmaxrees> and you use .each()
[21:27:48] <robertmaxrees> $('.foo').each(function() { $(this).text('bar') });
[21:27:58] <robertmaxrees> though in a lot of cases you don't actually need the .each()
[21:30:00] <robertmaxrees> make sense?
[21:32:06] <snatcher> is there a way without callback?
[21:32:14] <robertmaxrees> why?
[21:33:08] <robertmaxrees> snatcher strange to ask "what's the right way to do x?" and then say "is there another way?"
[21:33:31] <robertmaxrees> snatcher the right way is .each().  why doesn't that work for you?
[21:34:00] <snatcher> o = {}; for (const e of this.es) { o[e.prop('id')] = e.val(); }
[21:34:08] <robertmaxrees> don't to a for loop.
[21:34:12] <robertmaxrees> *do
[21:34:53] <robertmaxrees> iterators may walk the jquery object incorrectly.
[21:35:10] <robertmaxrees> why not just use .each()?
[21:36:41] <snatcher> because it looks ugly and creates additional callback scope?
[21:36:49] <robertmaxrees> uh.
[21:37:01] <shoky_> no it doesn't, and so what
[21:37:18] <robertmaxrees> the former is easily negated by abtracting the function and giving it a name, and who cares about callback scope?
[21:43:48] <snatcher> also each() still returns dom objects so need to convert them manually to jqeury objects with $(...) right?
[21:43:56] <robertmaxrees> you'd have to do that anyway.
[21:44:04] <robertmaxrees> :)
[21:44:11] <robertmaxrees> nothing wrong with that.
[21:45:33] <robertmaxrees> what use case are you dealing with?
[21:48:07] <snatcher> table filters previous/current state checking, need to store them in object in format "filter.id: filter.value"
[21:48:17] <robertmaxrees> you don't want each for that.
[21:48:19] <robertmaxrees> you want .map()
[21:48:56] <robertmaxrees> or a .filter(function).map(function).get() // last get converts the object to an array.
[21:49:07] <robertmaxrees> but do discrete steps - make your code much clearer.
[22:14:45] <primitivMedia> i tried fetching the term
[22:14:52] <primitivMedia> i dont think its working as it should
[22:14:56] <primitivMedia> shows me no results found now
[22:16:14] <primitivMedia> https://pastebin.com/XuWTYBhN
[22:16:18] <primitivMedia> i added the term params
[22:16:24] <primitivMedia> and am using get to retrieve it via php
[22:17:04] <robertmaxrees> so at what step in the process does it not work?
[22:19:23] <primitivMedia> its not working period
[22:19:32] <primitivMedia> i dont think my select code is sending term properly
[22:19:33] <robertmaxrees> so there's no request being sent to the server?
[22:19:42] <primitivMedia> there is
[22:19:48] <robertmaxrees> okay, so that step works.
[22:20:07] <robertmaxrees> there are a few discrete steps to consider here.
[22:20:30] <primitivMedia> oi tweaked my php to use like $$term% so that should work i just need to pass term to my ajax request
[22:20:31] <robertmaxrees> user types into box -> select2 requests data from server -> server returns data -> select2 does stuff with data.
[22:20:34] <primitivMedia> and it should search
[22:20:58] <robertmaxrees> so which part of the steps i noted above isn't working as you'd expect?
[22:23:34] <primitivMedia> the furst one i think
[22:23:49] <robertmaxrees> you just said the request is making it to your server.
[22:23:55] <primitivMedia> im adding console.og(data) after the callback
[22:23:59] <primitivMedia> to see if it even receives term
[22:24:11] <robertmaxrees> lol
[22:24:39] <primitivMedia> i do not think I'm passing term
[22:24:44] <primitivMedia> thats the issue
[22:24:49] <primitivMedia> it does it asutomatically right?
[22:24:57] <robertmaxrees> check server-side.
[22:25:12] <robertmaxrees> dump out the post object.  php's gotta have some way to send that out to your terminal or w/e
[22:25:35] <primitivMedia> is it get or post im supposed to use
[22:26:04] <robertmaxrees> i have no idea.  select2 will tell you.  alternatively, open your browser's dev tools, go to the network tab, type a thing, and see the request itself.
[22:26:06] <robertmaxrees> and then check there.
[22:27:37] <primitivMedia> so what do you want me to do
[22:27:42] <robertmaxrees> lmao
[22:27:42] <primitivMedia> i know select2 isnt passing term
[22:27:46] <robertmaxrees> i'm giving you options my guy.
[22:27:49] <primitivMedia> i cannot output any error within php
[22:27:51] <primitivMedia> term isnt defined
[22:27:59] <robertmaxrees> check the network request then.
[22:28:06] <primitivMedia> term isnt being passed!
[22:28:10] <primitivMedia> i know this is the issue...
[22:28:11] <robertmaxrees> how do you know?
[22:28:25] <primitivMedia> because it was working until i tried to grab the variable and use it in my sql statement
[22:28:29] <primitivMedia> if it was there it would work fine
[22:28:39] <robertmaxrees> so there's a whole lot of steps where that could break down.
[22:29:24] <robertmaxrees> important to be able to say "this is where the process is breaking down"
[22:33:19] <primitivMedia> $term = $_POST['term']; is the issue
[22:33:23] <primitivMedia> it causes no results to be found
[22:33:30] <primitivMedia> so i do nort think i am passing the term properly
[22:33:31] <primitivMedia> yet again
[22:33:32] <robertmaxrees> so check the network requests.
[22:33:40] <robertmaxrees> in your browser.
[22:33:43] <robertmaxrees> confirm it isn't being sent.
[22:34:05] <primitivMedia> fetch_emails.php?term=nicolas&_type=query&q=nicolas
[22:34:09] <primitivMedia> is what i get when i type nicolas
[22:34:20] <robertmaxrees> so then it IS getting sent.
[22:34:31] <robertmaxrees> just as a get request.
[22:34:37] <robertmaxrees> not as post body.
[22:34:58] <robertmaxrees> which makes sense.
[22:35:19] <robertmaxrees> so check the $_GET['term'] or w/e in php.
[22:35:24] <robertmaxrees> gotta go.  byeeee.
[22:37:53] <primitivMedia> okay thanks mate
[22:46:17] <primitivMedia> okay i got the search to work
[22:49:50] <primitivMedia> when it initially loads
[22:49:54] <primitivMedia> im having issues showing all data
[22:57:00] <snatcher> is there a something as/for (object as) assoc array in jquery?
[22:57:31] <primitivMedia> its able to search for results in my data list just fine
[22:57:38] <primitivMedia> but on load i cannot get it to show all records
[22:57:51] <primitivMedia> i thought doing if(!isset($term))
[22:57:58] <primitivMedia> but that doesnt work it seems to be set from the get go..
[23:18:40] <primitivMedia> is it even possible
